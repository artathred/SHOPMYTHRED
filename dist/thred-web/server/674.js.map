{"version":3,"sources":["./src/app/admin-view/admin-view.component.ts","./src/app/admin-view/admin-view.component.html","./src/app/admin-view/admin-view.module.ts","./src/app/cropper/cropper.component.ts","./src/app/cropper/cropper.component.html","./src/app/design/design.component.ts","./src/app/design/design.component.html","./src/app/edit-plan/edit-plan.component.ts","./src/app/edit-plan/edit-plan.component.html","./src/app/inventory-buy/inventory-buy.component.ts","./src/app/inventory-buy/inventory-buy.component.html","./src/app/inventory-list/inventory-list.component.ts","./src/app/inventory-list/inventory-list.component.html","./src/app/social-form/social-form.component.ts","./src/app/social-form/social-form.component.html","./src/app/store-setup/store-setup.component.ts","./src/app/store-setup/store-setup.component.html"],"names":[],"mappings":"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","file":"674.js","sourcesContent":["import { Component, OnInit, Inject, PLATFORM_ID, ChangeDetectorRef, ViewChild, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Title, Meta, DomSanitizer } from '@angular/platform-browser';\nimport { LoadService, Dict } from '../services/load.service';\nimport { AppComponent } from '../app.component';\nimport { Globals } from '../globals';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { ImageCroppedEvent, LoadedImage } from 'ngx-image-cropper';\nimport { NgbModal, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\nimport { CropperComponent } from '../cropper/cropper.component';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { Country } from '../models/shipping-country.model';\nimport { Product } from '../models/product.model';\nimport { DesignComponent } from '../design/design.component';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { SocialFormComponent } from '../social-form/social-form.component';\nimport { Inventory } from '../models/inventory.model';\nimport { Template } from '../models/template.model';\nimport { InventoryBuyComponent } from '../inventory-buy/inventory-buy.component';\nimport { EditPlanComponent } from '../edit-plan/edit-plan.component';\nimport { Clipboard } from '@angular/cdk/clipboard';\nimport { StoreSetupComponent } from '../store-setup/store-setup.component';\nimport { RoutingService } from '../services/routing.service';\n\n\n@Component({\n  selector: 'app-admin-view',\n  templateUrl: './admin-view.component.html',\n  styleUrls: ['./admin-view.component.css'],\n  animations: [\n    // Each unique animation requires its own trigger. The first argument of the trigger function is the name\n    trigger('rotatedState', [\n      state('default', style({ transform: 'rotateY(0)' })),\n      state('rotated', style({ transform: 'rotateY(-180deg)' })),\n      transition('rotated => default', animate('200ms ease-out')),\n      transition('default => rotated', animate('200ms ease-in'))\n    ])\n  ]\n})\nexport class AdminViewComponent implements OnInit, OnDestroy {\n  // @ViewChild(\"chart\") chart?: ChartComponent;\n\n  \n\nactiveAffiliates = new Array<{\n  affiliate: string,\n  timestamp: Date\n}>()\n\n\nitems: Array<Dict<any>> = []\nmiscItems: Array<Dict<any>> = []\nsignedIn = false\nbankInfo?: any\nsubInfo?: any\ncanTrial?: boolean = true\n\ninvTitle = 'SELL MORE'\n\n\nsocials(){\n  return Globals.socials\n}\n\ntoolTip(logo: {\n  name: string;\n  img: string;\n}){\n\n  let same = (this.userForm.controls.socials.value as Array<any>)?.filter(social => { return social.name == logo.name})\n\n\n  if (same && same.length !== 0){\n\n    return same[0]\n  }\n\n  return {\n    name: 'No ' + logo.name + ' URL set',\n    link: \"\",\n  }\n}\n\nshowSocialModal(logo: {\n  name: string;\n  img: string;\n}){\n\n  const modalRef = this.modalService.open(SocialFormComponent);\n\n  let same = (this.userForm.controls.socials.value as Array<any>)?.filter(social => { return social.name == logo.name})\n  var prefix = \"\"\n  if (logo.name.toLowerCase() == \"tiktok\"){\n    prefix = \"@\"\n  }\n  modalRef.componentInstance.socialForm.controls.link.setValue(logo.name.toLowerCase() + \".com/\" + prefix)\n\n  if (same && same.length !== 0){\n\n    modalRef.componentInstance.socialForm.controls.link.setValue(same[0].link)\n  }\n  modalRef.componentInstance.linkImg = logo.img\n  modalRef.componentInstance.name = logo.name\n\n  let sub = modalRef.dismissed.subscribe((url: string) => {\n    sub.unsubscribe()\n    let array = (this.userForm.controls.socials.value as Array<{\n      name: string,\n      link: string,\n    }>)\n    if (url != '0' && url != '' && url != 'undefined'){\n\n      let same = array?.filter(social => { return logo.name == social.name})\n\n      if (!same || (same.length == 0)){\n        if (array != undefined || array != null){\n          array.push({\n            name: logo.name,\n            link: url\n          })\n        }\n        else{\n          array = [{\n            name: logo.name,\n            link: url\n          }]\n        }\n        \n      }\n      else{\n        array[array.indexOf(same[0])].link = url\n      }\n    }\n    else{\n      array.forEach((element,index)=>{\n        if(element.name==logo.name) array.splice(index,1);\n     });\n    }\n    this.userForm.controls.socials.setValue(array)\n  })\n\n}\n\n\n  constructor(\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private loadService: LoadService,\n    private rootComponent: AppComponent,\n    private fb: FormBuilder,\n    private modalService: NgbModal,\n    private spinner: NgxSpinnerService,\n    private _router: Router,\n    private sanitizer: DomSanitizer,\n    private clipboard: Clipboard,\n    private routingService: RoutingService,\n\n  ) {\n      Globals.userInfo = undefined\n      Globals.selectedCurrency = undefined\n      Globals.themes = undefined\n      Globals.productsSold = undefined\n      Globals.views = undefined\n      Globals.dropCarts = undefined\n      Globals.billingInfo = undefined\n\n      // this.billingInfo().\n  }\n  ngOnDestroy(): void {\n    this.loadService.adminComponent = undefined\n  }\n\n  getBillingAddressThird(){\n    var address = this.billingInfo()?.street\n    var unit = this.billingInfo()?.unit\n    if (unit) address += \". \" + unit\n    return address\n  }\n\n  getBillingAddressFourth(){\n    return this.billingInfo()?.city + \", \" + this.billingInfo()?.admin_area + \". \" + this.billingInfo()?.postal\n  }\n\n\n  getBillingAddressSecond(){\n    var name = this.billingInfo()?.name\n    var company = this.billingInfo()?.company\n    if (company) name += \" - \" + company\n    return name\n  }\n\n  state: string = 'default';\n\n  organizeByMonth(set: Array<Dict<any>>, type: string){\n\n    var months = new Array<{\n      name: string,\n      value: number\n    }>()\n\n    //SPLIT SALES INTO SEPERATE ARRAYS BY YEAR\n\n    let sets = Array<Array<Dict<any>>>()\n\n      set.forEach((data) => {\n        let timestamp = data.timestamp as Date\n        let year = timestamp?.getFullYear()\n        var result = sets.find(obj => {\n          var years = obj.find(obj2 => {\n            return (obj2.timestamp as Date)?.getFullYear() == year\n          })\n          return years != undefined\n        })\n        if (result){\n          sets[sets.indexOf(result)].push(data)\n        }\n        else{\n          sets.push([data])\n        }\n      })\n\n    Globals.months.forEach((month) => {      \n\n      //IF MONTH AND YEAR ARE UNDEFINED FOR A GIVEN INTERVAL, PUT IN AN EMPTY FILLER VALUE OF 0\n\n      sets.forEach(s => {\n        var result = s.find(obj => {\n          return Globals.months[obj.timestamp?.getMonth()] == month\n        })\n\n        if (!result){\n\n          var time = s.find(obj => {\n            return obj.timestamp != undefined\n          })\n          var d = new Date(time?.timestamp?.getFullYear(), Globals.months.indexOf(month), 1)\n          if (type == \"Products Sold\"){\n            set.push(new ProductInCart(undefined, undefined, 0, undefined, d, undefined, undefined, 0))\n          }\n          else if (type == \"Gross Revenue\"){\n            set.push(new ProductInCart(undefined, undefined, 0, undefined, d, undefined, undefined, 0))\n          }\n          else if (type == \"Net Profit\"){\n            set.push(new ProductInCart(undefined, undefined, 0, undefined, d, undefined, undefined, 0))\n          }\n          else if (type == \"Onboarded Users (Affiliate)\"){\n            set.push({affiliate: \"\", timestamp: d})\n          }\n          else if (type == \"Affiliate Revenue\"){\n            set.push({affiliate: \"\", timestamp: d})\n          }\n          else if (type == \"Store Views\"){\n            set.push({views: 0, timestamp: d})\n          }\n          else if (type == \"Abandoned Carts\"){\n            set.push({dropCarts: 0, timestamp: d})\n          }\n        }\n      })\n    })\n\n    //SORT SALES BY TIMESTAMP\n\n    set.sort(function(a, b){\n      if(a.timestamp! < b.timestamp!) { return -1; }\n      if(a.timestamp! > b.timestamp!) { return 1; }\n      return 0;\n    })\n\n    //REMOVE EMPTY MONTHS THAT ARE IN THE FUTURE\n\n    set = set.filter(obj => {\n      return new Date() >= obj.timestamp!\n    })\n\n    //APPEND TO FINAL SERIES ARRAY\n\n    set.forEach((data) => {\n      let month = Globals.months[data.timestamp?.getMonth()].substring(0,3) + \" \" + data.timestamp!.getFullYear()\n      var result = months.find(obj => {\n        return obj?.name === month\n      })\n\n      let value = 0\n\n      if (type == \"Products Sold\"){\n        value = data.quantity ?? 0\n      }\n      else if (type == \"Gross Revenue\"){\n        value = data.product?.price ?? 0\n      }\n      else if (type == \"Net Profit\"){\n        value = data.profit ?? 0\n        if (isNaN(value)){\n          value = 0\n        }\n      }\n      else if (type == \"Onboarded Users (Affiliate)\"){\n        if (data.affiliate != \"\"){\n          value = 1\n        }\n      }\n      else if (type == \"Affiliate Revenue\"){\n        if (data.affiliate != \"\"){\n          value = 37 / 2\n        }\n      }\n      else if (type == \"Store Views\"){\n        value = data.views\n      }\n      else if (type == \"Abandoned Carts\"){\n        value = data.dropCarts\n      }\n\n      if (result){\n        months[months.indexOf(result)].value += value ?? 0\n      }\n      else{\n        months.push({\n          name: month,\n          value: value ?? 0\n        })\n      }\n    })\n\n    return months\n  }\n\n  formatPercent(val: string) {\n    \n\n    // var t = this as unknown as XAxisTicksComponent\n\n    // let series = t.ticks as Array<string>\n\n\n    // var result = series.filter(obj => {\n    //   return obj === val\n    // })[0]\n\n    // if (series.indexOf(result) == 0 || series.indexOf(result) == series.length - 1){\n    //   return val\n    // }\n\n    return \"\"\n  } \n\n  charts(onlyAffiliates = false){\n    if (onlyAffiliates){\n      return this.items.filter(item => { return item.name == \"Onboarded Users (Affiliate)\" || item.name == \"Affiliate Revenue\"}).sort(function(a, b){\n        if(a.index < b.index) { return -1; }\n        if(a.index > b.index) { return 1; }\n        return 0;\n      })\n    }\n    if (Globals.productsSold == undefined || Globals.newCustomers == undefined || Globals.dropCarts == undefined){\n      return []\n    }\n    let newItems = this.items.concat(this.miscItems)\n    return newItems.filter(item => { return !((item.name == \"Onboarded Users (Affiliate)\" || item.name == \"Affiliate Revenue\") && this.activeAffiliates.length == 0)}).sort(function(a, b){\n      if(a.index < b.index) { return -1; }\n      if(a.index > b.index) { return 1; }\n      return 0;\n    })\n  }\n\n\n  addMiscCharts(name: string, data_set: Array<Dict<any>>){\n\n\n    if (!(this.miscItems.some(e => e?.name === name))){\n      let set = this.organizeByMonth(data_set, name)\n  \n      var index = 0\n      if (name == \"Store Views\"){\n        index = 0\n      }\n      else if (name == \"Abandoned Carts\"){\n        index = 4\n      }\n\n      let item = {\n        name: name,\n        legend: true,\n        showLabels: true,\n        animations: true,\n        xAxis: true,\n        yAxis: true,\n        index: index,\n        showYAxisLabel:  true,\n        showXAxisLabel: true,\n        xAxisLabel: set[0]?.name + '  ➜  ' + \"TODAY\",\n        yAxisLabel:  'Population',\n        timeline: true,\n        shouldDisplay: set.length != 0,\n        customColors:[\n          { \n            name: name,\n            value: '#1ac6ff'\n          }\n        ],\n        series: [\n          {\n            \"name\": name,\n            \"series\": set\n          }\n        ]\n      }\n      this.miscItems.push(item)\n    }\n  }\n\n\n  addChart(name: string, data_set: Array<ProductInCart>){\n\n\n    if (!(this.items.some(e => e?.name === name))){\n      let set = this.organizeByMonth(data_set, name)\n\n  \n      var index = 0\n\n      if (name == \"Products Sold\"){\n        index = 2\n      }\n      else if (name == \"Gross Revenue\"){\n        index = 1\n      }\n      else if (name == \"Net Profit\"){\n        index = 3\n      }\n      else if (name == \"Onboarded Users (Affiliate)\" || name == \"Affiliate Revenue\"){\n        index = 4\n      }\n      else{\n        index = 5\n      }\n\n      let item = {\n        name: name,\n        legend: true,\n        showLabels: true,\n        animations: true,\n        xAxis: true,\n        yAxis: true,\n        index: index,\n        showYAxisLabel:  true,\n        showXAxisLabel: true,\n        xAxisLabel: set[0]?.name + '  ➜  ' + \"TODAY\",\n        yAxisLabel:  'Population',\n        timeline: true,\n        shouldDisplay: set.length != 0,\n        customColors:[\n          { \n            name: name,\n            value: '#1ac6ff'\n          }\n        ],\n        series: [\n          {\n            \"name\": name,\n            \"series\": set\n          }\n        ]\n      }\n      this.items.push(item)\n    }\n  }\n\n  loaders(){\n\n    return Globals.loaders\n  }\n\n\n\n  storeInfo(){return Globals.storeInfo}\n\n  userInfo(){return Globals.userInfo}\n\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n  templates(){return Globals.templates}\n\n  availableTemplates(){return Globals.availableTemplates}\n\n\n  themes(){return Globals.themes}\n\n  fonts(){return Globals.fonts}\n\n  panels = [\n    {\n      Category: \"DASHBOARD\",\n      Options: [\n        {\n          \"Title\": \"ANALYTICS\",\n          \"Icon\": \"trending_up\",\n          \"Active\": false\n        },\n      ]\n    },  \n    {\n      Category: \"MANAGE\",\n      Options: [\n        {\n          \"Title\": \"STORE\",\n          \"Icon\": \"shopping_bag\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"PRODUCTS\",\n          \"Icon\": \"brush\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"INVENTORY\",\n          \"Icon\": \"local_shipping\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"PROFILE\",\n          \"Icon\": \"person_outline\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"AFFILIATE\",\n          \"Icon\": \"local_atm\",\n          \"Active\": false\n        },\n      ]\n    },\n    {\n      Category: \"SETTINGS\",\n      Options: [\n        {\n          \"Title\": \"BILLING\",\n          \"Icon\": \"credit_card\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"PLAN\",\n          \"Icon\": \"work\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"PAYMENTS\",\n          \"Icon\": \"monetization_on\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"SECURITY\",\n          \"Icon\": \"admin_panel_settings\",\n          \"Active\": false\n        },\n      ]\n    },\n    {\n      Category: \"OTHER\",\n      Options: [\n        {\n          \"Title\": \"PRIVACY\",\n          \"Icon\": \"vpn_lock\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"LEGAL\",\n          \"Icon\": \"sticky_note_2\",\n          \"Active\": false\n        },\n        {\n          \"Title\": \"QUESTIONS\",\n          \"Icon\": \"contact_support\",\n          \"Active\": false\n        },\n      ]\n    },\n  ]\n\n  shouldRed(panel: any){\n    if (panel.Title == \"BILLING\"){\n      if (Globals.billingInfo?.number == \"\"){\n        return true\n      }\n    }\n    else if (panel.Title == \"PAYMENTS\"){\n      if (this.bankInfo == undefined){\n        return true\n      }\n    }\n    else if (panel.Title == \"PLAN\"){\n      if (this.subInfo == undefined){\n        \n        return true\n      }\n    }\n    else if (panel.Title == \"PRODUCTS\"){\n      if (this.storeProducts?.length == 0){\n        return true\n      }\n    }\n    return false\n  }\n\n\n  getBillingAddressFirst(){\n    var name = Globals.billingInfo?.brand + \" ending in \" + Globals.billingInfo?.number\n\n    return name\n  }\n\n\n  defaultBio = \"\"\n  color = \"\"\n  bg_color = \"\"\n  inventory?: Array<Inventory>\n\n  selectedIndicator(){\n    \n\n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n\n    let color = this.storeForm.controls.loadingIndicatorColor.value as string ?? \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n    let bg_color = this.storeForm.controls.loadingIndicatorBgColor.value as string ?? \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    let indicator: Dict<string> = {\n      \"name\": this.storeForm.controls.loadingIndicator.value ?? name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  \n\n  getTypeImages(templateName: string) {\n\n    let template = Globals.templates.filter(obj => {\n      return obj.templateDisplayName == templateName\n    })[0]\n\n    var len = template.colors.filter(obj => {\n      return obj.code == \"black\"\n    })\n    var img: any\n    if (len.length == 0){\n      img = template.colors.filter(obj => {\n        return obj.code == \"white\"\n      })[0].img\n    }\n    else{\n      img = len[0].img\n    }\n    return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + img)\n  }\n\n  buyMore(inventory: Inventory){\n    const modalRef = this.modalService.open(InventoryBuyComponent, {size : \"lg\"});\n    modalRef.componentInstance.inventory = inventory\n\n\n\n    let sub = modalRef.dismissed.subscribe((inv?: Inventory) => {\n      sub.unsubscribe()\n      if (inv){\n        let same = this.inventory?.filter(i => { i.id == inv.id})[0]\n        if (same){\n          same.amount = inv.amount\n        }\n      }\n    })\n  }\n\n  checkBilling(){\n    if (Globals.billingInfo?.number && Globals.billingInfo?.number != \"\"){\n      \n      return true\n\n    }\n    else{\n      var sec = 0\n      var ind = 0\n      this.panels.forEach((panel, section) => {\n        panel.Options.forEach((option, index) => {\n          if (option.Title == 'BILLING'){\n            sec = section\n            ind = index\n            return\n          }\n        });\n      });\n      this.selectSetting(ind, sec)\n      return false\n    }\n  }\n\n\n  storeLive(){\n\n    return (this.storeProducts?.length ?? 0) != 0 && Globals.billingInfo?.number && this.bankInfo && this.subInfo\n  }\n\n  buyNewInventory(template: Template){\n\n    if (this.checkBilling()){\n      const modalRef = this.modalService.open(InventoryBuyComponent, {size : \"lg\"});\n      modalRef.componentInstance.template = template\n  \n  \n      let sub = modalRef.dismissed.subscribe((inv?: Inventory) => {\n        sub.unsubscribe()\n        if (inv){\n          this.inventory?.unshift(inv)\n        }\n      })\n    }\n  }\n\n  missingInfo(){\n    var array = Array<string>()\n\n    if (Globals.billingInfo?.number == \"\"){\n      array.push(\"Add your billing method\")\n    }\n    if (this.subInfo == undefined){\n      array.push(\"Start your Thred Merchant plan\")\n    }\n    if (this.bankInfo == undefined){\n      array.push(\"Set up your merchant payments account\")\n    }\n    if ((this.storeProducts?.length ?? 0) == 0){\n      array.push(\"Create your first product\")\n    }\n    return array\n  }\n\n  removeAutoReload(inventory: Inventory){\n    this.loadService.removeAutoReload((inventory), success => {\n      if (success){\n        inventory.autoReload = false\n        this.toast(\"Auto-Reload for \" + inventory.name.toLowerCase() + \" removed\")\n      }\n    })\n  }\n\n  setUpAutoReload(inventory: Inventory){\n    if (this.checkBilling()){\n      this.loadService.setAutoReload((inventory), success => {\n        if (success){\n          inventory.autoReload = true\n          this.toast(\"Auto-Reload for \" + inventory.name.toLowerCase() + \" set\")\n        }\n      })\n    }\n  }\n\n\n  getInventory(){\n    if (this.inventory != undefined) return\n    this.inventory = []\n    this.loadService.getInventory(inventory => {\n      this.inventory = inventory\n      if (inventory.length == 0){\n        this.invTitle = 'INCREASE PROFIT'\n      }\n      this.cdr.detectChanges()\n    })\n  }\n\n  hasInventory(template: Template){\n    return (this.inventory?.filter(obj => { return template.productCode == obj.code })?.length ?? 0) > 0\n  }\n\n  availableToBuyTemplates(){\n    return this.templates()?.filter(template => { return !this.hasInventory(template)})\n  }\n\n  matchInventory(template: Template){\n    return (this.inventory?.filter(obj => { return template.productCode == obj.code }))![0]\n  }\n\n  totalElement(series: Array<Dict<any>>){\n\n    var total = 0\n    series.forEach(item => {\n      total += item.value as number\n    })\n    return total\n  }\n\n  formatGraphElement(element: number, name: string){\n\n    if (name == \"Gross Revenue\" || name == \"Net Profit\" || name == \"Affiliate Revenue\"){\n      return this.formatPrice(element)\n    }\n    return element\n  }\n\n  formatPrice(price: number, short = false){\n    var priceAsString = new String(Number((price * (Globals.selectedCurrency?.rate ?? 1)).toFixed(2)).toLocaleString('en'))\n    if (!short){\n      priceAsString = new String(Number((price * (Globals.selectedCurrency?.rate ?? 1)).toFixed(2)))\n    }\n    let index = priceAsString.indexOf(\".\")\n    \n    switch (index){\n      case priceAsString.length - 1:\n          priceAsString += \"00\"\n          break\n      case -1:\n          priceAsString += \".00\"\n          break\n      case priceAsString.length - 2:\n          priceAsString += \"0\"\n          break\n      default:\n  \n          break\n    }\n    return this.getCurrencyForCountry(Globals.selectedCurrency?.name != \"US\", Globals.selectedCurrency) + priceAsString\n}\n  \ngetCurrencyForCountry(shouldShowName: boolean, country?: Country){\n\n  var returnItem = country?.currency_symbol ?? \"$\"\n  if (shouldShowName) returnItem = country?.name + \" \" + returnItem\n\n  return returnItem\n}\n\n\n\n\nisSpinning = false\n\n    showSpinner(duration = 2000){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show(\"adminSpinner\")\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide(\"adminSpinner\")\n        }, duration);\n      }\n    }\n\n    showSampleSpinner(duration = 1500){\n      this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show(\"sampleSpinner\")\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide(\"sampleSpinner\")\n        }, duration);\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n  theme = 'Light'\n\n  userForm = this.fb.group({\n    username: [null, Validators.required],\n    full_name: [null, Validators.required],\n    bio: [null],\n    profile_pic: [null],\n    custom_url: [null],\n    socials: new Array<{\n      name: string,\n      link: string,\n    }>(),\n  });\n\n  storeForm = this.fb.group({\n    slogan: [null, Validators.required],\n    loadingIndicator: [null, Validators.required],\n    loadingIndicatorColor: [null, Validators.required],\n    loadingIndicatorBgColor: [null, Validators.required],\n    themeImg: [null],\n    homeImg: [null],\n    actionImg: [null],\n    storeTheme: [null, Validators.required],\n    font: [null, Validators.required]\n  });\n\n  changeEmailForm = this.fb.group({\n    newEmail: [null, Validators.required],\n    password: [null, Validators.required],\n  });\n\n  changePassForm = this.fb.group({\n    password: [null, Validators.required],\n    newPassword: [null, Validators.required],\n    confirmNewPassword: [null, Validators.required],\n  });\n  \n  getSelectedPanel(){\n    let selected = this.panels.filter(panel => panel.Options?.filter(option => option.Active).length != 0)[0]?.Options.filter(option => option?.Active)[0]\n    return selected\n  }\n\n  setForm(){\n\n    this.userForm.controls.username.setValue(Globals.userInfo?.username ?? \"\")\n    this.userForm.controls.full_name.setValue(Globals.userInfo?.fullName ?? \"\")\n    this.userForm.controls.bio.setValue(Globals.userInfo?.bio ?? \"\")\n\n\n    this.storeForm.controls.slogan.setValue(Globals.userInfo?.slogan ?? \"\")\n    this.storeForm.controls.loadingIndicator.setValue(Globals.userInfo?.loading?.name ?? \"\")\n\n    this.storeForm.controls.themeImg.setValue(Globals.userInfo?.themeLink?.toString())\n    this.storeForm.controls.homeImg.setValue(Globals.userInfo?.homeLink?.toString())\n    this.storeForm.controls.actionImg.setValue(Globals.userInfo?.actionLink?.toString())\n\n    this.storeForm.controls.font.setValue(Globals.userInfo?.fontName)\n\n\n    this.userForm.controls.socials.setValue(Globals.userInfo?.socials)\n\n    this.userForm.controls.custom_url.setValue(Globals.userInfo?.customURL?.fullURL())\n\n\n    this.storeForm.controls.storeTheme.setValue(Globals.userInfo?.colorStyle?.name.toString())\n    this.theme = Globals.userInfo?.colorStyle?.name.toString() ?? 'Light'\n\n\n    let co = Globals.userInfo?.loading?.color\n    let bco = Globals.userInfo?.loading?.bg_color\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    this.storeForm.controls.loadingIndicatorColor.setValue(color ?? [])\n    this.storeForm.controls.loadingIndicatorBgColor.setValue(bg_color ?? [])\n\n\n  }\n\n  isBase64(str: string) {\n    try {\n        return btoa(atob(str)) == str;\n    } catch (err) {\n        return false;\n    }\n  }\n\n  selectColor(value: string, isPrimary: boolean){\n\n      if (isPrimary){\n        this.storeForm.controls.loadingIndicatorColor.setValue(value ?? [])\n      }\n      else{\n        this.storeForm.controls.loadingIndicatorBgColor.setValue(value ?? [])\n      }\n\n      this.showSampleSpinner(2000)\n\n  }\n\n\n    fileChangeEvent(event: any, type = \"Profile\"): void {\n        const modalRef = this.modalService.open(CropperComponent, {size : \"lg\"});\n        modalRef.componentInstance.imageChangedEvent = event\n\n\n\n        if (type == \"Profile\"){\n          modalRef.componentInstance.ratio = 1\n          modalRef.componentInstance.width = 200\n          modalRef.componentInstance.height = 200\n\n          let sub = modalRef.dismissed.subscribe((img: string) => {\n            sub.unsubscribe()\n            if (img != '0'){\n              this.userForm.controls.profile_pic.setValue(img)\n            }\n          })\n        }\n        else if (type == \"Background\"){\n          modalRef.componentInstance.ratio = 1.78\n          modalRef.componentInstance.width = 2560\n          modalRef.componentInstance.height = 1440\n\n          let sub = modalRef.dismissed.subscribe((img: string) => {\n            sub.unsubscribe()\n            if (img != '0'){\n              this.storeForm.controls.themeImg.setValue(img)\n            }\n          })\n        }\n        else if (type == \"Promotion\"){\n          modalRef.componentInstance.ratio = 1.78\n          modalRef.componentInstance.width = 2560\n          modalRef.componentInstance.height = 1440\n\n          let sub = modalRef.dismissed.subscribe((img: string) => {\n            sub.unsubscribe()\n            if (img != '0'){\n              this.storeForm.controls.homeImg.setValue(img)\n            }\n          })\n        }\n        else if (type == \"Action\"){\n          modalRef.componentInstance.ratio = 1.78\n          modalRef.componentInstance.width = 2560\n          modalRef.componentInstance.height = 1440\n\n          let sub = modalRef.dismissed.subscribe((img: string) => {\n            sub.unsubscribe()\n            if (img != '0'){\n              this.storeForm.controls.actionImg.setValue(img)\n            }\n          })\n        }\n    }\n    \n\n    \n\n  getImgSrc(){\n    \n    if (this.userForm.controls.profile_pic.value){\n      return this.userForm.controls.profile_pic.value\n    }\n    return this.userInfo()?.profileLink\n  }\n\n  getUsername(){\n    \n    if (this.userForm.controls.full_name.value){\n      return this.userForm.controls.full_name.value\n    }\n    return this.userInfo()?.fullName ?? \"Brian's Tees\"\n  }\n\n  saveProfile(){\n\n    if (this.userForm.valid){\n      var data = {\n        username: this.userForm.controls.username.value,\n        full_name: this.userForm.controls.full_name.value,\n        bio: this.userForm.controls.bio.value,\n        socials: this.userForm.controls.socials.value,\n        custom_url: this.userForm.controls.custom_url.value.trim(),\n        profile_pic: this.userForm.controls.profile_pic.value\n      }\n      this.loadService.checkUsername(data.username, err => {\n        if (err){\n          this.toast(\"A store with this name already exists!\")\n        }\n        else{\n          this.loadService.checkURL(data.custom_url, error => {\n            if (error){\n              this.toast(error)\n            }\n            else{\n              this.loadService.myCallback = () => this.toast(\"Profile Information Updated!\")\n              this.loadService.saveUser(data)\n            }\n          })\n        }\n      }, Globals.userInfo?.uid)\n    }\n    else{\n      this.toast(\"One or more fields are invalid!\")\n    }\n  }\n\n  savePassword(){\n\n    if (this.changePassForm.valid){\n      if (this.changePassForm.controls.password.value != this.changePassForm.controls.confirmNewPassword.value){\n        \n        return\n      }\n\n      let data = {\n        password: this.changePassForm.controls.password.value,\n        newPassword: this.changePassForm.controls.newPassword.value,\n      }\n      this.loadService.savePassword(data, success => {\n        this.changePassForm.controls.password.setValue(undefined)\n        this.changePassForm.controls.newPassword.setValue(undefined)\n        if (success){\n          this.toast(\"Password Updated!\")\n        }\n        else{\n          this.toast(\"Error! Something went wrong.\")\n        }\n      })\n    }\n    else{\n\n    }\n  }\n\n  show: boolean = false;\n\n\n  password() {\n    this.show = !this.show;\n  }\n\n  saveEmail(){\n\n    if (this.changeEmailForm.valid){\n\n      let data = {\n        password: this.changeEmailForm.controls.password.value,\n        newEmail: this.changeEmailForm.controls.newEmail.value,\n      }\n      this.loadService.saveEmail(data, success => {\n        this.changeEmailForm.controls.password.setValue(undefined)\n        this.changeEmailForm.controls.newEmail.setValue(undefined)\n        if (success){\n          this.toast(\"Email Updated!\")\n        }\n        else{\n          this.toast(\"Error! Something went wrong.\")\n        }\n      })\n    }\n    else{\n\n    }\n  }\n\n  joinColor(color: string){\n\n    let c = color.replace(\"rgb\", \"\").replace(\"a\", \"\").replace(\"(\", \"\").replace(\")\", \"\").split(\",\")\n    var returnArr = new Array<string>()\n    c.forEach(element => {\n      returnArr.push(element.trim())\n    });\n\n    if (returnArr.length < 4){\n      for (let i = 0; i < (4 - returnArr.length); i++) {\n          returnArr.push(\"1\")\n      }\n    }\n\n    return returnArr.join(\",\")\n  }\n\n  numToColor(color: Array<number>){\n\n    var returnArr = new Array<string>()\n\n    color.forEach(color => {\n      returnArr.push(color.toString())\n    })\n\n    return returnArr.join(\",\")\n  }\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n  selectTheme(){\n    this.theme = this.storeForm.controls.storeTheme.value\n  }\n\n  async saveStore(){\n\n    if (this.storeForm.valid){\n\n      var color = this.joinColor(this.storeForm.controls.loadingIndicatorColor.value)\n      var bg_color = this.joinColor(this.storeForm.controls.loadingIndicatorBgColor.value)\n\n\n      \n\n  \n\n\n      var data: Dict<any> = {\n        slogan: this.storeForm.controls.slogan.value,\n        indicator: {\n          name: this.storeForm.controls.loadingIndicator.value,\n          color: color,\n          bg_color: bg_color\n        },\n        loadingIndicatorColor: color,\n        loadingIndicatorBgColor: bg_color,\n        font: this.storeForm.controls.font.value\n      }\n\n      var selectedTheme = this.storeForm.controls.storeTheme.value as string\n\n      let matchingTheme = this.themes()?.filter(theme => theme?.name == selectedTheme)[0]\n\n      if (matchingTheme){\n        var color = this.numToColor(matchingTheme.btn_color)\n        var bg_color = this.numToColor(matchingTheme.bg_color)\n\n        data.theme = {\n          back_code: matchingTheme.back_code,\n          text_code: matchingTheme.text_code,\n          bg_color: bg_color,\n          btn_color: color,\n          name: matchingTheme?.name\n        }\n      }\n\n    \n\n      var images = new Array<Dict<string>>()\n      if (this.storeForm.controls.themeImg.value && this.isBase64(this.storeForm.controls.themeImg.value.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''))){\n          images.push({\n            \"type\" : \"theme\",\n            \"img\" : this.storeForm.controls.themeImg.value\n          })\n      }\n      if (this.storeForm.controls.homeImg.value && this.isBase64(this.storeForm.controls.homeImg.value.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''))){\n        images.push({\n          \"type\" : \"home\",\n          \"img\" : this.storeForm.controls.homeImg.value\n        })\n      }\n      if (this.storeForm.controls.actionImg.value && this.isBase64(this.storeForm.controls.actionImg.value.replace(/^[\\w\\d;:\\/]+base64\\,/g, ''))){\n        images.push({\n          \"type\" : \"action\",\n          \"img\" : this.storeForm.controls.actionImg.value\n        })\n      }\n\n      data.images = images\n\n\n      this.loadService.myCallback = () => this.toast(\"Store Settings Updated!\")\n      await this.loadService.saveStore(data)\n    }\n    else{\n\n    }\n  }\n\n  toast(message: string){\n\n    this.loadService.openSnackBar(message)\n\n  }\n\n  isMobile(){\n    if (isPlatformBrowser(this.platformID)){\n      let height = window.innerHeight\n      let width = window.innerWidth\n      return width < height\n    }\n    return false\n  }\n\n  async selectSetting(index: number, section: number){\n\n    if (section == 3){\n      var urlLink = \"\"\n      if (index == 0 || index == 1){\n        urlLink = \"https://thredapps.com/privacy-policy\"\n      }\n      else if (index == 2){\n        urlLink = \"https://thredapps.com/customer-support\"\n      }\n      const link = document.createElement('a');\n          link.target = '_blank';\n  \n          let url: string = '';\n          if (!/^http[s]?:\\/\\//.test(urlLink)) {\n            url += 'http://';\n          }\n      \n          url += urlLink\n      \n          link.href = url\n          this.spinner.hide(\"adminSpinner\")\n  \n          link.setAttribute('visibility', 'hidden')\n          link.click()\n          link.remove()\n\n      return\n    }\n\n    if (this.isMobile()){\n      this.classApplied = false\n    }\n\n    this.panels.forEach(panel => {\n      panel.Options.forEach(option => {\n        option.Active = false\n      });\n    });\n    let user = await this.loadService.isLoggedIn()\n    if (this.panels[section].Options[index].Title == \"ANALYTICS\" && user?.uid && !user?.isAnonymous){\n      this.getMiscStats()\n    }\n    else if (this.panels[section].Options[index].Title == \"AFFILIATE\" && user?.uid && !user?.isAnonymous){\n      this.getAffiliateStats(true)\n    }\n    this.panels[section].Options[index].Active = true\n    this.cdr.detectChanges()\n  }\n\n  copyAffiliateURL(){\n    this.toast(\"Affiliate link copied to clipboard!\")\n    var host = 'shopmythred.com'\n\n    this.clipboard.copy(host + \"/?affiliate=\" + this.storeInfo().uid);\n  }\n\n  getSoldProducts(){\n\n    if (Globals.productsSold == undefined){\n      this.loadService.saleCallback = () => this.getSoldProducts()\n      this.loadService.getSoldProducts(this.storeInfo()?.uid)\n    }\n    else{\n\n      let data = [\n        \"Products Sold\",\n        \"Gross Revenue\",\n        \"Net Profit\"\n      ]\n      data.forEach(d => {\n        this.addChart(d, Globals.productsSold!)\n      })\n      this.getAffiliateStats()\n    }\n  }\n\n  async getAffiliateStats(showEmpty = false){\n\n    if (this.activeAffiliates.length == 0){\n      this.loadService.miscCallback = () => this.getMiscStats()\n      let user = await this.loadService.isLoggedIn()\n      this.loadService.getAffiliateStats(user?.uid!, affiliates => {\n        this.activeAffiliates = affiliates\n\n        if (affiliates.length != 0 || showEmpty){\n          let data = [\n            \"Onboarded Users (Affiliate)\",\n            \"Affiliate Revenue\",\n          ]\n          data.forEach(d => {\n            this.addChart(d, this.activeAffiliates)\n          })\n        }\n      })\n    }\n  }\n\n  async getMiscStats(){\n\n    if (Globals.views == undefined && Globals.dropCarts == undefined){\n      this.loadService.miscCallback = () => this.getMiscStats()\n      let user = await this.loadService.isLoggedIn()\n\n      this.loadService.getMiscStats(user?.uid!)\n    }\n    else{\n\n      let data = [\n        {\n        name: \"Store Views\",\n        series: Globals.views\n        },\n        {\n        name: \"Abandoned Carts\",\n        series: Globals.dropCarts\n        }\n      ]\n\n      data.forEach(d => {\n        this.addMiscCharts(d?.name, d?.series?? [])\n      })\n      this.getSoldProducts()\n    }\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  classApplied = false;\n\n  toggleSidebar() {\n    \n\n    this.classApplied = !this.classApplied;\n\n    if (this.classApplied){\n      this.state ='rotated'\n    }\n    else{\n      this.state = 'default'\n    }\n    \n  }\n\n  storeBio(){\n    let bio = this.storeInfo().bio\n\n    if (bio == \"\" || bio == undefined){\n      return this.defaultBio.replace(/FULL9NAME/g, this.storeInfo().fullName?.trim() ?? \"This brand\")\n    }\n    return bio.replace(/\\n/g, \"<br>\") ?? \"\";\n  }\n\n  planEndDate(){\n    return new Date(this.subInfo.cancel_at * 1000).toDateString();\n  }\n\n    ngOnInit(): void {\n      this.loadService.adminComponent = this\n      this.init()\n    }\n\n    showWelcomeModal(){\n\n      if (Globals.isNewUser){\n        const modalRef = this.modalService.open(StoreSetupComponent, {size : \"lg\"});\n        // modalRef.componentInstance.canTrial = this.canTrial\n  \n        let sub = modalRef.dismissed.subscribe((subInfo?: any) => {\n          sub.unsubscribe()\n          // if (subInfo){\n          //   this.subInfo = subInfo\n          // }\n          if (this.checkBilling()){}\n      })\n      }\n    }\n\n\n    routeToProduct(productID: string){\n      this.rootComponent.routeToProduct(productID)\n    }\n\n    startSubscription(){\n\n      if (Globals.billingInfo?.number && Globals.billingInfo?.number != \"\"){\n        var sec = 0\n        var ind = 0\n\n        if (this.getSelectedPanel().Title != \"PLAN\"){\n          this.panels.forEach((panel, section) => {\n            panel.Options.forEach((option, index) => {\n              if (option.Title == 'PLAN'){\n                sec = section\n                ind = index\n              }\n            });\n          });\n          this.selectSetting(ind, sec)\n        }\n        \n        const modalRef = this.modalService.open(EditPlanComponent, {size : \"lg\"});\n        modalRef.componentInstance.canTrial = this.canTrial\n  \n        let sub = modalRef.dismissed.subscribe((subInfo?: any) => {\n          sub.unsubscribe()\n          if (subInfo){\n            this.subInfo = subInfo\n          }\n        })\n      }\n      else{\n        var sec = 0\n        var ind = 0\n        this.panels.forEach((panel, section) => {\n          panel.Options.forEach((option, index) => {\n            if (option.Title == 'BILLING'){\n              sec = section\n              ind = index\n              return\n            }\n          });\n        });\n        this.selectSetting(ind, sec)\n      }\n    }\n\n    editSubscription(subInfo: any){\n      const modalRef = this.modalService.open(EditPlanComponent, {size : \"lg\"});\n      modalRef.componentInstance.subInfo = subInfo\n  \n      let sub = modalRef.dismissed.subscribe((subInfo?: any) => {\n        sub.unsubscribe()\n        if (subInfo){\n          this.subInfo = subInfo\n        }\n      })\n    }\n    \n    storeProducts?: Array<Product> = undefined\n  \n    async callback(){\n      if (Globals.storeInfo.username){\n        this.showSpinner()\n        this.rootComponent.setOptions()\n        this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n\n        this.addTags(Globals.storeInfo.fullName ?? \"Thred\", (Globals.storeInfo.profileLink ?? new URL(\"https://shopmythred.com\")).toString(), Globals.storeInfo.bio ?? \"Check out my Thred Store!\", \"shopmythred.com/\" + Globals.storeInfo.username)\n\n        if (isPlatformBrowser(this.platformID)){\n\n  \n          if (this.signedIn){\n            \n            if (Globals.userInfo == undefined && isPlatformBrowser(this.platformID)){\n              this.loadService.getCustomer()\n            }\n            else if (Globals.selectedCurrency == undefined){\n              this.loadService.getCountries()\n            }\n            else if (Globals.themes == undefined){\n              this.loadService.getThemes()\n            }\n            else if (Globals.templates.length == 0 && isPlatformBrowser(this.platformID)){\n              this.loadService.getTemplates()\n            }\n            else if (this.storeProducts == undefined){\n              this.loadService.getPosts(products => {\n                this.storeProducts = products\n              })\n            }\n            if (Globals.billingInfo == undefined){\n              this.loadService.getAllBillingInfo()\n            }\n            else{\n              Globals.storeInfo = JSON.parse(JSON.stringify(Globals.userInfo))\n              this.routingService.routeToProfile(this.getStoreName().link, this.getStoreName().isCustom)\n              this.getInventory()\n              this.hideSpinner()\n              this.setForm()\n              this.showWelcomeModal()\n              this.cdr.detectChanges()\n            }\n          }\n          else{\n            this.spinner.hide(\"adminSpinner\")\n            this.rootComponent.accountPressed()\n          }\n        }\n      }\n      else{\n        this.routingService.routeTo404(this.getStoreName().isCustom)\n      }\n    }\n\n    planStatus(){\n      if (this.subInfo?.plan.id == \"price_1JmgQyIdY1nzc70NXgzC1vCN\"){\n        return \"Thred Core Plan\"\n      }\n      return \"\"\n    }\n\n    planRenewalDate(){\n      return new Date(this.subInfo.current_period_end * 1000).toDateString();\n    }\n\n    billingInfo(){\n      return Globals.billingInfo\n    }\n\n    beginBankAdd(){\n      this.spinner.show(\"adminSpinner\")\n      this.loadService.beginBankAdd((urlLink: string) => {\n        const link = document.createElement('a');\n        link.target = '_blank';\n\n        let url: string = '';\n        if (!/^http[s]?:\\/\\//.test(urlLink)) {\n          url += 'http://';\n        }\n    \n        url += urlLink\n    \n        link.href = url\n        this.spinner.hide(\"adminSpinner\")\n\n        link.setAttribute('visibility', 'hidden')\n        link.click()\n        link.remove()\n      })\n    }\n\n\n    routeToBillingAdmin(){\n      this.rootComponent.routeToBillingAdmin()\n    }\n        \n    \n    async init() {\n  \n      let user = (await this.loadService.isLoggedIn())\n      let uid = user?.uid\n      let isAnon = user?.isAnonymous ?? false\n  \n      this.signedIn = uid != undefined && !isAnon\n\n      if (!this.bankInfo){\n        this.loadService.getBankInfo(async (bankInfo: any) => {\n          this.bankInfo = bankInfo\n          this.cdr.detectChanges()\n        })\n      }\n      if (!this.subInfo){\n        this.loadService.getSubInfo(async (subInfo: any, canTrial?: boolean) => {\n          this.subInfo = subInfo\n          this.canTrial = canTrial\n          this.cdr.detectChanges()\n        })\n      }\n      \n      this.router.queryParams\n      .subscribe(params => {\n\n        let selected = params.selected as string\n\n        let s = selected?.toUpperCase()\n\n        var sec = 0\n        var ind = 0\n\n        if (selected == undefined) {\n          if (this.panels.filter(panel => { return panel.Options.filter(option => { return option.Active}).length > 0}).length == 0){\n            this.selectSetting(ind, sec)\n          }\n        }\n        this.panels.forEach((panel, section) => {\n          panel.Options.forEach((option, index) => {\n            if (option.Title == s){\n              sec = section\n              ind = index\n              return\n            }\n          });\n        });\n        if (selected != undefined){\n          this.selectSetting(ind, sec)\n        }\n      }\n    );\n\n    const storeInfo = this.getStoreName()\n    this.downloadAllStoreInfo(storeInfo.link, storeInfo.isCustom)\n      \n      if (this.classApplied){\n        this.state ='rotated'\n  \n      }\n      else{\n        this.state = 'default'\n      }\n\n      \n  \n    }\n\n\n    downloadAllStoreInfo(storeName: string, isCustom = false){\n      this.loadService.myCallback = () => this.callback()\n      this.loadService.getUser(storeName, undefined, isCustom)\n    }\n  \n    getStoreName(){\n      var request = \"\"\n      if (isPlatformServer(this.platformID)){\n        request = Globals.URL\n      }\n      else{\n        request = globalThis.location.host\n      }  \n      if (request != 'localhost:4200' && request != 'shopmythred.com'){\n        return {\n          isCustom: true,\n          link: request\n        }\n      }\n      const routeParams = this.router.snapshot.paramMap;\n      const storeID = routeParams.get('user') as string;\n      return {\n        isCustom: false,\n        link: storeID\n      }\n    }\n\n    async deleteProduct(product: Product){\n     await this.loadService.deleteProduct({productID : product.productID})\n     this.toast(\"Product Removed\")\n    }\n    \n\n    editProduct(product: Product){\n      let ngbModalOptions: NgbModalOptions = {\n        backdrop : 'static',\n        keyboard : false,\n        size : \"xl\"\n      };\n      const modalRef = this.modalService.open(DesignComponent, ngbModalOptions);\n      modalRef.componentInstance.templates = this.templates().filter(template => { return !template.onlyBulk || this.inventory?.filter(inv =>{ return inv.name == template.templateDisplayName}).length != 0})\n      modalRef.componentInstance.step = 1\n      modalRef.componentInstance.mode = \"edit\"\n      modalRef.componentInstance.designForm.controls.name.setValue(product.name ?? \"\")\n      modalRef.componentInstance.designForm.controls.price.setValue(product.price / 100)\n      modalRef.componentInstance.product = product\n      modalRef.componentInstance.designForm.controls.description.setValue(product.description ?? \"\")\n      modalRef.componentInstance.linkImg = product.url\n    }\n\n    createNewProduct(){\n      let ngbModalOptions: NgbModalOptions = {\n        backdrop : 'static',\n        keyboard : false,\n        size : \"md\"\n      };\n      const modalRef = this.modalService.open(DesignComponent, ngbModalOptions);\n      modalRef.componentInstance.templates = this.templates().filter(template => { return !template.onlyBulk || this.inventory?.filter(inv =>{ return inv.name == template.templateDisplayName}).length != 0})\n    }\n\n    routeToHome(){\n      this.rootComponent.routeToHome()\n    }\n\n    signOutPressed(){\n      this.loadService.myCallback = () => this.routeToHome()\n      this.loadService.signOut()\n    }\n\n    addTags(title: string, imgUrl: string, description: string, url: string){\n      this.metaService.updateTag({property: 'og:title', content: title + \" - \" + \"About\"});\n      this.metaService.updateTag({property: 'og:image', content: imgUrl});\n      this.metaService.updateTag({property: 'og:url', content: url})\n      this.metaService.updateTag({property: 'og:description', content: description})\n      this.titleService.setTitle(title)\n      this.metaService.updateTag({property: 'description', content: description})\n  \n    }\n\n\n}\n","<!-- Navigation-->\n<router-outlet></router-outlet>\n\n\n\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n[name]=\"'adminSpinner'\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" >{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n\n\n\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n[name]=\"'sampleSpinner'\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeForm.controls['font']!.value\" >{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n\n\n<div *ngIf=\"isBrowser()\" [hidden]=\"storeInfo().username == undefined\" class=\"wrapper\" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n\n    <!-- Sidebar -->\n    <nav id=\"sidebar\" [class.active]=\"classApplied\" class=\"bg-{{storeInfo().colorStyle!.back_code}}\">\n        <div style=\"position:fixed; width: 250px; height: 90vh; overflow-y: auto; \">\n            <div *ngFor=\"let panel of panels; index as s\">\n                <div class=\"sidebar-header bg-{{storeInfo().colorStyle!.back_code}}\" style=\"height: 50px; color: #6c757d;\">\n                    <h3 [style.font-family]=\"storeInfo().fontName!\">{{panel.Category}}</h3>\n                </div>\n        \n                <ul class=\"list-unstyled components pb-1 mb-1\">\n                    <li *ngFor=\"let option of panel.Options; index as i\" [class.active] = \"getSelectedPanel()?.Title == option.Title\">\n                        <a *ngIf=\"!shouldRed(option)\" role=\"button\" (click) = \"selectSetting(i, s)\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} align-items-center justify-content-start\" style=\"font-size: 20px;\">\n                            <mat-icon class=\"me-2 ms-3\"><span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                {{option.Icon}}\n                                </span></mat-icon>\n                            {{option.Title}}\n                        </a>\n                        <a *ngIf=\"shouldRed(option)\" role=\"button\" (click) = \"selectSetting(i, s)\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-danger align-items-center justify-content-start\" style=\"font-size: 20px;\">\n                            <mat-icon class=\"me-2 ms-3\"><span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                {{option.Icon}}\n                                </span></mat-icon>\n                            {{option.Title}}\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <a class=\"btn side ms-2\" role=\"button\" (click) = \"signOutPressed()\" style=\"font-size: 12px; color: crimson; margin-bottom: 20vh;\" [style.font-family]=\"storeInfo().fontName!\">\n                LOG OUT\n            </a>\n \n        </div>\n    </nav>\n\n    <!-- Page Content -->\n    <div *ngIf=\"signedIn\" id=\"content\" class = \"w-100 h-100\">\n        <header *ngIf=\"isBrowser();\" class=\"bg-{{storeInfo().colorStyle!.back_code}} py-6\">\n            <div class=\"w-100 d-flex justify-content-start align-items-center\">\n                <a class=\"btn side text-{{storeInfo().colorStyle!.text_code}}\" role=\"button\" (click) = \"toggleSidebar()\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                    <mat-icon >menu_open</mat-icon>\n                </a>\n                <a *ngIf=\"storeLive()\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-light btn btn-success rounded-pill mb-2 align-items-center justify-content-center fw-bold\" style=\"font-size: 15px;\">\n                    STORE IS LIVE\n                    <mat-icon class=\"ms-2\">\n                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                            check_circle\n                        </span>\n                    </mat-icon>\n                </a>\n                <a *ngIf=\"!storeLive()\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-light btn btn-danger rounded-pill mb-2 align-items-center justify-content-center fw-bold\" style=\"font-size: 15px;\" [ngbTooltip]=\"etipContent\">\n                    <ng-template #etipContent>\n                        \n                        <div class=\"d-flex\" *ngFor=\"let a of missingInfo()\">\n                            <mat-icon class=\"ms-2 me-2 text-danger\">\n                                <span class=\"material-icons-outlined\">\n                                    error_outline\n                                </span>\n                            </mat-icon>\n                            <p class=\"text-start\">\n                                {{a}}\n                            </p>\n                        </div>\n                        \n                    </ng-template>\n                    STORE INACTIVE\n                    <mat-icon class=\"ms-2\">\n                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                            error_outline\n                        </span>\n                    </mat-icon>\n                </a>\n            </div>\n                <div class=\"cover\" style=\"height: 200px; background-image: url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media);\" [style.background-image]='\"url(\" + (storeInfo()!.themeLink?.toString() ?? \"\") + \")\"'>\n                <div class=\"d-flex align-items-center justify-content-center h-100\" style=\"font-weight: bold;font-size:35px\">\n                    <a role=\"button\" (click) = \"toggleSidebar()\" class = \"side text-center text-{{storeInfo().colorStyle!.text_code}} d-flex align-items-center justify-content-between\" style = \"line-height:1.2em;text-shadow: 2px 2px 4px #42424281;\" [style.font-family]=\"storeInfo().fontName!\">\n                        <a class=\"btn side mt-2 text-{{storeInfo().colorStyle!.text_code}}\" [@rotatedState]='state' style=\"text-shadow: 2px 2px 4px #42424281;\">\n                            <mat-icon >arrow_back_ios</mat-icon>\n                        </a>\n                      {{getSelectedPanel()?.Title}}\n                    </a>\n                   </div>\n              </div>\n          </header>\n        \n          <section *ngIf=\"isBrowser()\" class=\"py-2 \" style.background-color=\"{{selectedTheme()!.bg_color}}\">\n            <div *ngIf=\"getSelectedPanel()?.Title == 'PROFILE'\" class=\"py-3\" >\n                <div class=\"card ms-4 me-4\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                    <div class=\"card-body\">\n                        <form [formGroup]=\"userForm\" novalidate>\n\n                            <div class=\"row row-cols-1 px-2 row-cols-md-2 row-cols-xl-2 justify-content-center\" >\n                                <div class=\"col-md-8 mx-auto d-block mb-4\">\n                                    <div class=\"text-center\">\n\n                                        <a role=\"button\" class=\"btn\" (click)=\"fileInput.click()\" >\n                                            <img alt=\"\" src='{{getImgSrc()}}' class=\"rounded-circle img-responsive mt-2\" width=\"128\" height=\"128\" style=\"object-fit:cover\">\n                                        </a>\n\n                                        <canvas id=\"canvas\" alt=\"\" class=\"rounded-circle img-responsive mt-2\" width=\"128\" height=\"128\" style=\"object-fit: cover; display: none;\">\n                                        </canvas>\n\n                                        \n\n                                        <div class=\"mt-2\">\n                                            <!-- <a role=\"button\" class=\"btn\" (click) = \"uploadDP()\" [@rotatedState]='state'>\n                                                <mat-icon>file_upload</mat-icon>\n                                            </a> -->\n                                            <a role=\"button\" class=\"btn mb-2\" (click)=\"fileInput.click()\" >\n                                                <mat-icon style.color=\"{{selectedTheme()!.color}}\">file_upload</mat-icon>\n                                                <input #fileInput type=\"file\" (change)=\"fileChangeEvent($event, 'Profile')\" style=\"display:none;\" />\n                                            </a>\n                                            <!-- <input \n                                                type=\"file\"\n                                                id=\"upload\"\n                                                class=\"form-control-file\"\n                                                accept=\"image/*\"\n                                                (change)=\"handleLogoInputChange($event)\"\n                                            /> -->\n                                        </div>\n                                        <button (click)=\"saveProfile()\" [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-dark mx-auto d-flex\">Save Changes</button>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" for=\"inputUsername\" style.color=\"{{selectedTheme()!.color}}\">Username</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text\" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" id=\"inputUsername\" placeholder=\"ex: 'brianstees'\" formControlName=\"username\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\" >This will also be your store's handle</i></mat-hint>\n                                    </div>\n                                </div>\n                                <!-- <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" for=\"inputUsername\" style.color=\"{{selectedTheme()!.color}}\">Custom Domain (optional)</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text\" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" id=\"inputUsername\" placeholder=\"ex: 'https://mydomain.com'\" formControlName=\"custom_url\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\" >Your store's custom domain.</i></mat-hint>\n                                    </div>\n                                </div> -->\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" for=\"inputUsername\" style.color=\"{{selectedTheme()!.color}}\">Display Name</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text\" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" id=\"inputUsername\" placeholder=\"ex: '{{getUsername()}}'\" formControlName=\"full_name\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"> <i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">This will also be your store's name</i></mat-hint>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" for=\"inputUsername\" style.color=\"{{selectedTheme()!.color}}\">Biography</label>\n                                        <textarea [style.font-family]=\"storeInfo().fontName!\" rows=\"5\" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" id=\"inputBio\" placeholder=\"Describe your store...\" formControlName=\"bio\" style.color=\"{{selectedTheme()!.color}}\"></textarea>\n                                        <mat-hint align=\"start\"> <i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">This will show up on your store's 'About' page</i></mat-hint>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mx-auto mt-3 d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" for=\"inputUsername\" style.color=\"{{selectedTheme()!.color}}\">Socials</label>\n                                    <div class=\"d-flex justify-content-start\" style=\"overflow: scroll\">\n                                        <a role=\"button\" [style.width.px]=\"45\" class=\"btn mx-2\" (click)=\"showSocialModal(social)\" [class.not-set]=\"toolTip(social)!.name == 'No ' + social!.name + ' URL set'\" *ngFor=\"let social of socials()\" [ngbTooltip]=\"tipContent\">\n                                            <ng-template #tipContent>\n                                                {{toolTip(social)!.name}}\n                                                <br>\n                                                {{toolTip(social)!.link}}\n                                            </ng-template>\n                                            <img class=\"rounded-circle\" style=\"object-fit: contain;\" [style.width.px]=\"45\"  alt='ok' [src]=\"social.img\"/>\n                                        </a>\n                                    </div>\n                                </div>\n                            </div>\n\n                        </form>\n\n                    </div>\n                </div>\n                <div class=\"card ms-4 me-4 py-3\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                    <h2 class=\"text-center fw-bolder m-2 mb-4\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Custom Store Domain</h2>\n\n                    <div class=\"card-body\">\n                        <!-- <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveStore()\" class=\"btn btn-dark mx-auto d-flex mb-5\">Save Changes</button> -->\n\n                        <form [formGroup]=\"changeEmailForm\" novalidate>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Current Domain</label>\n                                        <input [attr.disabled]=\"true\" [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" type=\"email\" placeholder=\"shopmythred.com (default)\" formControlName=\"newEmail\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Adding a custom domain helps boost conversions by over 30%</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveEmail()\" class=\"btn btn-dark mx-auto d-flex\">Add Custom Domain</button>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"getSelectedPanel()?.Title == 'STORE'\" class=\"py-3\">\n                <div class=\"card ms-4 me-4 py-3\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                    <div class=\"card-body\">\n\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveStore()\" class=\"btn btn-dark mx-auto d-flex mb-5\">Save Changes</button>\n\n                        <form [formGroup]=\"storeForm\" novalidate>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Store Slogan</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" id=\"inputSlogan\" placeholder=\"ex: 'Coolest brand on the block'\" formControlName=\"slogan\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">This will show up on your store's homepage</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                            \n                            \n\n                            <div class=\"row gx-10 row-cols-1 row-cols-md-1 row-cols-xl-1 justify-content-center\">\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold mb-1 me-1\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Store Theme  ➜</label>\n                                    <mat-hint align=\"start\" ><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Your Store's color theme. </i></mat-hint>\n                                    <div >\n                                        <select (change)=\"selectTheme()\" [style.font-family]=\"storeInfo().fontName!\" formControlName=\"storeTheme\" class=\"form-select bg-{{storeInfo().colorStyle!.back_code}}\" style.color=\"{{selectedTheme()!.color}}\" required=\"required\">\n                                            <option *ngFor=\"let sTheme of themes()\" [selected]=\"sTheme.name == theme\" >{{ sTheme.name }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold mb-1 me-1\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Store Font  ➜</label>\n                                    <mat-hint align=\"start\" ><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Your Store's Font. </i></mat-hint>\n                                    <div >\n                                        <select [style.font-family]=\"storeInfo().fontName!\" formControlName=\"font\" class=\"form-select bg-{{storeInfo().colorStyle!.back_code}}\" style.color=\"{{selectedTheme()!.color}}\" required=\"required\">\n                                            <option *ngFor=\"let font of fonts()\" [selected]=\"font == userInfo()!.fontName\" >{{ font }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold mb-1 me-1\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Store Background Image  ➜</label>\n\n\n                                    <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">This will show up at the top for ALL pages</i></mat-hint>\n\n                                    <div class=\"card h-auto bg-{{storeInfo().colorStyle!.back_code}}\">\n                                        <!-- Product image-->\n\n                                        <a role=\"button\" class=\"btn\" (click)=\"fileBackground.click()\">\n                                            <img class=\"card-img-top\"  alt='ok' src=\"{{storeForm.controls['themeImg'].value}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media';\"/>\n                                        </a>\n                                        <!-- Product details-->\n                                        \n                                        <div class=\"card-body p-2 pb-1\">\n                                            <div class=\"mt-2 text-center\">\n\n                                                <a role=\"button\" class=\"btn\" (click)=\"fileBackground.click()\">\n                                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\">file_upload</mat-icon>\n                                                    <input #fileBackground type=\"file\" (change)=\"fileChangeEvent($event, 'Background')\" style=\"display:none;\" />\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold mb-1 me-1\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Homepage Promotion Image  ➜</label>\n                                    <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">This will show up on the homepage</i></mat-hint>\n\n                                    <div class=\"card h-auto bg-{{storeInfo().colorStyle!.back_code}}\">\n                                        <!-- Product image-->\n\n                                        <a role=\"button\" class=\"btn\" (click)=\"fileHome.click()\">\n                                            <img class=\"card-img-top\"  alt='ok' src=\"{{storeForm.controls['homeImg'].value}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media';\"/>\n                                        </a>\n                                        <!-- Product details-->\n                                        <div class=\"card-body p-2 pb-1\">\n                                            <div class=\"mt-2 text-center\">\n\n                                                <a role=\"button\" class=\"btn\" (click)=\"fileHome.click()\">\n                                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\">file_upload</mat-icon>\n                                                    <input #fileHome type=\"file\" (change)=\"fileChangeEvent($event, 'Promotion')\" style=\"display:none;\" />\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"fw-bold mb-1 me-1\" for=\"inputUsername\">Action Image  ➜</label>\n                                    <mat-hint [style.font-family]=\"storeInfo().fontName!\" align=\"start\"><i style=\"font-size: 12px; color: #6c757d;\">Displayed with any action button (ex: Continue Shopping) </i></mat-hint>\n\n                                    <div class=\"card h-auto bg-{{storeInfo().colorStyle!.back_code}}\">\n                                        <!-- Product image-->\n\n                                        <a role=\"button\" class=\"btn\" (click)=\"fileAction.click()\">\n                                            <img class=\"card-img-top\"  alt='ok' src=\"{{storeForm.controls['actionImg'].value}}\" onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media';\"/>\n\n                                        </a>\n                                        <!-- Product details-->\n                                        <div class=\"card-body p-2 pb-1\">\n                                            <div class=\"mt-2 text-center\">\n\n                                                <a role=\"button\" class=\"btn\" (click)=\"fileAction.click()\">\n                                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\">file_upload</mat-icon>\n                                                    <input #fileAction type=\"file\" (change)=\"fileChangeEvent($event, 'Action')\" style=\"display:none;\" />\n                                                </a>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <label [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"fw-bold mb-1 me-1\" for=\"inputUsername\">Store Loading Indicator  ➜</label>\n                                    <mat-hint [style.font-family]=\"storeInfo().fontName!\" align=\"start\"><i style=\"font-size: 12px; color: #6c757d;\">Displayed anytime loading is in progress. </i></mat-hint>\n                                    <div>\n                                        <select [style.font-family]=\"storeInfo().fontName!\" formControlName=\"loadingIndicator\" class=\"form-select bg-{{storeInfo().colorStyle!.back_code}}\" style.color=\"{{selectedTheme()!.color}}\" required=\"required\" (change) = \"showSampleSpinner()\">\n                                            <option *ngFor=\"let indicator of loaders()\" [selected]=\"indicator == storeForm.controls['loadingIndicator'].value\" >{{ indicator }}</option>\n                                        </select>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row gx-10 row-cols-1 justify-content-center\">\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"fw-bold mb-1 me-1\" for=\"inputUsername\">Loading Color</label>\n                                    <div class=\"card h-auto\">\n                                    <a\n                                    role=\"button\" \n                                    class=\"btn\"\n                                    [style.background]=\"selectedIndicator()!.color\"\n                                    [cpPosition]=\"'top'\"\n                                    [cpPositionRelativeToArrow]=\"true\"\n                                    (colorPickerSelect)=\"selectColor($event, true)\"\n                                    [cpOutputFormat]=\"'rgba'\"\n                                    [cpOKButton]=\"true\"\n                                    [cpOKButtonText]=\"'SET COLOR'\"\n                                    [cpOKButtonClass]= \"'btn btn-dark'\"\n                                    [cpSaveClickOutside]=\"false\"\n                                    [(colorPicker)]=\"selectedIndicator()!.color\"\n                                    >\n                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\" class=\"mt-1\">colorize</mat-icon>\n                                    </a>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-8 mb-3 mx-auto d-block\">\n                                    <label [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"fw-bold mb-1 me-1\" for=\"inputUsername\">Loading Background Color</label>\n                                    <div class=\"card h-auto\">\n                                    <a\n                                    role=\"button\" \n                                    class=\"btn\"\n                                    [style.background]=\"selectedIndicator()!.bg_color\"\n                                    [cpPosition]=\"'top'\"\n                                    [cpPositionRelativeToArrow]=\"true\"\n                                    (colorPickerSelect)=\"selectColor($event, false)\"\n                                    [cpOutputFormat]=\"'rgba'\"\n                                    [cpOKButton]=\"true\"\n                                    [cpOKButtonText]=\"'SET COLOR'\"\n                                    [cpOKButtonClass]= \"'btn btn-dark'\"\n                                    [cpSaveClickOutside]=\"false\"\n                                    [(colorPicker)]=\"selectedIndicator()!.bg_color\"\n                                    >\n                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\" class=\"mt-1\">colorize</mat-icon>\n                                    </a>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveStore()\" class=\"btn btn-dark mx-auto d-flex\">Save Changes</button>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"getSelectedPanel()?.Title == 'PRODUCTS'\">\n                <div *ngIf=\"subInfo != undefined\">\n                    <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"createNewProduct()\" class=\"btn d-flex mx-2 mx-md-4 mx-lg-5 ps-0 mb-5 text-{{storeInfo().colorStyle!.text_code}}\">\n                        <mat-icon class=\"me-2\"><span style=\"font-size: 25px;\">\n                            storefront\n                            </span></mat-icon>\n                            NEW PRODUCT\n                    </a> \n                    <div *ngIf=\"storeProducts?.length != 0\" class=\"container px-4 px-lg-5 mt-0 pt-0\">\n    \n                        <div class=\"row gx-4 gx-lg-5 row-cols-1 row-cols-md-3 row-cols-xl-3 justify-content-center\">\n                            <div class=\"col mb-5\" *ngFor=\"let product of storeProducts\">\n                                <div class=\"card h-100 bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                    <!-- Product image-->\n                                    <a role=\"button\" (click)=\"routeToProduct(product.productID)\"><img class=\"card-img-top\" src='{{product.url}}' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                                    <!-- Product details-->\n                                    <div class=\"card-body pb-0\">\n                                        <div class=\"text-center\">\n                                            <!-- Product name-->\n                                            <h4 class=\"fw-bolder\" ><a style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\"  role=\"button\" (click)=\"routeToProduct(product.productID)\" [style.font-family]=\"storeInfo().fontName!\">{{product.name}}</a></h4>\n                                            <div class=\"d-flex align-items-center justify-content-center w-100\">\n                                                <a role=\"button\" class=\"btn\" (click) = \"editProduct(product)\">\n                                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\">edit</mat-icon>\n                                                </a>\n                                                <a role=\"button\" class=\"btn\" (click) = \"deleteProduct(product)\">\n                                                    <mat-icon style.color=\"{{selectedTheme()!.color}}\">delete</mat-icon>\n                                                </a> \n                                            </div>\n                                            <!-- Product price-->\n                                        </div>\n                                    </div>\n                                    <!-- Product actions-->\n                                    <div class=\"card-footer p-4 pt-0 pb-4 border-top-0 bg-transparent\">\n                                        <div class=\"text-center\" ><a [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} mt-0 d-flex justify-content-center text-center\" style=\"font-weight:bold;\" role=\"button\" (click)=\"routeToProduct(product.productID)\">{{formatPrice(product.price / 100)}}</a></div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div *ngIf=\"storeProducts?.length == 0\" class=\"container px-4 px-lg-5 mt-0 pt-0\">\n    \n                        <div class=\"card py-3 px-3\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                            <a role=\"button\" (click)=\"createNewProduct()\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                Create your first product\n                                <mat-icon class=\"ms-2 text-danger\">\n                                    <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                    new_releases\n                                    </span>\n                                </mat-icon>\n                            </a>\n                            <a role=\"button\" (click)=\"createNewProduct()\" class=\"w-100 side\">\n                                <img class=\"rounded w-100\" src='/assets/design_image.png'/>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n                <div *ngIf=\"subInfo == undefined\">\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                        \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                    PLAN NEEDED\n                                    <mat-icon class=\"ms-2 text-danger\">\n                                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                        new_releases\n                                        </span>\n                                    </mat-icon>\n                                </a>\n                                <p class=\"px-2 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">\n                                    Set up your merchant plan to create your first product.\n                                </p>\n                                    <div class=\"card-body mt-4\">\n                                        \n                                        <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                            <button *ngIf=\"canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start 14 day Free Trial</button>\n                                            <button *ngIf=\"!canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start Subscription</button>\n                                        </div>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div *ngIf=\"getSelectedPanel()?.Title == 'INVENTORY'\">\n                <!-- <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"createNewProduct()\" class=\"btn mx-2 mx-md-4 mx-lg-4 d-flex ps-0 mb-5 text-{{storeInfo().colorStyle!.text_code}}\">\n                    <mat-icon class=\"me-2\"><span style=\"font-size: 25px;\">\n                        dashboard_customize\n                        </span></mat-icon>\n                        ADD NEW INVENTORY\n                </a>  -->\n                <div *ngIf=\"(inventory?.length ?? 0) > 0\">\n                    <h1 class=\"text-center fw-bolder bg-{{storeInfo().colorStyle!.text_code}} text-{{storeInfo().colorStyle!.back_code}} py-5\" style=\"font-size: xx-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">MY INVENTORY</h1>\n\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-start mx-2 mx-md-3 mx-lg-3 mb-0\">\n\n                        <div class=\"col\" *ngFor=\"let inv of inventory\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                    {{item.series[0].name.toUpperCase()}}\n                                </p> -->\n                                <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">{{inv.name}}</h2>\n                                <div class=\"card-body mt-2\">\n                                    <div class=\"d-flex align-items-center justify-content-center  my-2\" style=\"font-size: 22px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \"mb-1 me-1 text-center\">Remaining: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bolder text-center\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\"> {{inv.amount ?? 0}}</a></mat-hint>\n                                    </div>\n                                    <!-- <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Sold: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{100-inv.amount}}</a></mat-hint>\n                                    </div> -->\n                                    <!-- <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Country: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{bankInfo.external_accounts.data[0].country}}</a></mat-hint>\n                                    </div> -->\n                                    <!-- <div class=\"px-5 mt-4 d-flex align-items-center justify-content-center\">\n                                        <div style=\"background-color:#cdf4fc;\">\n                                            <a role=\"button\"><img style=\"object-fit: contain; width: 25%;\"  [src]=\"getTypeImages(inv.name)\" alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                                        </div>\n    \n                                    </div> -->\n    \n                                    <div class=\"rounded mx-auto\" style=\"width: 25%; aspect-ratio: 1 / 1\" >\n                                        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                                            <img [src]='getTypeImages(inv.name)' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n                                        </a>\n                                    </div>\n    \n                                    <div class=\"d-flex align-items-center justify-content-center  mt-4 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"buyMore(inv)\" class=\"btn d-flex mx-1\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Add More</button>\n                                        <button *ngIf=\"!inv.autoReload\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"setUpAutoReload(inv)\" class=\"btn d-flex mx-1\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Set up Auto-Reload</button>\n                                        <button *ngIf=\"inv.autoReload\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"removeAutoReload(inv)\" class=\"btn btn-success d-flex mx-1\">Auto-Reload<mat-icon class=\"ms-1\">check_circle</mat-icon></button>\n                                    </div>\n                                </div>\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                    {{item.xAxisLabel.toUpperCase()}}\n                                </p> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div *ngIf=\"availableToBuyTemplates().length > 0\">\n                    <h1 class=\"text-center fw-bolder bg-{{storeInfo().colorStyle!.text_code}} text-{{storeInfo().colorStyle!.back_code}} py-5\" style=\"font-size: xx-large; line-height: 1.2em;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">{{invTitle}} <br> <small>Buy your own inventory</small></h1>\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-start m-2 m-md-3 m-lg-3\">\n\n                        <div class=\"col mb-2\" *ngFor=\"let template of availableToBuyTemplates()\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                    {{item.series[0].name.toUpperCase()}}\n                                </p> -->\n                                <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">{{template.templateDisplayName}}</h2>\n                                <div class=\"card-body mt-2\">\n                                    <div class=\"d-flex align-items-center justify-content-center\">\n                                        <div class=\"mx-auto\">\n                                            \n                                            <div class=\"d-flex align-items-center justify-content-center  my-2 mx-auto\" style=\"font-size: 22px;\">\n                                                <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \"mb-1 me-1 text-center\">Price: </label>\n                                                <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bolder text-center\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice((template.bulkPrice) / 100, true)}}</a></mat-hint>\n                                            </div>\n                                            <div class=\"d-flex align-items-center justify-content-center  my-2 mx-auto\" style=\"font-size: 10px;\">\n                                                <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \"mb-1 me-1 text-center\">(Per. {{template!.templateDisplayName.slice(0,-1).toLowerCase()}})</label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <!-- <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Sold: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{100-inv.amount}}</a></mat-hint>\n                                    </div> -->\n                                    <!-- <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Country: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{bankInfo.external_accounts.data[0].country}}</a></mat-hint>\n                                    </div> -->\n                                    <!-- <div class=\"px-5 mt-4 d-flex align-items-center justify-content-center\">\n                                        <div style=\"background-color:#cdf4fc;\">\n                                            <a role=\"button\"><img style=\"object-fit: contain; width: 25%;\"  [src]=\"getTypeImages(inv.name)\" alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                                        </div>\n    \n                                    </div> -->\n    \n                                    <div class=\"rounded mx-auto\" style=\"width: 25%; aspect-ratio: 1 / 1\" >\n                                        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                                            <img [src]='getTypeImages(template.templateDisplayName)' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n                                        </a>\n                                    </div>\n    \n                                    <div class=\"d-flex align-items-center justify-content-center  mt-4 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"buyNewInventory(template)\" class=\"btn d-flex mx-1\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Buy {{template.bulkUnit}} Units</button>\n                                    </div>\n                                </div>\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                    {{item.xAxisLabel.toUpperCase()}}\n                                </p> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                \n\n            </div>\n\n            <div *ngIf=\"getSelectedPanel()?.Title == 'SECURITY'\">\n\n                <div class=\"card ms-4 me-4 py-3\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                    <h2 class=\"text-center fw-bolder m-2 mb-4\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Change Email Address</h2>\n\n                    <div class=\"card-body\">\n                        <!-- <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveStore()\" class=\"btn btn-dark mx-auto d-flex mb-5\">Save Changes</button> -->\n\n                        <form [formGroup]=\"changeEmailForm\" novalidate>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">New Email</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" type=\"email\" placeholder=\"ex: 'johnapple@gmail.com'\" formControlName=\"newEmail\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">The new email you wish to use</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Password</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" [type]=\"show ? 'text' : 'password'\" placeholder=\"Confirm Password\" type=\"password\" formControlName=\"password\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Confirm your password to make changes</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveEmail()\" class=\"btn btn-dark mx-auto d-flex\">Update Email</button>\n                    </div>\n                </div>\n\n                <div class=\"card ms-4 me-4 py-3\" style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                    <h2 class=\"text-center fw-bolder m-2 mb-4\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Change Password</h2>\n\n                    <div class=\"card-body\">\n\n                        <!-- <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"saveStore()\" class=\"btn btn-dark mx-auto d-flex mb-5\">Save Changes</button> -->\n\n                        <form [formGroup]=\"changePassForm\" novalidate>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Old Password</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" [type]=\"show ? 'text' : 'password'\" placeholder=\"Confirm Old Password\" formControlName=\"password\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Your current password</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">New Password</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" [type]=\"show ? 'text' : 'password'\" placeholder=\"Enter New Password\" formControlName=\"newPassword\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">The new password you wish to use</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md-8 mx-auto d-block\">\n                                    <div class=\"form-group mb-4\">\n                                        <label [style.font-family]=\"storeInfo().fontName!\" class = \"fw-bold\" style.color=\"{{selectedTheme()!.color}}\" for=\"inputUsername\">Confirm New Password</label>\n                                        <input [style.font-family]=\"storeInfo().fontName!\" type=\"text \" class=\"form-control mt-1 bg-{{storeInfo().colorStyle!.back_code}}\" [type]=\"show ? 'text' : 'password'\" placeholder=\"Confirm New Password\" formControlName=\"confirmNewPassword\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <mat-hint align=\"start\"><i [style.font-family]=\"storeInfo().fontName!\" style=\"font-size: 12px; color: #6c757d;\">Confirm your new password</i></mat-hint>\n                                    </div>\n                                </div>\n                            </div>\n                        </form>\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"savePassword()\" class=\"btn btn-dark mx-auto d-flex\">Update Password</button>\n                        <!-- <div class=\"d-flex justify-content-end w-100\">\n                            <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} align-items-center justify-content-center fw-bold\">\n                                <mat-icon class=\"text-danger\">\n                                    <span class=\"material-icons-outlined\">\n                                    new_releases\n                                    </span>\n                                </mat-icon>\n                            </a>\n                        </div> -->\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"getSelectedPanel()?.Title == 'BILLING'\">\n                <div *ngIf=\"billingInfo()?.number == undefined || billingInfo()?.number == ''\">\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                    Payment Method\n                                    <mat-icon class=\"ms-2 text-danger\">\n                                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                        new_releases\n                                        </span>\n                                    </mat-icon>\n                                </a>\n                                <p class=\"px-2 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">\n                                    This is required to activate your merchant plan.\n                                </p>\n                                    <div class=\"card-body mt-4\">\n                                        \n                                        <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                            <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" (click)=\"routeToBillingAdmin()\" style.color=\"{{selectedTheme()!.bg_color}}\">Add Payment Method</button>\n                                        </div>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div *ngIf=\"billingInfo()?.number != undefined && billingInfo()?.number != ''\">\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Payment Method</h2>\n                                    <div class=\"card-body mt-2\">\n                                        <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                            <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{getBillingAddressFirst()}}</a></mat-hint>\n                                        </div>\n                                        <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                            <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{getBillingAddressSecond()}}</a></mat-hint>\n                                        </div>\n                                        <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                            <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{getBillingAddressThird()}}</a></mat-hint>\n                                        </div>\n                                        <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                            <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{getBillingAddressFourth()}}</a></mat-hint>\n                                        </div>\n                                        <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                            <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" (click)=\"routeToBillingAdmin()\" style.color=\"{{selectedTheme()!.bg_color}}\">Edit Billing Info</button>\n                                        </div>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"getSelectedPanel()?.Title == 'PLAN'\">\n                <div *ngIf=\"subInfo == undefined\" class=\"w-100 h-100 \">\n\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                    Merchant Plan\n                                    <mat-icon class=\"ms-2 text-danger\">\n                                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                        new_releases\n                                        </span>\n                                    </mat-icon>\n                                </a>\n                                <p class=\"px-2 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">\n                                    Set up your merchant plan to activate your online store.\n                                </p>\n                                    <div class=\"card-body mt-4\">\n                                        \n                                        <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                            <button *ngIf=\"canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start 14 day Free Trial</button>\n                                            <button *ngIf=\"!canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start Subscription</button>\n                                        </div>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div *ngIf=\"subInfo != undefined && subInfo?.plan.active ?? false\" class=\"w-100 h-100 \">\n\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                    {{item.series[0].name.toUpperCase()}}\n                                </p> -->\n                                <h2 *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Merchant Plan</h2>\n                                <a *ngIf=\"subInfo!.cancel_at_period_end\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-danger m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                    Renew Merchant Plan\n                                    <mat-icon class=\"ms-2 text-danger\">\n                                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                        new_releases\n                                        </span>\n                                    </mat-icon>\n                                </a>\n                                <div class=\"card-body mt-2\">\n                                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Plan: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planStatus()}} <b *ngIf=\"subInfo.status == 'trialing'\" style=\"color: #6c757d;\">(Trial)</b></a></mat-hint>\n                                    </div>\n                                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Price: </label>\n                                        <mat-hint *ngIf=\"subInfo.status != 'trialing'\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice((subInfo?.plan.amount ?? 0) / 100)}}/{{subInfo?.plan.interval ?? 'month'}}</a></mat-hint>\n                                        <mat-hint *ngIf=\"subInfo.status == 'trialing'\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">FREE <b style=\"color: #6c757d;\">({{formatPrice((subInfo?.plan.amount ?? 0) / 100)}}/{{subInfo?.plan.interval ?? 'month'}} after trial)</b></a></mat-hint>\n                                    </div>\n                                    <div *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                                        <label *ngIf=\"subInfo.status != 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Renews: </label>\n                                        <label *ngIf=\"subInfo.status == 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Trial End: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planRenewalDate()}}</a></mat-hint>\n                                    </div>\n                                    <div *ngIf=\"subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Plan Ends: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planEndDate()}}</a></mat-hint>\n                                    </div>\n                                    \n                                    <div *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"editSubscription(subInfo!)\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Edit Plan</button>\n                                    </div>\n                                    <div *ngIf=\"subInfo!.cancel_at_period_end\" class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"editSubscription(subInfo!)\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Renew Plan</button>\n                                    </div>\n                                </div>\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                    {{item.xAxisLabel.toUpperCase()}}\n                                </p> -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- <a (click)=\"beginBankAdd()\" role=\"button\" >Link Text</a> -->\n                </div>\n            </div>\n\n            <div *ngIf=\"getSelectedPanel()?.Title == 'PAYMENTS'\">\n                \n                <div *ngIf=\"bankInfo == undefined\" class=\"w-100 h-100 \">\n\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                    {{item.series[0].name.toUpperCase()}}\n                                </p> -->\n                                <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" class=\"side d-flex text-{{storeInfo().colorStyle!.text_code}} m-3 align-items-center justify-content-center fw-bold\" style=\"font-size: 20px;\">\n                                    Direct-Deposit Account\n                                    <mat-icon class=\"ms-2 text-danger\">\n                                        <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                                        new_releases\n                                        </span>\n                                    </mat-icon>\n                                </a>\n                                <p class=\"px-2 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">\n                                    Set up your bank account to receive payments.\n                                </p>\n\n\n                                <div class=\"card-body mt-4\">\n                                    <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"beginBankAdd()\" class=\"btn me-1 d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Link Bank Account</button>\n                                    </div>\n                                </div>\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                    {{item.xAxisLabel.toUpperCase()}}\n                                </p> -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- <a (click)=\"beginBankAdd()\" role=\"button\" >Link Text</a> -->\n                </div>\n                <div *ngIf=\"bankInfo != undefined\" class=\"w-100 h-100 \">\n\n                    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center m-2 m-md-3 m-lg-3\">\n                    \n                        <div class=\"col mb-2\">\n                            <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                    {{item.series[0].name.toUpperCase()}}\n                                </p> -->\n                                <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Direct-Deposit Account</h2>\n                                <div class=\"card-body mt-2\">\n                                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Institution: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{bankInfo.external_accounts.data[0].bank_name}}</a></mat-hint>\n                                    </div>\n                                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Account Number: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">••••••{{bankInfo.external_accounts.data[0].last4}}</a></mat-hint>\n                                    </div>\n                                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Country: </label>\n                                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{bankInfo.external_accounts.data[0].country}}</a></mat-hint>\n                                    </div>\n                                    <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"beginBankAdd()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Edit Account</button>\n                                    </div>\n                                </div>\n                                <!-- <p [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                    {{item.xAxisLabel.toUpperCase()}}\n                                </p> -->\n                            </div>\n                        </div>\n                    </div>\n\n                    <!-- <a (click)=\"beginBankAdd()\" role=\"button\" >Link Text</a> -->\n                </div>\n\n\n            </div>\n\n            <div *ngIf=\"getSelectedPanel()?.Title == 'AFFILIATE'\" class=\"h-100\">\n                <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-start m-2 m-md-3 m-lg-3\">\n                    \n                    \n\n                    <div class=\"col mb-2\" *ngFor=\"let item of charts(true)\">\n                        <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                            <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                {{item.series[0].name.toUpperCase()}}\n                            </p>\n                            <h2 class=\"text-center fw-bolder\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\">{{formatGraphElement(totalElement(item.series[0].series), item.series[0].name)}}</h2>\n                            <div class=\"card-body d-flex justify-content-center align-items-center my-2\" style=\"height: 300px;\">\n                                <ngx-charts-area-chart\n                                *ngIf =\"item.shouldDisplay\"\n                                [results]=\"item.series\"\n                                [xAxis]=\"true\"\n                                [yAxis]=\"false\"\n                                [gradient]=\"true\"\n                                [customColors]=\"item.customColors\"\n                                [showXAxisLabel]=\"false\"\n                                [showYAxisLabel]=\"false\"\n                                [xAxisLabel]=\"item.xAxisLabel\"\n                                [xAxisTickFormatting] = \"formatPercent\"\n                                [yAxisLabel]=\"item.yAxisLabel\"\n                                style.fill = \"{{selectedTheme()!.color}}\">\n                                >\n                                <ng-template #tooltipTemplate let-model=\"model\">\n                                    {{model.series}} • {{model.name}}\n                                <h2>{{formatGraphElement(model.value, model.series)}}</h2>    \n                                </ng-template>\n\n                                <ng-template #seriesTooltipTemplate let-model=\"model\">\n                                    {{model[0].series}}\n                                <h2>{{formatGraphElement(model[0].value, model[0].series)}}</h2>       \n                                </ng-template>\n                                </ngx-charts-area-chart>\n                                <div\n                                *ngIf =\"!(item.shouldDisplay)\" class=\"text-center\">\n                                <h4 class=\"fw-bolder\" style=\"font-size: large; line-height:1.0em;\" ><a style=\"text-decoration: none; line-height: 1.2em;\" style.color=\"{{selectedTheme()!.color}}\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\">Get started by sharing your affiliate link.</a></h4>\n                                <a role=\"button\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"copyAffiliateURL()\" class=\"btn d-flex mx-auto ps-0 mb-5 justify-content-center text-{{storeInfo().colorStyle!.text_code}}\">\n                                    <mat-icon class=\"me-2\"><span style=\"font-size: 25px;\">\n                                        content_copy\n                                        </span></mat-icon>\n                                        COPY\n                                </a> \n                                </div>\n                            </div>\n                            <p *ngIf =\"(item.shouldDisplay)\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                {{item.xAxisLabel.toUpperCase()}}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div *ngIf=\"getSelectedPanel()?.Title == 'ANALYTICS'\" class=\"h-100\">\n                <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-start m-2 m-md-3 m-lg-3\">\n                    \n                    \n\n                    <div class=\"col mb-2\" *ngFor=\"let item of charts()\">\n                        <div class=\"card bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                            <p [style.font-family]=\"storeInfo().fontName!\" class = \"text-center text-{{storeInfo().colorStyle!.text_code}} px-2 mx-2 my-2\" style = \"font-weight: bolder;\">\n                                {{item.series[0].name.toUpperCase()}}\n                            </p>\n                            <h2 class=\"text-center fw-bolder\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\">{{formatGraphElement(totalElement(item.series[0].series), item.series[0].name)}}</h2>\n                            <div class=\"card-body d-flex justify-content-center align-items-center my-2\" style=\"height: 300px;\">\n                                <ngx-charts-area-chart\n                                *ngIf =\"item.shouldDisplay\"\n                                [results]=\"item.series\"\n                                [xAxis]=\"true\"\n                                [yAxis]=\"false\"\n                                [gradient]=\"true\"\n                                [customColors]=\"item.customColors\"\n                                [showXAxisLabel]=\"false\"\n                                [showYAxisLabel]=\"false\"\n                                [xAxisLabel]=\"item.xAxisLabel\"\n                                [xAxisTickFormatting] = \"formatPercent\"\n                                [yAxisLabel]=\"item.yAxisLabel\"\n                                style.fill = \"{{selectedTheme()!.color}}\">\n                                >\n                                <ng-template #tooltipTemplate let-model=\"model\">\n                                    {{model.series}} • {{model.name}}\n                                <h2>{{formatGraphElement(model.value, model.series)}}</h2>    \n                                </ng-template>\n\n                                <ng-template #seriesTooltipTemplate let-model=\"model\">\n                                    {{model[0].series}}\n                                <h2>{{formatGraphElement(model[0].value, model[0].series)}}</h2>       \n                                </ng-template>\n                                </ngx-charts-area-chart>\n                                <div\n                                *ngIf =\"!(item.shouldDisplay)\" class=\"text-center\">\n                                <h4 class=\"fw-bolder\" style=\"font-size: x-large; line-height:1.0em;\" ><a style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\">Nothing to display here.<br><mat-icon class=\"mt-2\" style.color=\"{{selectedTheme()!.color}}\">sentiment_dissatisfied</mat-icon></a></h4>\n                                <!-- <h4 class=\"fw-bold\" style=\"font-size:medium; line-height:1.0em;\" ><a style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\" role=\"button\" [style.font-family]=\"storeInfo().fontName!\">Check out our marketing guide below</a></h4> -->\n                                </div>\n                            </div>\n                            <p *ngIf =\"(item.shouldDisplay)\" [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class = \"text-center px-2 mx-2 my-2\" style = \"font-weight: bold; font-size: smaller;\">\n                                {{item.xAxisLabel.toUpperCase()}}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          </section>\n    </div>\n\n</div> \n\n \n  <script *ngIf=\"isBrowser();\" src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js\"></script>\n  <script *ngIf=\"isBrowser();\" src=\"js/scripts.js\"></script>\n\n   ","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from \"@angular/common\";\nimport { AdminViewComponent } from './admin-view.component';\nimport { Globals } from '../globals';\nimport { MatCardModule } from '@angular/material/card';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { DragScrollModule } from 'ngx-drag-scroll';\nimport { DesignComponent } from '../design/design.component';\nimport { ImageCropperModule } from 'ngx-image-cropper';\nimport { CropperComponent } from '../cropper/cropper.component';\nimport { ColorPickerModule } from 'ngx-color-picker';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxCurrencyModule } from \"ngx-currency\";\nimport { SocialFormComponent } from '../social-form/social-form.component';\nimport { InventoryBuyComponent } from '../inventory-buy/inventory-buy.component';\nimport { InventoryListComponent } from '../inventory-list/inventory-list.component';\nimport { EditPlanComponent } from '../edit-plan/edit-plan.component';\nimport {ClipboardModule} from '@angular/cdk/clipboard';\nimport { StoreSetupComponent } from '../store-setup/store-setup.component';\n\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminViewComponent,\n  },\n];\n\n\n@NgModule({\n  declarations: [\n    AdminViewComponent,\n    DesignComponent,\n    CropperComponent,\n    SocialFormComponent,\n    InventoryBuyComponent,\n    InventoryListComponent,\n    EditPlanComponent,\n    StoreSetupComponent,\n  ],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatIconModule,\n    MatInputModule,\n    MatButtonModule,\n    MatSelectModule,\n    NgxSpinnerModule,\n    ReactiveFormsModule,\n    DragScrollModule,\n    ImageCropperModule,\n    ColorPickerModule,\n    NgbModule,\n    NgxChartsModule,\n    ClipboardModule,\n    NgxCurrencyModule,\n    RouterModule.forChild(routes),\n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA],\n  providers: [Globals],\n  bootstrap: [AdminViewComponent]\n})\nexport class AdminViewModule {\n  constructor(){\n\n  }\n }\n","import { Component, OnInit } from '@angular/core';\nimport { ImageCroppedEvent, LoadedImage } from 'ngx-image-cropper';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-cropper',\n  templateUrl: './cropper.component.html',\n  styleUrls: ['./cropper.component.css']\n})\nexport class CropperComponent implements OnInit {\n\n  imageChangedEvent: any = '';\n  croppedImage: any = '';\n  ratio = 1;\n  width = 200\n  height = 200\n  innerHeight(){\n    return window.innerHeight * 0.9\n  }\n\n  constructor(\n    private activeModal: NgbActiveModal,\n  ) {\n   }\n\n  ngOnInit(): void {\n    console.log(window.innerHeight)\n  }\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = event.base64;\n}\nimageLoaded() {\n  // show cropper\n}\n\ncompressImage(src: string) {\n  return new Promise((res, rej) => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      const elem = document.createElement('canvas');\n      elem.width = this.width;\n      elem.height = this.height;\n      const ctx = elem.getContext('2d');\n      ctx?.drawImage(img, 0, 0, this.width, this.height);\n      const data = ctx?.canvas.toDataURL(\"image/jpg\")\n      res(data);\n    }\n    img.onerror = error => rej(error);\n  })\n}\n\nasync useImage(){\n  let res = await this.compressImage(this.croppedImage)\n  this.activeModal.dismiss(res)\n}\n\ncropperReady() {\n    // cropper ready\n}\nloadImageFailed() {\n    // show message\n}\n\n\n\n}\n","\n<div #cropContainer class=\"rounded\" [ngStyle]=\"{'display': 'block'}\">\n    <a role=\"button\" class=\"rounded-top bg-dark mt-auto d-flex justify-content-center align-items-center text-center text-light fw-bold\" style=\"height: 45px; text-decoration: none;\"  (click)=\"useImage()\">\n        USE PHOTO\n    </a>\n    <!-- <a role=\"button\"><img class=\"card-img-top\" style=\"object-fit: contain; \" [style.width.px]=\"myInnerHeight()\" [style.height.px]=\"myInnerHeight()\" [src]='getColorSide(undefined, color)' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a> -->\n\n    <image-cropper\n        [imageChangedEvent]=\"imageChangedEvent\"\n        [maintainAspectRatio]=\"true\"\n        [containWithinAspectRatio]=\"true\"\n        [aspectRatio]=\"ratio\"\n        format=\"png\"\n        (imageCropped)=\"imageCropped($event)\"\n        (imageLoaded)=\"imageLoaded()\"\n        (cropperReady)=\"cropperReady()\"\n        (loadImageFailed)=\"loadImageFailed()\"\n    ></image-cropper>\n</div>","import { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Template } from '../models/template.model';\nimport { DragScrollComponent } from 'ngx-drag-scroll';\nimport { Color } from '../models/color.model';\nimport { TemplateSide } from '../models/template-side.model';\nimport { CropperComponent } from '../cropper/cropper.component';\nimport { NgbModal, NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { Globals } from '../globals';\nimport { Validators, FormBuilder } from '@angular/forms';\nimport { Dict, LoadService } from '../services/load.service';\nimport * as html2canvas from 'html2canvas'\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { CurrencyMaskInputMode } from \"ngx-currency\";\nimport { Product } from '../models/product.model';\nimport { PopupDialogComponent } from '../popup-dialog/popup-dialog.component';\n\n\n@Component({\n  selector: 'app-design',\n  templateUrl: './design.component.html',\n  styleUrls: ['./design.component.css']\n})\nexport class DesignComponent implements OnInit {\n\n  mode = \"create\"\n\n  product?: Product\n\n\n  myInnerHeight(){\n    let height = window.innerHeight\n    let width = window.innerWidth\n\n    if (width < height){\n      return width * 0.98\n    }\n    else{\n      if (this.step == 0){\n        return height * 0.70\n      }\n      return height * 0.70\n    }\n  }\n\n  customCurrencyMaskConfig = {\n    align: \"left\",\n    allowNegative: false,\n    allowZero: true,\n    decimal: \".\",\n    precision: 2,\n    prefix: \"$ \",\n    suffix: \"\",\n    thousands: \",\",\n    min: 0,\n    inputMode: CurrencyMaskInputMode.NATURAL\n  };\n\n  \n\n  templates?: Array<Template>\n  selectedTemplate?: Template\n\n  frontImg?: any\n  linkImg?: any\n  backImg?: any\n\n\n  selectedColor?: Color\n  selectedSide?: number = 0\n  step?: number = 0\n\n  openCrop = false\n\n  storeInfo(){return Globals.storeInfo}\n\n  availableCurrencies(){return Globals.availableCurrencies}\n\n  selectedCurrency(){return Globals.selectedCurrency}\n\n\n\n  selectedIndicator(){\n\n    \n\n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n    \n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    let indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n\n\n  async takeSnap(){\n\n    if (this.frontImg == undefined && this.backImg == undefined){\n      return\n    }\n    this.spinner.show(\"designSpinner\")\n\n    \n\n    setTimeout(() => {\n      this.selectedSide = 0\n      if (this.frontImg == undefined){\n        this.selectedSide = 1\n      }\n      this.cdr.detectChanges()\n      let element = document.querySelector(\"#capture\") as HTMLElement\n  \n      html2canvas.default(element).then(async (canvas) => {\n        this.linkImg = canvas.toDataURL()\n        var amt = this.selectedTemplate!.minPrice / 100\n        if (this.backImg && this.frontImg){\n          amt += this.selectedTemplate!.extraCost / 100\n        }\n        this.designForm.controls.price.setValue(amt)\n        this.spinner.hide(\"designSpinner\")\n        this.step = 1\n      })\n    }, 500);\n\n\n  }\n\n  async createDesign(){\n\n    let nameField = this.designForm.controls.name\n    let priceField = this.designForm.controls.price\n    let descField = this.designForm.controls.description\n\n\n    if (nameField.invalid){\n\n      return\n    }\n    else if (priceField.invalid || (priceField.value * 100) < this.selectedTemplate!.minPrice){\n\n      return\n    }\n    else if (descField.invalid){\n\n      return\n    }\n\n\n    this.spinner.show(\"productSpinner\")\n\n    let name = nameField.value as string\n    let price = (priceField.value as number) * 100\n    let desc = descField.value as string ?? \"\"\n\n    if (this.mode == \"create\"){\n      var displaySide = \"front\"\n      var sides = new Array<string>()\n      var images: Array<Dict<any>> = [\n        {\n          img: this.linkImg,\n          type: \"link_\"\n        }\n      ]\n  \n  \n      if (this.frontImg){\n        sides.push(\"Front\")\n        images.push({\n          img: this.frontImg,\n          type: \"\"\n        })\n      }\n      else{\n        displaySide = \"back\"\n      }\n  \n      if (this.backImg){\n        sides.push(\"Back\")\n        images.push({\n          img: this.backImg,\n          type: \"BACK_\"\n        })\n      }\n  \n      if (sides.length == 0){\n        sides.push(\"Front\")\n        images = [\n          {\n            img: this.linkImg,\n            type: \"link_\"\n          },\n          {\n            img: this.frontImg,\n            type: \"\"\n          }\n        ]\n      }\n  \n  \n      let mappedData = {\n        name: name ?? \"Post\",\n        price: price ?? 2000,\n        description: desc ?? \"\",\n        productType: this.selectedTemplate?.productCode ?? \"ATC1000\",\n        displaySide: displaySide,\n        templateColor: this.selectedColor?.code ?? \"white\",\n        sides: sides,\n        images: images\n      }\n  \n      await this.loadService.createProduct(mappedData)\n    }\n    else{\n      let mappedData = {\n        name: name ?? \"Post\",\n        price: price ?? 2000,\n        description: desc ?? \"\",\n        available: true,\n        productID: this.product?.productID ?? \"\"\n      }\n      await this.loadService.updateProduct(mappedData)\n    }    \n\n    this.modalService.dismissAll()\n\n    \n    return this.spinner.hide(\"productSpinner\")\n\n\n\n  }\n  \n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n  designForm = this.fb.group({\n    name: [null, Validators.required],\n    description: null,\n    price: [null, [Validators.required]],\n  });\n\n\n  sanitizer?: DomSanitizer\n\n  @ViewChild('carousel', {read: DragScrollComponent}) ds?: DragScrollComponent;\n  @ViewChild('productTemplates', {read: DragScrollComponent}) dsp?: DragScrollComponent;\n\n  shouldShowCanvas(){\n    if (this.selectedSide == 0){\n      if (this.frontImg == undefined){\n        return true\n      }\n      return false\n    }\n    if (this.backImg == undefined){\n      return true\n    }\n    return false\n  }\n\n  minimumPrice(){\n    return (this.selectedTemplate?.minPrice ?? 0) / 100\n  }\n\n  selectedImage(){\n    console.log(this.selectedSide)\n    if (this.selectedSide == 0){\n      return this.frontImg\n    }\n    return this.backImg\n  }\n\n  moveLeft() {\n    if (this.ds?.currIndex != 0){\n      this.ds?.moveLeft();\n    }\n  }\n\n  moveRight() {\n    if (this.ds?.currIndex != (this.selectedTemplate?.colors.length ?? 0) - 1){\n      this.ds?.moveRight();\n    }\n  }\n\n  didMove() {\n    this.selectedColor = this.selectedTemplate?.colors[this.ds?.currIndex ?? 0]\n  }\n\n\n  getTypeImages(template: Template) {\n\n    var len = template.colors.filter(obj => {\n      return obj.code == \"black\"\n    })\n    var img: any\n    if (len.length == 0){\n      img = template.colors.filter(obj => {\n        return obj.code == \"white\"\n      })[0].img\n    }\n    else{\n      img = len[0].img\n    }\n    return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + img)\n  }\n\n  sideName(){\n    var side = this.selectedSide\n    if (side == undefined){\n      side = 0\n    }\n    return (\"Click To Add \" + this.selectedTemplate?.supportedSides[side].name + \" design\").toUpperCase()\n  }\n\n  cancel(){\n    if (this.frontImg == undefined && this.backImg == undefined){\n      this.activeModal.dismiss()\n      return\n    }\n    this.openPopup()\n  }\n\n  openPopup() {\n    \n    if (this.linkImg == undefined){\n      let element = document.querySelector(\"#capture\") as HTMLElement\n      html2canvas.default(element).then(async (canvas) => {\n        const modalRef = this.modalService.open(PopupDialogComponent, {size : \"sm\", centered: true});\n\n        let img = canvas.toDataURL()\n        modalRef.componentInstance.yesBtn = \"Yes\"\n        modalRef.componentInstance.noBtn = \"No\"\n        modalRef.componentInstance.message = \"You will lose your product.\"\n        modalRef.componentInstance.title = \"ARE YOU SURE?\"\n        modalRef.componentInstance.img = img\n\n        let sub = modalRef.dismissed.subscribe((resp: any) => {\n          sub.unsubscribe()\n          if (resp.Success){\n        \n            this.activeModal.dismiss()\n          }\n        })\n      })\n    }\n    else{\n      const modalRef = this.modalService.open(PopupDialogComponent, {size : \"sm\", centered: true});\n      modalRef.componentInstance.yesBtn = \"Yes\"\n      modalRef.componentInstance.noBtn = \"No\"\n      modalRef.componentInstance.message = \"You will lose your product.\"\n      modalRef.componentInstance.title = \"ARE YOU SURE?\"\n      modalRef.componentInstance.img = this.linkImg\n\n      let sub = modalRef.dismissed.subscribe((resp: any) => {\n        sub.unsubscribe()\n        if (resp.Success){\n      \n          this.activeModal.dismiss()\n        }\n      })\n    }\n  }\n\n  fileChangeEvent(event: any, type = this.selectedSide ?? 0): void {\n\n\n    this.openCrop = true\n\n    const modalRef = this.modalService.open(CropperComponent, {size : \"md\"});\n    \n    modalRef.componentInstance.imageChangedEvent = event\n\n\n\n    var width = 1125\n    var height = 1742\n\n    if (this.selectedTemplate?.supportedSides[type].useReverseAspect){\n      width = 1742\n      height = 1125\n    }\n\n    modalRef.componentInstance.ratio = this.selectedTemplate?.supportedSides[type].reversedAspectRatio()\n\n    modalRef.componentInstance.width = width\n    modalRef.componentInstance.height = height\n\n    let sub = modalRef.dismissed.subscribe((img: string) => {\n      sub.unsubscribe()\n      this.openCrop = false\n      console.log(img)\n      if (img != '0'){\n        event.srcElement.value = \"\"\n        event.target.value = \"\"\n        if (type == 0){\n          this.frontImg = img\n        }\n        else{\n          this.backImg = img\n        }\n      }\n      this.cdr.detectChanges()\n    })\n  }\n\n  getColorSide(side?: number, color?: Color) {\n\n    if (side == undefined){\n      side = this.selectedSide\n    }\n    if (color == undefined){\n      color = this.selectedColor\n    }\n\n    var img = color!.img\n\n    if (side == 1){\n      img = color!.imgBack\n    }\n \n    return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + img)\n  }\n\n\n  getProductImages(type: string) {\n\n    if (type == \"prev\"){\n      if (this.ds?.currIndex == 0){\n        return ''\n      }\n      return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + this.selectedTemplate?.colors[(this.ds?.currIndex ?? 1) - 1].img)\n    }\n    if (this.ds?.currIndex == (this.selectedTemplate?.colors.length ?? 1) - 1){\n      return ''\n    }\n    return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + this.selectedTemplate?.colors[(this.ds?.currIndex ?? 1) + 1].img)\n  }\n\n  getProductColor(type: string){\n    if (type == \"prev\"){\n      if (this.ds?.currIndex == 0){\n        return ''\n      }\n      return this.getColor(this.selectedTemplate?.colors[(this.ds?.currIndex ?? 1) - 1]!)\n    }\n\n    if (this.ds?.currIndex == (this.selectedTemplate?.colors.length ?? 1) - 1){\n      return ''\n    }\n    return this.getColor(this.selectedTemplate?.colors[(this.ds?.currIndex ?? 1) + 1]!)\n  }\n\n  nextStep(){\n    this.takeSnap()\n    \n  }\n\n  moveColors(index: number) {\n    this.ds?.moveTo(index);\n  }\n\n  moveTo(index: number) {\n    this.dsp?.moveTo(index);\n  }\n\n  selectSide(side: number){\n    this.selectedSide = side\n  }\n\n  selectTemplate(template: Template){\n\n    this.selectedTemplate = template\n    this.selectedColor = template.colors[0]\n    this.selectedSide = 0\n\n    let index = this.templates?.indexOf(template) ?? 0\n    this.moveTo(index)\n    this.moveColors(0)\n\n  }\n\n  getColor(color: Color){\n    let r = color.rgb[0] * 255\n    let g = color.rgb[1] * 255\n    let b = color.rgb[2] * 255\n\n\n    return \"rgb(\" + r + \",\" + g + \",\" + b + \")\" \n  }\n\n\n  templateNum(){\n    if (this.selectedTemplate){\n      return this.templates?.indexOf(this.selectedTemplate)\n    }\n    return 0\n  }\n\n\n\n  constructor(\n    sanitizer: DomSanitizer,\n    private cdr: ChangeDetectorRef,\n    private modalService: NgbModal,\n    private activeModal: NgbActiveModal,\n    private fb: FormBuilder,\n    private spinner: NgxSpinnerService,\n    private loadService: LoadService,\n\n  ) { \n    this.sanitizer = sanitizer\n  }\n\n  ngOnInit(): void {\n    \n\n    this.loadTemplate()\n\n\n  }\n\n  calculateHeight(){\n    return this.calculateWidth() * this.selectedTemplate!.supportedSides[this.selectedSide ?? 0].regularAspectRatio()\n  }\n\n  calculateWidth(){\n    let frame = document.getElementById(\"frame\")?.getBoundingClientRect()\n    let width = (frame?.width ?? 0) + 10\n    return width * (this.selectedTemplate!.supportedSides[this.selectedSide ?? 0].widthMultiplier ?? 0)\n  }\n\n  calculateCenterY(){\n    let frame = document.getElementById(\"frame\")?.getBoundingClientRect()\n    let width = (frame?.width ?? 0)\n    let back = document.getElementById(\"back\")?.getBoundingClientRect()\n    let height = (back?.height ?? 0)\n\n    return ((height / 2) + (this.selectedTemplate!.supportedSides[this.selectedSide ?? 0].centerYConst * (width / 375))) - (this.calculateHeight()) / 2\n  }\n\n  calculateColor(color: Color){\n    if (color.code == \"white\"){\n      return {\n        text_color: \"secondary\",\n        border_color: \"#808080\"\n      }\n    }\n    return {\n      text_color: \"light\",\n      border_color: \"#ffffff\"\n    }\n  }\n\n  loadTemplate() {\n    \n    this.selectedTemplate = this.templates![0]\n    this.selectedColor = this.selectedTemplate!.colors[0]\n    this.cdr.detectChanges()\n    // var unsafeImageUrl = this.sanitizer.\n\n    // this.base64Data = this.sanitizer.bypassSecurityTrustUrl(unsafeImageUrl);\n  }\n\n}\n\n","\n\n    <div id=\"frame\" [hidden]=\"openCrop\">\n        \n            <div [hidden]=\"step != 0\" class=\"w-100\" style=\"position: relative;\">\n                <div class=\"bg-light rounded-top d-flex justify-content-between align-items-center px-3\" style=\"height: 70px;\">\n                    <a role=\"button\" (click)=\"cancel()\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                        <mat-icon >highlight_off</mat-icon>\n                    </a>\n                    <div class=\"text-center mt-3\">\n                        <h4 class=\"fw-bolder\" ><a style=\"text-decoration: none; font-size: larger; \"  role=\"button\">{{selectedTemplate?.templateDisplayName}}\n                            <h5 class=\"fw-normal\" style=\"text-decoration: none; font-size: smaller;\">{{selectedColor?.display}}</h5>\n                        </a></h4>\n                    </div>\n                    <mat-icon ></mat-icon>\n\n                    <!-- <h5 class=\"fw-bold mt-2\" style=\"text-decoration: none; font-size: smaller;\">NEW PRODUCT</h5> -->\n                    \n                </div>\n                <div class=\"w-100\"  style=\"position: absolute;\">\n                    <div class=\"w-100\" id=\"capture\">\n                        <drag-scroll #carousel class=\"w-100 h-100\" [indexChanged]=\"didMove()\" [scrollbar-hidden]=\"true\">\n                            <div drag-scroll-item class=\"w-100 bg-light\" *ngFor=\"let color of templates![templateNum()!].colors\" >\n                                <div id=\"back\" style=\"background-color:#cdf4fc; position: relative; aspect-ratio: 1/1;\">\n                                    \n                                    <div class=\" w-100 h-100 d-flex justify-content-center\" style=\"position: absolute;\">\n                                        <a role=\"button\" (click)=\"fileBackground.click()\" class=\"d-flex align-items-center justify-content-center\" style=\"position: absolute; pointer-events: auto;  text-decoration: none;\" [class.noDesign]=\"shouldShowCanvas()\" [style.borderColor] = \"calculateColor(color).border_color\" [style.height.px]=\"calculateHeight()\" [style.top.px]=\"calculateCenterY()\" [style.width.px]=\"calculateWidth()\">\n                                            \n                                            <p [hidden]=\"!shouldShowCanvas()\" class=\"fw-bolder text-center text-wrap text-{{calculateColor(color).text_color}}\" style=\"pointer-events: none;\" >\n                                                {{sideName()}}\n                                            </p>\n                                            <input #fileBackground type=\"file\" (change)=\"fileChangeEvent($event)\" style=\"display:none;\" />\n                                            <!-- //text-wrap -->\n                                            <img [hidden]=\"shouldShowCanvas()\" class=\"w-100 h-100\" [src]=\"selectedImage()\" style=\"object-fit:contain; pointer-events: auto;\">\n                                        </a>\n                                    </div>\n                                    <a role=\"button\"><img class=\"w-100 h-100\" style=\"object-fit: contain; aspect-ratio: 1/1;\" [src]='getColorSide(undefined, color)' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                                </div>\n                            </div>\n                        </drag-scroll>\n                    </div>\n                    <div class=\"p-3 bg-light d-flex justify-content-between align-items-center rounded-bottom\" >\n\n\n                        <div class=\"d-flex justify-content-between align-items-center\">\n\n                            <div class=\"d-flex justify-content-between align-items-center\">\n                                <a role=\"button\" class=\"pt-1\" style=\"text-shadow: 2px 2px 4px #42424281;\" style.color= \"{{getProductColor('prev')}}\" (click)=\"moveLeft()\">\n                                    <mat-icon class=\"fw-bolder\" [hidden]=\"ds?.currIndex == 0\" >arrow_back_ios</mat-icon>\n                                </a>\n    \n    \n                                <div [hidden]=\"ds?.currIndex == 0\" class=\"p-1 rounded-circle shadow\" style.background-color= \"{{getProductColor('prev')}}\" [style.width.px]=\"40\" [style.height.px]=\"40\" >\n                                    <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\" (click)=\"moveLeft()\">\n                                        <img [src]='getProductImages(\"prev\")' class=\"rounded-circle img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n                                    </a>\n                                </div>\n                            </div>\n\n                            <div [hidden]=\"ds?.currIndex != 0\" style=\"width: 40px; height: 40px\">\n                            </div>\n\n\n                            <div class=\"fw-bolder\" [hidden]=\"ds?.currIndex != 0\">\n                                <mat-icon ></mat-icon>\n                            </div>\n\n                        </div>\n\n                        <div class=\"h-100 d-flex justify-content-center align-items-center\">\n                            <div class=\"rounded-pill px-3 py-3 d-flex align-items-center justify-content-center shadow\" style=\"background-color: #57b846;\" [style.height.px]=\"40\">\n                                <a role=\"button\" (click)=\"nextStep()\" class=\" text-light d-flex align-items-center justify-content-center\" style=\"font-size: 18px; text-decoration: none;\" >\n                                    Done\n                                    <mat-icon class=\"ms-1\">check_circle</mat-icon>\n                                </a>\n                            </div>\n                        </div>\n\n                        <div class=\"d-flex justify-content-between align-items-center\">\n    \n\n                            <div [hidden]=\"ds?.currIndex == (this.selectedTemplate?.colors!.length) - 1\" class=\"p-1 rounded-circle shadow\" style.background-color= \"{{getProductColor('next')}}\" [style.width.px]=\"40\" [style.height.px]=\"40\" >\n                                <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\" (click)=\"moveRight()\">\n                                    <img [src]='getProductImages(\"next\")' class=\"rounded-circle img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n                                </a>\n                            </div>\n                            \n\n                            <a role=\"button\" class=\"pt-1\" style=\"text-shadow: 2px 2px 4px #42424281;\" style.color= \"{{getProductColor('next')}}\" (click)=\"moveRight()\">\n                                <mat-icon  class=\"fw-bolder\" [hidden]=\"ds?.currIndex == (this.selectedTemplate?.colors!.length) - 1\" >arrow_forward_ios</mat-icon>\n                            </a>\n\n\n                            <div [hidden]=\"ds?.currIndex != (this.selectedTemplate?.colors!.length) - 1\" style=\"width: 40px; height: 40px;\">\n                            </div>\n\n\n                            <div class=\"fw-bolder\" [hidden]=\"ds?.currIndex != (this.selectedTemplate?.colors!.length) - 1\">\n                                <mat-icon ></mat-icon>\n                            </div>\n                            \n                        </div>\n                    </div>\n                    <ngx-spinner\n                        bdColor = '{{selectedIndicator().bg_color}}'\n                        size = \"medium\"\n                        color = '{{selectedIndicator().color}}'\n                        type = {{selectedIndicator().name}} \n                        [fullScreen] = \"false\"\n                        style.color = \"{{selectedIndicator()!.color}}\"\n                        [name]=\"'designSpinner'\"\n                        [disableAnimation] = \"true\"\n                    >\n                    <h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">GENERATING PRODUCT...</h3>\n                    </ngx-spinner>\n                </div>\n                <div class=\"d-flex justify-content-between w-100\" style=\"position: absolute; pointer-events: none;\">\n                    <div class=\"px-2 py-2\"  [style.height.px]=\"myInnerHeight()\" style=\"overflow: scroll; \" >\n                        <a role=\"button\" class=\"d-flex align-items-center justify-content-center\" style=\" font-size:smaller; width: 60px; text-decoration: none;\">\n                            <p class=\"fw-bolder text-center text-dark\"  >\n                                TYPE\n                            </p>\n                        </a>\n                        <div >\n                            <div class=\"mx-auto mb-2 p-1 rounded-circle\" style=\"pointer-events: auto;\" *ngFor=\"let template of templates\" [class.productTypeBtn] = \"selectedTemplate != template\" [class.selected] = \"selectedTemplate == template\" >\n                                <a style=\"pointer-events: auto;\" role=\"button\" (click)=\"selectTemplate(template)\" ><img class=\"rounded-circle img-responsive h-100 w-100\" style=\"object-fit:contain; background-color: #cdf4fc; \" [src]='getTypeImages(template)' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"px-2 py-2\"  [style.height.px]=\"myInnerHeight()\" style=\"overflow: scroll; \" >\n                        <a role=\"button\" class=\"d-flex align-items-center justify-content-center\" style=\" font-size:smaller; width: 60px; text-decoration: none;\">\n                            <p class=\"fw-bolder text-center text-dark\"  >\n                                SIDE\n                            </p>\n                        </a>\n                        <div >\n                            <div class=\"mx-auto mb-2 p-1 rounded\" style=\"pointer-events: auto;\" *ngFor=\"let side of selectedTemplate?.supportedSides ?? []; index as i\" [class.productTypeBtn] = \"selectedSide != i\" [class.selected] = \"selectedSide == i\" >\n                                <a style=\"pointer-events: auto;\" role=\"button\" (click)=\"selectSide(i)\" ><img class=\"img-responsive h-100 w-100\" style=\"object-fit:contain; background-color: #cdf4fc; \" [src]='getColorSide(i)' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class=\"w-100 rounded\" [hidden]=\"step == 0\" style=\"background-color: #e6e6e6; position: relative;\" >\n                <div class=\"bg-light rounded-top d-flex justify-content-between align-items-center px-3\" style=\"height: 70px;\">\n                    <a role=\"button\" (click)=\"cancel()\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                        <mat-icon >highlight_off</mat-icon>\n                    </a>\n                    <mat-icon ></mat-icon>\n                </div>\n                <div class=\"p-0 pt-0 w-100\">\n                    <div class=\"container-contact1 rounded-bottom w-100 h-100 p-2 d-flex justify-content-center\" >\n                        \n                        <div class=\"w-100 py-1 d-flex justify-content-center\" style=\"background-color: #cdf4fc;\">\n                            <div class=\"contact1-pic\" >\n                                <img [src]=\"linkImg\" alt=\"IMG\">\n                            </div>\n                        </div>\n                        \n            \n                        <form class=\"mt-4 px-3 px-md-5 px-lg-5 w-100 contact1-form\" [formGroup]=\"designForm\" >\n                            <span class=\"contact1-form-title mb-4 fw-bolder\" style=\"font-size: 20px;\">\n                                PRODUCT DETAILS\n                            </span>\n            \n                            <div class=\"wrap-input1 w-100 mb-3\">\n                                <input class=\"input1 w-100 py-3 px-3 px-lg-4 px-md-4 fw-bold\" type=\"text\" name=\"name\" formControlName=\"name\" placeholder=\"Name\">\n                                <span class=\"shadow-input1 py-3 px-2 px-lg-4 px-md-4\"></span>\n                            </div>\n                            <div class=\"wrap-input1 w-100 mb-3\" >\n                                <!-- <input class=\"input1\" \n                                \n                                 formControlName=\"price\" name=\"quantity\" placeholder=\"Price\"> -->\n                                 <input currencyMask class=\"input1 py-3 px-3 px-lg-4 px-md-4 fw-bold\" placeholder=\"Price\" [options]=\"customCurrencyMaskConfig\" formControlName=\"price\" />\n                                <span class=\"shadow-input1 py-3 px-2 px-lg-4 px-md-4\"></span>\n                                \n                            </div>\n            \n            \n                            <div class=\"wrap-input1 w-100 mb-3\">\n                                <textarea class=\"input1 p-3 p-lg-4 p-md-4 fw-bold\" name=\"message\" placeholder=\"Description (Optional)\" formControlName=\"description\"></textarea>\n                                <span class=\"shadow-input1 p-2 p-lg-4 p-md-4\"></span>\n                            </div>\n            \n                            <div class=\"container-contact1-form-btn mb-4 w-100\">\n                                <button class=\"contact1-form-btn\" (click)=\"createDesign()\">\n                                    <span *ngIf=\"mode == 'create'\" class=\"my-auto p-3 px-4 fw-bolder\">\n                                        Create Product\n                                    </span>\n                                    <span *ngIf=\"mode == 'edit'\" class=\"my-auto p-3 px-4 fw-bolder\">\n                                        Update Product\n                                    </span>\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                    <ngx-spinner\n                    bdColor = '{{selectedIndicator().bg_color}}'\n                    size = \"medium\"\n                    color = '{{selectedIndicator().color}}'\n                    type = {{selectedIndicator().name}} \n                    [fullScreen] = \"false\"\n                    style.color = \"{{selectedIndicator()!.color}}\"\n                    [name]=\"'productSpinner'\"\n                    [disableAnimation] = \"true\"\n                    >\n                    <h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">UPLOADING PRODUCT...</h3>\n                    </ngx-spinner>\n                </div>\n            </div>\n    </div>","import { Component, OnInit } from '@angular/core';\nimport { Globals } from '../globals';\nimport { Dict, LoadService } from '../services/load.service';\nimport { Country } from '../models/shipping-country.model';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-edit-plan',\n  templateUrl: './edit-plan.component.html',\n  styleUrls: ['./edit-plan.component.css']\n})\nexport class EditPlanComponent implements OnInit {\n\n  subInfo?: any\n  canTrial?: boolean\n  mode = 'new'\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n  storeInfo(){return Globals.storeInfo}\n\n  startSubscription(){\n    this.spinner.show('subSpinner')\n    this.loadService.startSubscription((id: any) => { \n      this.subInfo = id\n      this.done()\n    })\n  }\n\n  planStatus(){\n    console.log(this.subInfo?.items.data[0].plan.id)\n    if (this.subInfo?.plan.id == \"price_1JmgQyIdY1nzc70NXgzC1vCN\"){\n      return \"Thred Core Plan\"\n    }\n    return \"\"\n  }\n\n  planRenewalDate(){\n    return new Date(this.subInfo.current_period_end * 1000).toDateString();\n  }\n\n  planEndDate(){\n    return new Date(this.subInfo.cancel_at * 1000).toDateString();\n  }\n\n  formatPrice(price: number, short = false){\n    var priceAsString = new String(Number((price * Globals.selectedCurrency!.rate).toFixed(2)).toLocaleString('en'))\n    if (!short){\n      priceAsString = new String(Number((price * Globals.selectedCurrency!.rate).toFixed(2)))\n    }\n    let index = priceAsString.indexOf(\".\")\n    \n    switch (index){\n      case priceAsString.length - 1:\n          priceAsString += \"00\"\n          break\n      case -1:\n          priceAsString += \".00\"\n          break\n      case priceAsString.length - 2:\n        console.log(priceAsString)\n          priceAsString += \"0\"\n          break\n      default:\n  \n          break\n    }\n    return this.getCurrencyForCountry(Globals.selectedCurrency!, Globals.selectedCurrency!.name != \"US\") + priceAsString\n}\n\ncancelSubscription(){\n  this.spinner.show('subSpinner')\n  this.loadService.stopSubscription((id: any) => {\n    this.subInfo = id\n    this.done()\n  })\n}\n\nselectedIndicator(){\n\n    \n\n  let co = Globals.storeInfo?.loading?.color\n  let bco = Globals.storeInfo?.loading?.bg_color\n  let name = Globals.storeInfo?.loading?.name\n  \n  let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n  let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n  let indicator: Dict<string> = {\n    \"name\": name,\n    \"color\": color,\n    \"bg_color\": bg_color\n  }\n  return indicator\n}\n\n\nreactivateSubscription(){\n  this.spinner.show('subSpinner')\n  this.loadService.reactivateSubscription((id: any) => {\n    this.subInfo = id\n    this.done()\n  })\n}\n\ndone(){\n  this.spinner.hide('subSpinner')\n  this.activeModal.dismiss(this.subInfo)\n}\n  \ngetCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n  var returnItem = country.currency_symbol\n  if (shouldShowName) returnItem = country?.name + \" \" + returnItem\n\n  return returnItem\n}\n\n  constructor(\n    private activeModal: NgbActiveModal,\n    private loadService: LoadService,\n    private spinner: NgxSpinnerService\n  ) { }\n\n  ngOnInit(): void {\n    this.mode = this.subInfo == undefined ? 'new' : 'edit' \n    console.log(this.canTrial)\n  }\n\n}\n","<ngx-spinner\n    bdColor = '{{selectedIndicator().bg_color}}'\n    size = \"medium\"\n    color = '{{selectedIndicator().color}}'\n    type = {{selectedIndicator().name}} \n    [fullScreen] = \"false\"\n    style.color = \"{{selectedIndicator()!.color}}\"\n    [name]=\"'subSpinner'\"\n    [disableAnimation] = \"true\"\n    >\n    <!-- <h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">UPLOADING PRODUCT...</h3> -->\n    </ngx-spinner>\n<div class=\"bg-{{storeInfo().colorStyle!.back_code}} w-100 h-100 m-0\">\n    <div class=\"row gx-0 gx-md-4 gx-lg-4 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center mx-2 mt-2 mx-md-3 mt-md-3 mx-lg-3 mt-lg-3\" >\n                    \n        <div class=\"col h-100\">\n            <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" style.color=\"{{selectedTheme()!.color}}\" [style.font-family]=\"storeInfo().fontName!\">Merchant Plan</h2>\n            <div *ngIf=\"mode == 'edit' && subInfo!.cancel_at_period_end\" class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                <p class=\"text-center fw-bolder m-2 text-danger\" style=\"font-size:initial;\" [style.font-family]=\"storeInfo().fontName!\">Renew your plan to keep your store!</p>\n            </div>\n                <div class=\"card-body mt-2\" *ngIf=\"mode == 'edit'\">\n                    <div class=\"rounded mx-auto\" style=\"width: 35%; aspect-ratio: 1 / 1\" >\n                        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                            <img src='assets/thred_basic.png' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain;\">\n                        </a>\n                    </div>\n                    <div class=\"d-block align-items-center justify-content-center mt-3 mb-5\" style=\"font-size: 19px;\">\n                        <label [style.font-family]=\"storeInfo().fontName!\" class=\"mx-auto w-100 d-flex align-items-center justify-content-center\" ><a class=\"fw-bold text-center mx-auto\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planStatus()}} <b *ngIf=\"subInfo.status == 'trialing'\" style=\"color: #6c757d;\">(Trial)</b></a></label>\n                    </div>\n                    <div class=\"d-block align-items-center justify-content-start my-2\" style=\"font-size: 15px;\">\n                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Price: </label>\n                        <mat-hint *ngIf=\"subInfo.status != 'trialing'\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice((subInfo?.plan.amount ?? 0) / 100)}}/{{subInfo?.plan.interval ?? 'month'}}</a></mat-hint>\n                        <mat-hint *ngIf=\"subInfo.status == 'trialing'\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">FREE <b style=\"color: #6c757d;\">({{formatPrice((subInfo?.plan.amount ?? 0) / 100)}}/{{subInfo?.plan.interval ?? 'month'}} after trial)</b></a></mat-hint>\n                    </div>\n                    <div *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                        <label *ngIf=\"subInfo.status != 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Renews: </label>\n                        <label *ngIf=\"subInfo.status == 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Trial End: </label>\n                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planRenewalDate()}}</a></mat-hint>\n                    </div>\n                    <div *ngIf=\"subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Plan Ends: </label>\n                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planEndDate()}}</a></mat-hint>\n                    </div>\n                    \n                    <div *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"cancelSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Cancel Subscription <mat-icon class=\"ms-1\">back_hand</mat-icon></button>\n                    </div>\n                    <div *ngIf=\"subInfo!.cancel_at_period_end\" class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                        <button [style.font-family]=\"storeInfo().fontName!\" (click)=\"reactivateSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Reactivate Subscription <mat-icon class=\"ms-1\">check_circle</mat-icon></button>\n                    </div>\n                </div>\n                <div class=\"card-body mt-2\" *ngIf=\"mode == 'new'\">\n                    <div class=\"rounded mx-auto\" style=\"width: 35%; aspect-ratio: 1 / 1\" >\n                        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                            <img src='assets/thred_basic.png' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain;\">\n                        </a>\n                    </div>\n                    <div class=\"d-block align-items-center justify-content-center mt-3 mb-5\" style=\"font-size: 19px;\">\n                        <label [style.font-family]=\"storeInfo().fontName!\" class=\"mx-auto w-100 d-flex align-items-center justify-content-center\" ><a class=\"fw-bold text-center mx-auto\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">Thred Core Plan</a></label>\n                    </div>\n                    <div class=\"d-block align-items-center justify-content-start my-2 mb-4\" style=\"font-size: 15px;\">\n                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Price: </label>\n                        <mat-hint *ngIf=\"canTrial!\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice(35.00)}}/month after trial</a></mat-hint>\n                        <mat-hint *ngIf=\"!canTrial!\" [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{formatPrice(35.00)}}/month</a></mat-hint>\n                    </div>\n                    <!-- <div *ngIf=\"!subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                        <label *ngIf=\"subInfo.status != 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Renews: </label>\n                        <label *ngIf=\"subInfo.status == 'trialing'\" style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Trial End: </label>\n                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planRenewalDate()}}</a></mat-hint>\n                    </div>\n                    <div *ngIf=\"subInfo!.cancel_at_period_end\" class=\"d-block align-items-center justify-content-start my-2 mb-5\" style=\"font-size: 15px;\">\n                        <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \" mb-1 me-1\">Plan Ends: </label>\n                        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bold\" role=\"button\" style=\"text-decoration: none;\" style.color=\"{{selectedTheme()!.color}}\">{{planEndDate()}}</a></mat-hint>\n                    </div> -->\n                    <div class=\"d-flex align-items-center justify-content-center mt-3 mb-2\" style=\"font-size: 15px;\">\n                        <button *ngIf=\"canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start Free Trial</button>\n                        <button *ngIf=\"!canTrial!\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"startSubscription()\" class=\"btn d-flex\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\">Start Subscription</button>\n                    </div>\n                </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Inventory } from '../models/inventory.model';\nimport { Globals } from '../globals';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Dict, LoadService } from '../services/load.service';\nimport { Country } from '../models/shipping-country.model';\nimport { Template } from '../models/template.model';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-inventory-buy',\n  templateUrl: './inventory-buy.component.html',\n  styleUrls: ['./inventory-buy.component.css']\n})\nexport class InventoryBuyComponent implements OnInit {\n\n  inventory?: Inventory\n  template?: Template\n\n  storeInfo(){return Globals.storeInfo}\n  templates(){return Globals.templates}\n\n\n  mode = \"new\"\n\n  calculateMarginPercent(template: Template){\n    return Math.round(this.calculateMargin(true, template) / (template.bulkSuggestPrice / 100) * 100)\n  }\n\n  calculateMarginDifference(template: Template){\n    return Math.round(((template.bulkSuggestPrice - template.bulkPrice) * 0.95) / ((template.bulkSuggestPrice - template.minPrice) * 0.90))\n  }\n\n  calculateMargin(isBulk: boolean, template: Template){\n    if (isBulk){\n      return ((template.bulkSuggestPrice - template.bulkPrice) * 0.95) / 100\n    }\n    return ((template.bulkSuggestPrice - template.minPrice) * 0.90) / 100\n  }\n\n  matchTemplate(inventory: Inventory){\n    \n    return this.templates().filter(obj => { return obj.productCode == inventory.code })[0]\n  }\n\n  \n\n  formatPrice(price: number, short = false){\n    var priceAsString = new String(Number(Math.round((price * Globals.selectedCurrency!.rate)).toFixed(2)).toLocaleString('en'))\n\n    if (!short){\n      priceAsString = new String(Number((price * Globals.selectedCurrency!.rate).toFixed(2)).toLocaleString('en'))\n    }\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n      case priceAsString.length - 1:\n          priceAsString += \"00\"\n          break\n      case priceAsString.length - 2:\n          priceAsString += \"0\"\n          break\n      default:\n  \n          break\n    }\n    return this.getCurrencyForCountry(Globals.selectedCurrency!, Globals.selectedCurrency!.name != \"US\") + priceAsString\n}\n  \ngetCurrencyForCountry(country: Country, shouldShowName: boolean){\n\n  var returnItem = country.currency_symbol\n  if (shouldShowName) returnItem = country?.name + \" \" + returnItem\n\n  return returnItem\n}\n\n  constructor(\n    private sanitizer: DomSanitizer,\n    private loadService: LoadService,\n    private spinner: NgxSpinnerService,\n    private activeModal: NgbActiveModal\n  ) { }\n\n  async buyMore(inventory: Inventory){\n    this.spinner.show(\"invSpinner\")\n\n    await this.loadService.createBulkPayment(inventory.code, id => {\n      if (this.inventory){\n        this.inventory.amount += this.matchTemplate(inventory).bulkUnit\n      }\n      this.spinner.hide(\"invSpinner\")\n      this.activeModal.dismiss(this.inventory)\n      this.toast(this.matchTemplate(inventory).bulkUnit + \" \" + inventory.name.toLowerCase() + \" added to inventory!\")\n    })\n  }\n\n  selectedIndicator(){\n\n    \n\n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n    \n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    let indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  async buyNew(template: Template){\n\n    this.spinner.show(\"invSpinner\")\n    await this.loadService.createBulkPayment(template.productCode, id => {\n      this.inventory = new Inventory(template.productCode, template.templateDisplayName, template.bulkUnit, new Date(), id, true)\n      this.mode = \"add\"\n      this.spinner.hide(\"invSpinner\")\n      this.activeModal.dismiss(this.inventory)\n      this.toast(template.bulkUnit + \" \" + template.templateDisplayName.toLowerCase() + \" added to inventory!\")\n    })\n  }\n\n  toast(message: string){\n\n    this.loadService.openSnackBar(message)\n\n  }\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n\n  removeAutoReload(inventory: Inventory){\n    this.loadService.removeAutoReload((inventory), success => {\n      if (success){\n        inventory.autoReload = false\n        this.toast(\"Auto-Reload for \" + inventory.name.toLowerCase() + \" removed\")\n      }\n    })\n  }\n\n  setUpAutoReload(inventory: Inventory){\n    this.loadService.setAutoReload((inventory), success => {\n      if (success){\n        inventory.autoReload = true\n        this.toast(\"Auto-Reload for \" + inventory.name.toLowerCase() + \" set\")\n      }\n    })\n  }\n\n  getTypeImages(templateName: string) {\n\n    let template = Globals.templates.filter(obj => {\n      return obj.templateDisplayName == templateName\n    })[0]\n\n    var len = template.colors.filter(obj => {\n      return obj.code == \"black\"\n    })\n    var img: any\n    if (len.length == 0){\n      img = template.colors.filter(obj => {\n        return obj.code == \"white\"\n      })[0].img\n    }\n    else{\n      img = len[0].img\n    }\n    return this.sanitizer!.bypassSecurityTrustResourceUrl(\"data:image/jpeg;base64,\" + img)\n  }\n\n  ngOnInit(): void {\n    this.mode = this.inventory == undefined ? 'new' : 'add' \n  }\n\n}\n","<ngx-spinner\n    bdColor = '{{selectedIndicator().bg_color}}'\n    size = \"medium\"\n    color = '{{selectedIndicator().color}}'\n    type = {{selectedIndicator().name}} \n    [fullScreen] = \"false\"\n    style.color = \"{{selectedIndicator()!.color}}\"\n    [name]=\"'invSpinner'\"\n    [disableAnimation] = \"true\"\n    >\n    <!-- <h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">UPLOADING PRODUCT...</h3> -->\n    </ngx-spinner>\n<div *ngIf=\"mode == 'add'\" class=\"my-4\">\n    <div class=\"d-flex align-items-center justify-content-center  my-3\" style=\"font-size: 28px;\">\n        <label style=\"color: #6c757d;\"  class = \"mb-1 me-1 text-center fw-bold\">Remaining: </label>\n        <mat-hint  align=\"start\"><a class=\"fw-bolder text-center text-dark\" role=\"button\" style=\"text-decoration: none;\" > {{inventory!.amount ?? 0}}</a></mat-hint>\n    </div>\n    <div class=\"rounded mx-auto\" style=\"width: 35%; aspect-ratio: 1 / 1\" >\n        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n            <img [src]='getTypeImages(inventory!.name)' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n        </a>\n    </div>\n    <div class=\"d-block align-items-center justify-content-center mt-4 mb-5\" style=\"font-size: 15px;\">\n        <button (click)=\"buyMore(inventory!)\" class=\"btn btn-dark d-flex my-2 mx-auto d-flex align-items-center justify-content-center\" style=\"width: 35%;\">Add 100 Units for {{formatPrice((matchTemplate(inventory!).bulkPrice), true)}}</button>\n        <button *ngIf=\"!inventory!.autoReload\" (click)=\"setUpAutoReload(inventory!)\" class=\"btn btn-dark d-flex align-items-center justify-content-center mx-auto my-2 fw-bolder\" style=\"width: 35%;\">Set up Auto-Reload</button>\n        <button *ngIf=\"inventory!.autoReload\" (click)=\"removeAutoReload(inventory!)\" class=\"btn btn-success d-flex align-items-center justify-content-center mx-auto my-2 fw-bolder\" style=\"width: 35%;\">Auto-Reload<mat-icon class=\"ms-1\">check_circle</mat-icon></button>\n    </div>\n</div>\n<div *ngIf=\"mode == 'new'\" class=\"my-4\">\n    <div class=\"d-flex align-items-center justify-content-center my-3\" style=\"font-size: 28px;\">\n        <h2 class=\"text-center fw-bolder m-2\" style=\"font-size: x-large;\" >{{template!.templateDisplayName}}</h2>\n\n        <!-- <label style=\"color: #6c757d;\" [style.font-family]=\"storeInfo().fontName!\" class = \"mb-1 me-1 text-center\">Remaining: </label>\n        <mat-hint [style.font-family]=\"storeInfo().fontName!\"  align=\"start\"><a class=\"fw-bolder text-center\" role=\"button\" style=\"text-decoration: none;\" > {{inventory!.amount ?? 0}}</a></mat-hint> -->\n    </div>\n    <div class=\"rounded mx-auto\" style=\"width: 35%; aspect-ratio: 1 / 1\" >\n        <a role=\"button\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n            <img [src]='getTypeImages(template!.templateDisplayName)' class=\"rounded img-responsive h-100 w-100 p-1\" style=\"object-fit:contain; background-color: #cdf4fc;\">\n        </a>\n    </div>\n    <div class=\"d-block align-items-center justify-content-center mt-4 mb-5\" style=\"font-size: 15px;\">\n        <button (click)=\"buyNew(template!)\" class=\"btn btn-dark d-flex my-2 align-items-center justify-content-between mx-auto fw-bolder\" style=\"width: 35%;\">Buy {{template!.bulkUnit}} Units for {{formatPrice((template!.bulkPrice / 100) * template!.bulkUnit, true)}}<mat-icon class=\"ms-1\">check_circle</mat-icon></button>\n    </div>\n\n    <div class=\"d-flex align-items-center justify-content-center\">\n        <div style=\"width: fit-content;\">\n            <h2 class=\"text-start fw-bolder m-2\" style=\"font-size: x-large;\" >Benefits of pre-purchasing {{template!.templateDisplayName.toLowerCase()}}:</h2>\n            <p class=\"text-start  m-2\">• <b>{{calculateMarginPercent(template!)}}% margins</b> on every sale, giving you full control on pricing.  <br><p *ngIf=\"(template!.supportedSides.length ?? 0) > 1\" style=\"color: #6c757d;\">(-{{formatPrice((template?.extraCost ?? 0) / 100, true)}} per. <b>additional</b> side)</p></p>\n            <p class=\"text-start  m-2\"  >• <b>{{calculateMarginDifference(template!)}}x your current margins</b> when pricing at {{formatPrice((template?.bulkSuggestPrice ?? 0) / 100)}}. <br><p style=\"color: #6c757d;\">(Profit: <b>{{formatPrice(calculateMargin(true, template!))}} per. {{template!.templateDisplayName.slice(0,-1).toLowerCase()}}</b>)</p></p>\n            <p class=\"text-start  m-2\"  >• When you pre-purchase your inventory, you have <b>full ownership</b>. <br><p style=\"color: #6c757d;\">(You own your {{template!.bulkUnit}} {{template!.templateDisplayName.toLowerCase()}})</p></p>\n            <p class=\"text-start  m-2\"  >• Thred will fulfill your orders/manage your inventory with <b>no added cost</b>. <br><p style=\"color: #6c757d;\">(Sit back, and make money  🎨💰)</p></p>\n\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-inventory-list',\n  templateUrl: './inventory-list.component.html',\n  styleUrls: ['./inventory-list.component.css']\n})\nexport class InventoryListComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>inventory-list works!</p>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-social-form',\n  templateUrl: './social-form.component.html',\n  styleUrls: ['./social-form.component.css']\n})\nexport class SocialFormComponent implements OnInit {\n\n  linkImg?: string\n  name?: string\n\n  constructor(private fb: FormBuilder, private activeModal: NgbActiveModal) { }\n\n  socialForm = this.fb.group({\n    link: [null],\n  });\n\n\n  ngOnInit(): void {\n    console.log(this.linkImg)\n  }\n\n  close(){\n    this.activeModal.dismiss()\n  }\n\n  finish(){\n    var returnItem = this.socialForm.controls.link.value ?? undefined\n\n    console.log(returnItem)\n    this.activeModal.dismiss(returnItem)\n\n  }\n  \n\n  myInnerHeight(){\n    let height = window.innerHeight\n    let width = window.innerWidth\n\n    if (width < height){\n      return width * 0.98\n    }\n    else{\n      return height * 0.70\n    }\n  }\n\n}\n","<div  >\n    <div class=\"w-100 rounded\" style=\"background-color: #e6e6e6; position: relative;\" >\n        <div class=\"bg-light rounded-top d-flex justify-content-between align-items-center px-3\" style=\"height: 70px;\">\n            <a role=\"button\" (click)=\"close()\" style=\"text-shadow: 2px 2px 4px #42424281;\">\n                <mat-icon >highlight_off</mat-icon>\n            </a>\n            <mat-icon ></mat-icon>\n        </div>\n        <div class=\"p-0 pt-0 w-100\">\n            <div class=\"container-contact1 rounded-bottom w-100 h-100 p-2 d-flex justify-content-center\" >\n                \n                <div class=\"w-100 py-1 d-flex justify-content-center\">\n                    <div class=\"contact1-pic w-100\" >\n                        <img class=\"w-100\" src=\"{{linkImg}}\" style=\"object-fit: contain; height: 100px;\"  alt=\"IMG\">\n                    </div>\n                </div>\n                \n    \n                <form class=\"mt-4 px-3 px-md-5 px-lg-5 w-100 contact1-form\" [formGroup]=\"socialForm\" >\n                    <span class=\"contact1-form-title mb-4 fw-bolder\" style=\"font-size: 20px;\">\n                        {{name}}\n                    </span>\n                    <div class=\"wrap-input1 w-100 mb-3\">\n                        <input class=\"input1 w-100 py-3 px-3 px-lg-4 px-md-4 fw-bold\" type=\"text\" name=\"link\" formControlName=\"link\" placeholder=\"{{name}} URL\">\n                        <span class=\"shadow-input1 py-3 px-2 px-lg-4 px-md-4\"></span>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n    <div class=\"container-contact1-form-btn mb-4 mt-auto w-100\">\n        <button class=\"contact1-form-btn\" (click)=\"finish()\">\n            <span class=\"my-auto p-3 px-4 fw-bolder\">\n                Save {{name}} URL\n            </span>\n        </button>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-store-setup',\n  templateUrl: './store-setup.component.html',\n  styleUrls: ['./store-setup.component.css']\n})\nexport class StoreSetupComponent implements OnInit {\n\n  constructor(\n    private activeModal: NgbActiveModal\n  ) { }\n\n  getStarted(){\n    this.activeModal.dismiss()\n  }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"w-100\">\n    <h1 class=\"text-center fw-bolder m-2 mt-4\">Welcome to Thred</h1>\n    <p class=\"text-center fw-bolder mx-2 mt-2\">A few things before you get started...</p>\n    <div class=\"d-flex justify-content-center mt-5\">\n        <div class=\"mt-2\">\n            <div class=\"d-flex\">\n                <mat-icon class=\"ms-2 me-2\">\n                    <span class=\"material-icons-outlined\">\n                        work\n                    </span>\n                </mat-icon>\n                <p class=\"text-start\">\n                    Set up your <b>billing</b> & <b>merchant plan</b> to get started\n                </p>\n            </div>\n            <div class=\"d-flex\">\n                <mat-icon class=\"ms-2 me-2\">\n                    <span class=\"material-icons-outlined\">\n                        monetization_on\n                    </span>\n                </mat-icon>\n                <p class=\"text-start\">\n                    Link your <b>direct-deposit account</b> to get paid from your store\n                </p>\n            </div>\n            <div class=\"d-flex\">\n                <mat-icon class=\"ms-2 me-2\">\n                    <span class=\"material-icons-outlined\">\n                        brush\n                    </span>\n                </mat-icon>\n                <p class=\"text-start\">\n                    Create your first <b>product!</b>\n                </p>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"p-2 w-100 mt-5\">\n        <img src=\"/assets/design_image_2.png\" class=\"rounded w-100 aspect-ratio\" style=\"object-fit: contain;\"> \n    </div>\n    <div class=\"d-flex justify-content-center align-items-center m-2\">\n        <a role=\"button\" (click)=\"getStarted()\" class=\"side d-flex text-light btn btn-success rounded-pill mb-2 align-items-center justify-content-center fw-bold\">\n            GET STARTED\n            <mat-icon class=\"ms-2\">\n                <span class=\"material-icons-outlined\" style=\"font-size: 25px;\">\n                    check_circle\n                </span>\n            </mat-icon>\n        </a>\n    </div>\n</div>\n"],"sourceRoot":"webpack:///"}