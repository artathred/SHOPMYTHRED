{"version":3,"sources":["./src/app/model-viewer/model-viewer.component.ts","./src/app/model-viewer/model-viewer.component.html","./src/app/product/product.component.ts","./src/app/product/product.component.html","./src/app/product/product.module.ts"],"names":[],"mappings":"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","file":"589.js","sourcesContent":["import { Component, OnInit, AfterViewInit, Inject, PLATFORM_ID } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Template } from '../models/template.model';\nimport { Product } from '../models/product.model';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { Globals } from '../globals';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Dict } from '../services/load.service';\n\n@Component({\n  selector: 'app-model-viewer',\n  templateUrl: './model-viewer.component.html',\n  styleUrls: ['./model-viewer.component.css']\n})\nexport class ModelViewerComponent implements OnInit, AfterViewInit {\n\n  myHtmlTemplate: any = '';\n\n  data = {\n    \"template\": new Template(),\n    \"product\": new Product()\n  }\n\n  template = new Template()\n  product = new Product()\n  \n  constructor(\n    public http: HttpClient, \n    private sanitizer: DomSanitizer,\n    private modalService: NgbModal,\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private spinner: NgxSpinnerService,\n  ) {}\n\n  ngAfterViewInit(): void {\n  }\n\n  ngOnInit(): void {\n    this.template = this.data.template\n    this.product = this.data.product\n    this.showSpinner()\n\n    this.openModel()\n\n  }\n\n  getModelUrl(type: string){\n    switch (type){\n    case \"ATC Hoodie\":\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FHoodies%2Fhoodie_model.glb?alt=media\"\n    case \"MUG\":\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FMugs%2Fmug_model2.glb?alt=media\"\n    default:\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FTShirts%2Fshirt_model.glb?alt=media\"\n    }\n}\n\ngetModelTextureUrl(type: string, templateColor: string){\n    switch (type){\n    case \"ATC Hoodie\":\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FHoodies%2FTextures%2F\" + templateColor + \".jpg?alt=media\"\n    case \"MUG\":\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FMugs%2FTextures%2F\" + templateColor + \".jpg?alt=media\"\n    default:\n        return \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FTShirts%2FTextures%2F\" + templateColor + \".jpg?alt=media\"\n    }\n}\n\ngetSkyBoxUrl(type: string, skyBoxCode: string){\n    \n    var productType = \"TShirts\"\n    \n    switch (type){\n    case \"ATC Hoodie\":\n        productType = \"Hoodies\"\n        break\n    case \"MUG\":\n        productType = \"Mugs\"\n        break\n    default:\n        productType = \"TShirts\"\n    }\n    return \"https://storage.googleapis.com/clothingapp-ed125.appspot.com/Models/\" + productType + \"/Skyboxes/\" + skyBoxCode + \".hdr\"\n}\n\nopenBtn(){\n  this.modalService.dismissAll(\"success\")\n}\n\n\nisBrowser(){\n  return isPlatformBrowser(this.platformID)\n}\n\n\nselectedIndicator(){\n\n  let co = Globals.storeInfo?.loading?.color\n  let bco = Globals.storeInfo?.loading?.bg_color\n  let name = Globals.storeInfo?.loading?.name\n  \n  let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n  let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n  let indicator: Dict<string> = {\n    \"name\": name,\n    \"color\": color,\n    \"bg_color\": bg_color\n  }\n  return indicator\n}\n\nstoreInfo(){return Globals.storeInfo}\n\n\nselectedTheme(){\n    \n  let co = Globals.storeInfo?.colorStyle?.btn_color\n  let bco = Globals.storeInfo?.colorStyle?.bg_color\n  let name = Globals.storeInfo?.colorStyle?.name\n\n  let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n  let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n  var theme: Dict<string> = {\n    \"name\": name,\n    \"color\": color,\n    \"bg_color\": bg_color\n  }\n  return theme\n}\n\nisSpinning = false\n\n\nshowSpinner(){\n  if (!this.isSpinning){\n    this.isSpinning = true\n    if (isPlatformBrowser(this.platformID)){\n      this.spinner.show(\"modelSpinner\")\n    };\n\n    setTimeout(() => {\n      if (isPlatformBrowser(this.platformID)){\n        this.hideSpinner()\n\n          this.spinner.hide()\n      };\n    }, 2000);\n  }\n}\n\nhideSpinner(){\n  if (this.isSpinning){\n    this.isSpinning = false\n    // this.spinner.hide()\n  }\n}\n\n  public openModel() {\n  \n    var html: string = \"\"\n    var skyBoxUrl = this.getSkyBoxUrl(this.product.productType, \"room\")\n    var modelTextureURL = this.getModelTextureUrl(this.product.productType, this.product.templateColor)\n    var modelURL = this.getModelUrl(this.product.productType)\n\n    let backURL = this.product.getUrl(true) ?? \"\"\n    let url = this.product.getUrl(false) ?? \"\"\n\n\n    let color = this.template.colors.find(color => color.code == this.product.templateColor)\n\n    if (color){\n      var colors = [1, 1, 1, 1]\n\n      color.rgb.forEach((e, index) => {\n        colors[index] = e\n      })\n\n      switch (this.template.productCode ?? \"ATC1000\"){\n        case \"ATC1000\":\n            html = \"<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer></script></head><body><model-viewer camera-controls skybox-image='\" + skyBoxUrl + \"'environment-image='\" + skyBoxUrl + \"'alt='A 3D astronaut model depicted within a forest'src='\" + modelURL + \"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (i === 0){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + modelTextureURL + \"');}else if (i === 1){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + url + \"');}console.log(materials[i])}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);</script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'></script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>\"\n            break\n        case \"ATC Hoodie\":\n            html = \"<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer></script></head><body><model-viewer camera-controls skybox-image='\" + skyBoxUrl + \"'environment-image='\" + skyBoxUrl + \"'alt='A 3D astronaut model depicted within a forest'src='\" + modelURL + \"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (materials[i].name === 'Left Cap' || materials[i].name === 'Right Cap' || materials[i].name == 'String Holes (Interior)'){materials[i].pbrMetallicRoughness.setBaseColorFactor([\" + colors[0] + \", \" + colors[1] + \", \" + colors[2] + \", \" + colors[3] + \"]);}else if (materials[i].name === 'String Holes'){materials[i].pbrMetallicRoughness.setBaseColorFactor([0.7,0.7,0.7,1]);}else if (materials[i].name === 'Draw Strings' || materials[i].name === 'Body' || materials[i].name == 'Front Canvas'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + modelTextureURL + \"');}else if (materials[i].name === 'Front Image'){console.log(materials[i]);materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + url + \"');}else if (materials[i].name === 'Back Image'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + backURL + \"');}console.log(materials[i].name)}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);</script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'></script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>\"\n            break\n        case \"MUG\":\n  \n            html = \"<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer></script></head><body><model-viewer camera-controls skybox-image='\" + skyBoxUrl + \"'environment-image='\" + skyBoxUrl + \"'alt='A 3D astronaut model depicted within a forest'src='\" + modelURL + \"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (materials[i].name == 'DefaultMaterial.001'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('');materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + modelTextureURL + \"');}else if (materials[i].name == 'Design'){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + url + \"');}else if (materials[i].name == 'Design_Back'){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('\" + backURL + \"');}console.log(materials[i])}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);</script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'></script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>\"\n            break\n        default:\n          html = \"\"\n            return\n      }\n      this.myHtmlTemplate = this.sanitizer.bypassSecurityTrustHtml(html)\n    }\n  }\n}","\n\n<div class=\"card-body p-0 pb-0 bg-{{storeInfo().colorStyle!.back_code}}\">\n    <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn text-{{storeInfo().colorStyle!.text_code}}\" \n    (click) = 'openBtn()' \n    type=\"submit\"\n    style='\n    width: 100%;\n    height:10%;\n    display: block;\n    border:none;\n    font-weight: bold;\n    cursor:pointer;\n    '>\n        CLOSE\n    </button>\n    <div class=\"w-100\" id=\"capture\">\n        <iframe style=\"z-index: 1; position: absolute; border: 0; width:100%; height: 600px; overflow: auto;\" [srcdoc]=\"myHtmlTemplate\">\n        </iframe>\n    </div>\n    <div *ngIf=\"isSpinning\" style=\"z-index: 2; position: absolute; border: 0; width:100%; height: 600px; overflow: auto;\">\n        <ngx-spinner\nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"medium\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"false\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n[disableAnimation] = \"true\"\n[name]=\"'modelSpinner'\"\n>\n<h3 class=\"text-center mt-5\" [style.font-family]=\"storeInfo().fontName!\" class=\"mt-5\">Launching Model Viewer...\n</h3>\n</ngx-spinner>\n    </div>\n</div>\n\n","import { ChangeDetectorRef, Component, OnInit, Inject, AfterViewInit } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { Product } from 'src/app/models/product.model';\n\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Country } from '../models/shipping-country.model';\nimport { Title, Meta } from '@angular/platform-browser';  \nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { PLATFORM_ID } from '@angular/core';\nimport { LoadService, Dict } from '../services/load.service';\nimport { NgbModal, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\nimport { ModelViewerComponent } from '../model-viewer/model-viewer.component';\nimport { Globals } from '../globals';\nimport { ProductInCart } from '../models/product-in-cart.model';\nimport { LoginComponent } from '../login/login.component';\nimport { AppComponent } from '../app.component';\nimport { NgxSpinnerService } from \"ngx-spinner\";\nimport { RoutingService } from '../services/routing.service';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent implements OnInit, AfterViewInit {\n\n  storeInfo(){return Globals.storeInfo}\n  availableCurrencies(){return Globals.availableCurrencies}\n  selectedCurrency(){return Globals.selectedCurrency}\n  templates(){return Globals.availableTemplates}\n  availableTemplates(){return Globals.availableTemplates}\n  selectedTemplate(){return Globals.selectedTemplate}\n  selectedProduct(){return Globals.selectedProduct}\n\n\n  productToBuy = new ProductInCart()\n  \n  quantityNumbers: Array<number> = []\n\n  \n  constructor(    \n    @Inject(PLATFORM_ID) private platformID: Object,\n    private cdr: ChangeDetectorRef,\n    private db: AngularFirestore,\n    private router: ActivatedRoute,\n    private titleService: Title, \n    private metaService: Meta,\n    private loadService: LoadService,\n    private modalService: NgbModal,\n    private route: Router,\n    private rootComponent: AppComponent,\n    private _router: Router,\n    private spinner: NgxSpinnerService,\n    private routingService: RoutingService,\n  ) { \n    Globals.selectedProduct = undefined\n    Globals.selectedTemplate = undefined\n    Globals.selectedCurrency = undefined\n    Globals.storeInfo.uid = undefined\n  }\n\n  getLinkImg(name: string){\n    return Globals.socials.filter(obj => { \n      return obj.name == name\n    })[0].img\n  }\n\n  openSocial(l: string){\n    const link = document.createElement('a');\n    link.target = '_blank';\n\n    let url: string = '';\n    if (!/^http[s]?:\\/\\//.test(l)) {\n      url += 'http://';\n    }\n\n    url += l\n\n    link.href = url\n    \n    link.setAttribute('visibility', 'hidden')\n    link.click()\n    link.remove()\n  }\n\n  selectedIndicator(){\n\n    let co = Globals.storeInfo?.loading?.color\n    let bco = Globals.storeInfo?.loading?.bg_color\n    let name = Globals.storeInfo?.loading?.name\n    \n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    let indicator: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return indicator\n  }\n\n  ngOnInit(): void {\n    const productID = this.getProductID()\n\n    \n\n    this.loadService.myCallback = () => this.checkLoad(productID)\n    \n    this.checkLoad(productID)\n\n    for (let i = 0; i < 9; i++) {\n        this.quantityNumbers.push(i + 1)\n    }\n    // this.route.navigate([], {\n    //   queryParams: {\n    //     id: productID\n    //   },\n    //   queryParamsHandling: 'merge',\n    // });\n  }\n\n  ngAfterViewInit(): void{\n    \n  }\n\n\n  open() {\n    if (isPlatformBrowser(this.platformID) && this.has3D()){\n      \n      const modalRef = this.modalService.open(ModelViewerComponent, {size : \"lg\"});\n      modalRef.componentInstance.data = {\n        \"template\": this.selectedTemplate(),\n        \"product\": this.selectedProduct()\n      };\n    }\n  }\n\n  has3D(){\n    return this.selectedTemplate()?.has3D ?? false\n  }\n\n  nextweek(){\n    var d = new Date();\n    return this.format(new Date(d.getFullYear(), d.getMonth(), d.getDate() + 10))\n  }\n\n  format(d: Date) {\n    return Globals.days[d.getDay()] + ', ' + Globals.months[d.getMonth()] + \" \" + d.getDate()\n  }\n\n  formattedInfo(){\n    return this.selectedTemplate()?.moreInfo.replace(/\\\\n/g, \"<br>\") ?? \"\";\n  }\n\n  sizes(popFirst: boolean){\n    if (popFirst){\n      return this.selectedTemplate()?.sizes.slice(1) ?? []\n    }\n    return this.selectedTemplate()?.sizes ?? []\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  selectedTheme(){\n    \n    let co = Globals.storeInfo?.colorStyle?.btn_color\n    let bco = Globals.storeInfo?.colorStyle?.bg_color\n    let name = Globals.storeInfo?.colorStyle?.name\n\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\"\n\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\"\n\n    var theme: Dict<string> = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    }\n    return theme\n  }\n\n\n  isSpinning = false\n\n    showSpinner(){\n      if (!this.isSpinning){\n        this.isSpinning = true\n        if (isPlatformBrowser(this.platformID)){\n          this.spinner.show()\n        };\n  \n        setTimeout(() => {\n            this.spinner.hide()\n        }, 1000);\n      }\n    }\n  \n    hideSpinner(){\n      if (this.isSpinning){\n        this.isSpinning = false\n        // this.spinner.hide()\n      }\n    }\n\n  \n    getStoreName(){\n      var request = \"\"\n      if (isPlatformServer(this.platformID)){\n        request = Globals.URL\n        console.log(request)\n      }\n      else{\n        request = globalThis.location.host\n      }  \n      if (request != 'localhost:4200' && request != 'shopmythred.com'){\n        return {\n          isCustom: true,\n          link: request\n        }\n      }\n      const routeParams = this.router.snapshot.paramMap;\n      const storeID = routeParams.get('user') as string;\n      return {\n        isCustom: false,\n        link: storeID\n      }\n    }\n\n  checkLoad(productID: string){\n      if (Globals.selectedProduct == undefined){\n        Globals.selectedProduct = new Product()\n        this.loadService.getPost(productID)\n        this.productToBuy.product = Globals.selectedProduct\n      }\n      else{\n        if (!(Globals.selectedProduct.isAvailable)){\n          this.addTags(Globals.selectedProduct.name, Globals.selectedProduct.url.toString(), \"* PRODUCT UNAVAILABLE *\", \"https://shopmythred.com\")\n          if (isPlatformBrowser(this.platformID)){\n            this.routingService.routeToStore404(this.getStoreName().link, this.getStoreName().isCustom)\n          }\n          return\n        }\n        this.addTags(Globals.selectedProduct.name, Globals.selectedProduct.url.toString(), this.formatPrice(Globals.selectedProduct.price / 100) + \". \" + Globals.selectedProduct.description, \"https://shopmythred.com\")\n        if (isPlatformBrowser(this.platformID)){\n          if (Globals.storeInfo.uid == undefined){\n            const storeInfo = this.getStoreName()\n            this.loadService.getUser(storeInfo.link, undefined, storeInfo.isCustom)\n          }\n          else{\n            this.showSpinner()\n            this.rootComponent.setFavIcon(Globals.storeInfo.profileLink!.toString())\n\n            if (Globals.storeInfo.uid != Globals.selectedProduct.uid){\n              this.routingService.routeToStore404(this.getStoreName().link, this.getStoreName().isCustom)\n            }\n            else if (Globals.userInfo == undefined && isPlatformBrowser(this.platformID)){\n              this.loadService.getCustomer()\n            }\n            else if (Globals.selectedTemplate == undefined){\n              this.rootComponent.setOptions()\n              this.loadService.getTemplate(Globals.selectedProduct!.productType ?? \"\")\n            }\n            else if (Globals.selectedCurrency == undefined){\n              this.loadService.getCountries()\n            }\n            else{\n  \n              if (isPlatformBrowser(this.platformID)){\n                this.loadService.logView()\n              }\n  \n              this.cdr.detectChanges()\n            }\n          }\n        }\n      }\n  }\n\n\n  selectSize(size: string, $event: { target: any; srcElement: any; }){\n\n\n    this.productToBuy.size = size\n    let clickedElement = $event.target || $event.srcElement;\n\n    if( clickedElement.nodeName === \"BUTTON\" ) {\n\n      let isCertainButtonAlreadyActive = clickedElement.parentElement.querySelector(\".active\");\n      // if a Button already has Class: .active\n      if( isCertainButtonAlreadyActive ) {\n        isCertainButtonAlreadyActive.classList.remove(\"active\");\n      }\n      clickedElement.className += \" active\";\n    }\n  }\n  selectQuantity(qty?: number){\n\n    this.productToBuy.quantity = Number(qty)\n  }\n\n  quantity(){\n\n    return this.productToBuy.quantity ?? \"1\"\n  }\n\n  closeBtn(){\n    console.log(\"Getting Cart\")\n    this.rootComponent.cart = undefined\n    this.rootComponent.getCart()\n    this.addToCart()\n\n  }\n\n  async addToCart(){\n        \n    if (Globals.selectedProduct! == undefined)return;\n\n\n    this.productToBuy.product = JSON.parse(JSON.stringify(Globals.selectedProduct))\n\n    let product = JSON.parse(JSON.stringify(this.productToBuy)) as ProductInCart\n\n    let mappedData = {\n        \"UID\" : product.product?.uid,\n        \"Size\" : product.size,\n        \"Qty\" : product.quantity,\n        \"Timestamp\" : new Date(),\n        \"Post_ID\" : product.product?.productID\n    }\n    \n    if (await this.loadService.authenticated()){\n      await this.loadService.addToCart(mappedData)\n    }\n    else{\n      let ngbModalOptions: NgbModalOptions = {\n        size: \"lg\"\n      };\n\n      const modalRef = this.modalService.open(LoginComponent, ngbModalOptions);\n      \n      let sub = modalRef.dismissed.subscribe((result: string) => {\n        if (result == \"success\"){\n          this.closeBtn()\n        }\n        sub.unsubscribe()\n      })\n\n      modalRef.componentInstance.authMode = 1\n    }\n\n\n\n\n\n\n\n\n\n    // let data = {\n    //     \"Cart_List\" : FieldValue.arrayUnion([mappedData])\n    // }\n    \n    // // Analytics.logEvent(\"added_to_cart\", parameters: [\n    // //     \"name\": \"Add to Cart\",\n    // //     \"full_text\": \"User added to cart\"\n    // // ])\n    \n    // Firestore.firestore().collection(\"Users/\\(uid)/Cart_Info\").document(\"Cart_List\").setData(data, merge: true, completion: { error in\n    //     if let err = error{\n    //         completed()\n    //         print(err.localizedDescription)\n    //     }\n    //     else{\n    //         completed()\n    //     }\n    // })\n}\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    var newTitle = title\n    if (Globals.storeInfo.fullName){\n      newTitle += \" - \" + Globals.storeInfo?.fullName ?? \"\"\n    }\n    this.titleService.setTitle(newTitle)\n    this.metaService.updateTag({property: 'description', content: description})\n  }\n\n\n  formatPrice(price: number){\n    var priceAsString = new String((price * (this.selectedCurrency()?.rate ?? 1)).toFixed(2))\n    // var priceAsString = new String(Number((price * (this.selectedCurrency()?.rate ?? 1)).toFixed(2)).toLocaleString('en'))\n\n    let index = priceAsString.indexOf(\".\")\n\n    switch (index){\n    case priceAsString.length - 1:\n        priceAsString += \"00\"\n        break\n    case priceAsString.length - 2:\n        priceAsString += \"0\"\n        break\n    default:\n\n        break\n    }\n    return this.numberWithCommas(this.getCurrencyForCountry((this.selectedCurrency()?.name ?? \"US\") != \"US\", this.selectedCurrency()) + priceAsString)\n  }\n\n  numberWithCommas(x: string) {\n    return x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\ngetURL(uid: string, productID: string){\n  return 'https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F' + uid + '%2FProducts%2F' + productID + '%2Flink_' + productID + '.png?alt=media'\n}\n\n\ngetCurrencyForCountry(shouldShowName: boolean, country?: Country){\n\n  var returnItem = country?.currency_symbol ?? \"$\"\n  if (shouldShowName) returnItem = (country?.name ?? \"US\") + \" \" + returnItem\n\n  return returnItem\n}\n\n  getProductID(){\n    const routeParams = this.router.snapshot.paramMap;\n    const productID = routeParams.get('product') as string;\n\n  // Find the product that correspond with the id provided in route.\n    return productID\n  }\n\n}\n","<!-- Navigation-->\n<router-outlet></router-outlet>\n<ngx-spinner\n*ngIf=\"isBrowser()\" \nbdColor = '{{selectedIndicator().bg_color}}'\nsize = \"large\"\ncolor = '{{selectedIndicator().color}}'\ntype = {{selectedIndicator().name}} \n[fullScreen] = \"true\"\nstyle.color = \"{{selectedIndicator()!.color}}\"\n>\n<h3 [style.font-family]=\"storeInfo().fontName!\" class=\"text-center mt-5\">{{storeInfo()?.fullName}}\n</h3>\n</ngx-spinner>\n  <!-- Section -->\n  <!-- <div style=\"max-height: 100%;\" style.background-color=\"{{selectedTheme()!.bg_color}}\"> -->\n    <section *ngIf=\"isBrowser();\" [hidden]=\"storeInfo().username == undefined\" class=\"py-5\"  style.background-color=\"{{selectedTheme()!.bg_color}}\">\n\n        <div class=\"container px-4 px-lg-5 mt-0\">\n            <div [hidden]=\"selectedProduct() == undefined || selectedTemplate() == undefined\" class=\"row gx-4 gx-lg-1 row-cols-1 row-cols-md-2 row-cols-xl-2 justify-content-center\">\n                <div class=\"col mb-1\">\n    \n                    \n    \n                    <div class=\"card h-100 bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                        <a role=\"button\" (click)=\"open()\"><img class=\"card-img-top\" src='{{selectedProduct()?.url ?? \"\"}}' alt='ok' onerror=\"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\"/></a>\n    \n                        <div  class=\"card-footer p-4 pt-3 pb-3 border-top-0 bg-transparent\">\n                            <div *ngIf=\"has3D(); else elseBlock\" [hidden]=\"selectedTemplate() == undefined\" class=\"text-center\"><a class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} mt-auto\" style=\"font-weight:bold; font-size:15px\" [style.font-family]=\"storeInfo().fontName!\" (click)=\"open()\">VIEW IN 3D</a></div>\n                            <ng-template #elseBlock>\n                                <div [hidden]=\"selectedTemplate() == undefined\" class=\"text-center\"><a  class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} mt-auto\" style=\"font-weight:bold; font-size:12px\" [style.font-family]=\"storeInfo().fontName!\">Product does not support 3D</a></div>\n                            </ng-template>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col mb-1\">\n                    <div [hidden]=\"selectedTemplate() == undefined\" class=\"card h-80 bg-{{storeInfo().colorStyle!.back_code}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                        <div class=\"card-body p-4 pb-0\">\n                            <div class=\"text-center\">\n                                <h5 [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class=\"fw-bolder\" style=\"font-size:34px; line-height:1.4em;\">{{selectedProduct()?.name ?? \"\"}}</h5>\n                            </div>\n                        </div>\n                        <div class=\"card-body p-4 pb-0 mt-0\">\n                            <div class=\"text-left\">\n                                <div class=\"card-body p-0 pb-0\">\n                                    <div class=\"text-center\" style.color=\"{{selectedTheme()!.color}}\">\n                                        <h5 class=\"fw-bolder\" style=\"font-size:17px\" [innerHTML]=\"'Details'\" [style.font-family]=\"storeInfo().fontName!\"></h5>\n                                    </div>\n                                </div>\n                                <div class=\"text-left mt-5 mb-0\" style=\"color: rgb(190, 6, 6)\" >\n                                    <h5 class=\"fw-bolder\" style=\"font-size:35px\" [style.font-family]=\"storeInfo().fontName!\">{{formatPrice((selectedProduct()?.price ?? 0) / 100)}}</h5>\n                                </div>\n                                <div class=\"card-body p-0 pb-0 \">\n                                    <div class=\"text-left\">\n                                        <h5 [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class=\"fw-normal\" style=\"font-size:14px; font-style: italic\" [innerHTML]=\"selectedProduct()?.description ?? ''\"></h5>\n                                        <h5 [style.font-family]=\"storeInfo().fontName!\" style.color=\"{{selectedTheme()!.color}}\" class=\"fw-normal\" style=\"font-size:11px\" [innerHTML]=\"formattedInfo()\"></h5>\n                                    </div>\n                                    <div ngbDropdown class =\"d-inline\" container=\"body\">\n                                        <button [style.font-family]=\"storeInfo().fontName!\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} btn-sm mb-5\" ngbDropdownToggle>Qty: {{quantity()}}</button>\n                                        <div ngbDropdownMenu style.background-color=\"{{selectedTheme()!.bg_color}}\" [class.border-secondary] = \"storeInfo()!.colorStyle!.text_code == 'light'\">\n                                          <button [style.font-family]=\"storeInfo().fontName!\" *ngFor=\"let num of quantityNumbers\" style.color=\"{{selectedTheme()!.color}}\" (click)=\"selectQuantity(num)\" ngbDropdownItem>{{num}}</button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"container px-4 mt-3 \" >\n                            <div class=\"text-center\">\n                                <div class=\"card-body p-0 pb-0\">\n                                    <div class=\"text-left\">\n                                        <h5 style.color=\"{{selectedTheme()!.color}}\" class=\"fw-bolder\" style=\"font-size:17px\" [innerHTML]=\"'Choose Your Size'\" [style.font-family]=\"storeInfo().fontName!\"></h5>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row gx-4 gx-lg-1 row-cols-5 row-cols-md-4 row-cols-xl-6 justify-content-center\" >\n                                <button [style.font-family]=\"storeInfo().fontName!\" type=\"button\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} active my-1 mx-1\" (click)=\"selectSize(sizes(false)[0], $event)\" style=\"font-weight:bold; font-size:12px;\" id=\"size\">{{sizes(false)[0]}}</button>\n                                <button [style.font-family]=\"storeInfo().fontName!\" type=\"button\" class=\"btn btn-outline-{{storeInfo().colorStyle!.text_code}} my-1 mx-1\" *ngFor=\"let size of sizes(true)\" (click)=\"selectSize(size, $event)\" style=\"font-weight:bold; font-size:12px;\" id=\"size\">{{size}}</button>\n                            </div>\n                        </div>\n                        <div class=\"card-footer p-4 pt-5 pb-3 border-top-0 bg-transparent\">\n                           \n\n                            <div class=\"text-center\"><a [style.font-family]=\"storeInfo().fontName!\" class=\"btn mt-auto d-flex flex-wrap\" style=\"font-weight:bold; font-size:25px; justify-content: center;\" style.background-color=\"{{selectedTheme()!.color}}\" style.color=\"{{selectedTheme()!.bg_color}}\" (click)=\"addToCart()\" [innerHTML]=\"'ADD TO BAG'\"></a></div>\n                            <div class=\"text-center\"><a [style.font-family]=\"storeInfo().fontName!\" class=\"btn mt-auto d-flex flex-wrap\" style.color=\"{{selectedTheme()!.color}}\" style=\"font-weight:bold; font-size:13px; justify-content: center;\">🚀 Order now and get it before {{nextweek()}}</a></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        \n        \n      </section>\n      <footer *ngIf=\"isBrowser()\" class=\"py-5 bg-{{storeInfo().colorStyle!.back_code}}\">\n        <div class=\"container w-100 d-block justify-content-center\">\n            <div class=\"w-100 row row-cols-1 row-cols-md-7 row-cols-xl-7 justify-content-center justify-content-sm-start mb-5\">\n                <div class=\"col mb- mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/visacard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/mastercard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/amexcard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/applecard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/googlecard.png\"/>\n                    </a>\n                </div>\n                <div class=\"col mb-2 mx-2\" [style.width.px]=\"50\">\n                    <a role=\"button\">\n                        <img style=\"object-fit: contain;\" [style.width.px]=\"50\"  alt='ok' src=\"assets/microsoftcard.png\"/>\n                    </a>\n                </div>\n            </div>\n            <div class=\"w-100 row row-cols-2 row-cols-md-4 row-cols-xl-4 justify-content-center\">\n                <div class=\"col mb-4 mx-3\" *ngFor=\"let social of storeInfo().socials\" [style.width.px]=\"45\">\n                    <a role=\"button\" (click)=\"openSocial(social.link)\">\n                        <img class=\"rounded-circle\" style=\"object-fit: contain;\" [style.width.px]=\"45\"  alt='ok' [src]=\"getLinkImg(social.name)\"/>\n                    </a>\n                </div>\n            </div>\n            <div class=\"w-100 row row-cols-4 row-cols-md-7 row-cols-xl-7 justify-content-end\">\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n                <div class=\"col mb-4 mx-2\" [style.width.px]=\"50\">\n                    \n                </div>\n            </div>\n        </div>\n        <div class=\"container\"><p class=\"m-0 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">&copy; {{storeInfo().fullName}} 2021</p></div>\n        <div class=\"container\"><p class=\"m-0 text-center text-{{storeInfo().colorStyle!.text_code}}\" [style.font-family]=\"storeInfo().fontName!\">Powered by Thred</p></div>\n      </footer>\n  <!-- </div> -->\n  <!-- Footer-->\n  \n  <!-- Bootstrap core JS-->\n  <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js\"></script>\n  <script src=\"https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js\"></script>\n\n  <!-- Core theme JS-->\n  <script *ngIf=\"isBrowser();\" src=\"js/scripts.js\"></script>","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from \"@angular/common\";\nimport { Globals } from '../globals';\nimport { MatCardModule } from '@angular/material/card';\nimport { NgxSpinnerModule } from \"ngx-spinner\";\nimport { ProductComponent } from './product.component';\nimport { ModelViewerComponent } from '../model-viewer/model-viewer.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductComponent,\n  },\n];\n\n\n@NgModule({\n  declarations: [\n    ProductComponent,\n    ModelViewerComponent\n  ],\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatIconModule,\n    MatInputModule,\n    MatButtonModule,\n    MatSelectModule,\n    HttpClientModule,\n    NgxSpinnerModule,\n    NgbModule,\n    RouterModule.forChild(routes),\n\n\n  ],\n  schemas:[CUSTOM_ELEMENTS_SCHEMA],\n  providers: [Globals],\n  bootstrap: [ProductComponent]\n})\nexport class ProductModule { }\n"],"sourceRoot":"webpack:///"}