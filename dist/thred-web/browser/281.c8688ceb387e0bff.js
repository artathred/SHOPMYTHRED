"use strict";(self.webpackChunkthred_web=self.webpackChunkthred_web||[]).push([[281],{79281:(j,C,u)=>{u.r(C),u.d(C,{HomeModule:()=>D});var m=u(11048),t=u(89724),s=u(37503),h=u(6609),x=u(14800),y=u(21639),w=u(59157),T=u(30427),Z=u(78078);function S(r,a){if(1&r&&(t.TgZ(0,"ngx-spinner",3),t.TgZ(1,"h3",4),t._uU(2),t.qZA(),t.qZA()),2&r){const e=t.oxw();let o;t.Udp("color",e.selectedIndicator().color),t.s9C("bdColor",e.selectedIndicator().bg_color),t.s9C("color",e.selectedIndicator().color),t.s9C("type",e.selectedIndicator().name),t.Q6J("fullScreen",!0),t.xp6(1),t.Udp("font-family",e.storeInfo().fontName),t.xp6(1),t.hij("",null==(o=e.storeInfo())?null:o.fullName,"\n")}}function k(r,a){if(1&r&&(t.TgZ(0,"header",5),t._UZ(1,"img",6),t.qZA()),2&r){const e=t.oxw();let o;t.Gre("bg-",e.storeInfo().colorStyle.back_code," py-6"),t.Q6J("hidden",null==e.storeInfo().username||""==e.storeInfo().username),t.xp6(1),t.Q6J("src",null!==(o=null==e.storeInfo().homeLinkTop?null:e.storeInfo().homeLinkTop.toString())&&void 0!==o?o:null==e.storeInfo().themeLink?null:e.storeInfo().themeLink.toString(),t.LSH)}}function O(r,a){if(1&r&&(t.TgZ(0,"div",14),t.TgZ(1,"p",15),t._uU(2),t.qZA(),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);t.Udp("color",o.selectedTheme().color),t.xp6(1),t.Gre("text-center text-",o.storeInfo().colorStyle.text_code,""),t.Udp("font-family",o.storeInfo().fontName),t.xp6(1),t.hij(" ",e.text," ")}}function A(r,a){if(1&r&&(t.TgZ(0,"p",29),t.TgZ(1,"b",30),t._uU(2),t.qZA(),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(4);let n;t.Udp("font-family",o.storeInfo().fontName),t.xp6(2),t.hij(" ",o.formatPrice((null!==(n=e.price)&&void 0!==n?n:0)/100)," ")}}function P(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",18),t.TgZ(1,"div"),t.TgZ(2,"a",19),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(4).routeToProduct(i.productID)}),t._UZ(3,"img",20),t.qZA(),t.TgZ(4,"div",21),t.TgZ(5,"div",22),t.TgZ(6,"h4",23),t.TgZ(7,"a",24),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(4).routeToProduct(i.productID)}),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",25),t.YNc(10,A,3,3,"p",26),t.TgZ(11,"div",27),t.TgZ(12,"a",28),t.NdJ("click",function(){const i=t.CHM(e).$implicit;return t.oxw(4).routeToProduct(i.productID)}),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=a.$implicit,o=t.oxw(2).$implicit,n=t.oxw(2);let i,l;t.xp6(1),t.Gre("card h-100 bg-",n.storeInfo().colorStyle.back_code,""),t.ekj("border-secondary","light"==n.storeInfo().colorStyle.text_code),t.xp6(2),t.s9C("src",null!==(i=null==e.url?null:e.url.toString())&&void 0!==i?i:"",t.LSH),t.xp6(3),t.Udp("font-family",n.storeInfo().fontName)("font-size",n.titleFontSize(o),"px"),t.ekj("my-5","inherit"!=n.titleFontSize(o)&&(null!==(l=o.grid_row)&&void 0!==l?l:1)<=2),t.xp6(1),t.Udp("color",n.selectedTheme().color),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",n.autoCoupon(e)),t.xp6(2),t.Gre("btn btn-outline-",n.storeInfo().colorStyle.text_code," bad w-100 mt-auto text-center"),t.Udp("font-family",n.storeInfo().fontName)("font-size",n.fontSize(o),"px"),t.xp6(1),t.hij(" ",n.formatPrice(n.mainPrice(e))," ")}}function H(r,a){if(1&r&&(t.TgZ(0,"div",16),t.TgZ(1,"div"),t.YNc(2,P,14,25,"div",17),t.qZA(),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);let n;t.xp6(1),t.Gre("row mx-2 gx-3 gx-lg-3 row-cols-1 row-cols-md-",null!==(n=e.grid_row)&&void 0!==n?n:1," justify-content-center"),t.xp6(1),t.Q6J("ngForOf",o.products(e.smart_products,e.products))}}function N(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"a",34),t.NdJ("click",function(){const i=t.CHM(e).index,l=t.oxw(2).$implicit;let c;return t.oxw(2).imgLinkPressed((null!==(c=l.imgLinks)&&void 0!==c?c:[])[i])}),t._UZ(3,"img",35),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=a.$implicit;t.xp6(3),t.s9C("src",e,t.LSH)}}const b=function(){return[]};function U(r,a){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,N,4,1,"div",31),t.qZA()),2&r){const e=t.oxw().$implicit;let o,n;t.Gre("row gx-0 row-cols-1 row-cols-md-",null!==(o=e.grid_row)&&void 0!==o?o:1," justify-content-center w-100 mx-0"),t.xp6(1),t.Q6J("ngForOf",null!==(n=e.imgs)&&void 0!==n?n:t.DdM(4,b))}}function F(r,a){if(1&r&&(t.TgZ(0,"div",36),t._UZ(1,"div",37),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Udp("font-family",o.storeInfo().fontName)("color",o.selectedTheme().color),t.Q6J("innerHTML",o.rowText(e),t.oJD)}}function M(r,a){if(1&r&&(t.TgZ(0,"div",9),t.YNc(1,O,3,9,"div",10),t.YNc(2,H,3,4,"div",11),t.YNc(3,U,2,5,"div",12),t.YNc(4,F,2,6,"div",13),t.qZA()),2&r){const e=a.$implicit;let o;t.xp6(1),t.Q6J("ngIf",""!=(null!==(o=e.text)&&void 0!==o?o:"").trim()),t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type)}}function q(r,a){if(1&r&&(t.TgZ(0,"section",7),t.TgZ(1,"div"),t.YNc(2,M,5,4,"div",8),t.qZA(),t.qZA()),2&r){const e=t.oxw();let o;t.Udp("background-color",e.selectedTheme().bg_color),t.xp6(2),t.Q6J("ngForOf",null!==(o=null==(o=e.storeInfo())?null:o.homeRows)&&void 0!==o?o:t.DdM(4,b))}}function Y(r,a){if(1&r){const e=t.EpF();t.TgZ(0,"section",7),t.TgZ(1,"div",38),t.TgZ(2,"div",14),t.TgZ(3,"p",15),t._uU(4," COMING SOON "),t.qZA(),t.qZA(),t.TgZ(5,"div"),t.TgZ(6,"div",39),t.TgZ(7,"div",40),t.TgZ(8,"a",41),t.NdJ("click",function(){return t.CHM(e),t.oxw().routeToAbout()}),t._UZ(9,"img",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw();let o;t.Udp("background-color",e.selectedTheme().bg_color),t.xp6(2),t.Udp("color",e.selectedTheme().color),t.xp6(1),t.Gre("text-center text-",e.storeInfo().colorStyle.text_code,""),t.Udp("font-family",e.storeInfo().fontName),t.xp6(6),t.s9C("src",null!==(o=null==e.storeInfo().homeLink?null:e.storeInfo().homeLink.toString())&&void 0!==o?o:"",t.LSH)}}let I=(()=>{class r{constructor(e,o,n,i,l,d,c,p,f,_,g,v,Q){this.platformID=e,this.cdr=o,this.router=n,this.titleService=i,this.metaService=l,this.loadService=d,this.rootComponent=c,this._router=p,this.spinner=f,this.injector=_,this.routingService=g,this.sanitizer=v,this.location=Q,this.isSpinning=!1,this.storeProducts=void 0}storeInfo(){return s.O.storeInfo}availableCurrencies(){return s.O.availableCurrencies}selectedCurrency(){return s.O.selectedCurrency}templates(){return s.O.availableTemplates}availableTemplates(){return s.O.availableTemplates}getLinkImg(e){return s.O.socials.filter(o=>o.name==e)[0].img}autoCoupon(e){var o;return null===(o=this.storeInfo().coupons)||void 0===o?void 0:o.filter(i=>i.products.includes(e.productID)&&i.auto).sort(function(i,l){return i.amt<l.amt?1:i.amt>l.amt?-1:0})[0]}fontSize(e){var o,n;return this.rootComponent.isMobile()||(null!==(o=e.grid_row)&&void 0!==o?o:1)>=2?"inherit":.5/(null!==(n=e.grid_row)&&void 0!==n?n:1)*100}titleFontSize(e){var o,n;return this.rootComponent.isMobile()||(null!==(o=e.grid_row)&&void 0!==o?o:1)>=2?"inherit":.3/(null!==(n=e.grid_row)&&void 0!==n?n:1)*100}products(e,o){if(void 0!==e){if(0==e)return this.newArrivalProducts();if(1==e)return this.featuredProducts()}var n=Array();return null==o||o.forEach(i=>{var l;let d=null===(l=this.storeProducts)||void 0===l?void 0:l.find(c=>c.productID==i);d&&n.push(d)}),n}mainPrice(e){var o,n,i,l,d;let c=this.autoCoupon(e);if(c){if(0==c.style)return(null!==(o=e.price)&&void 0!==o?o:0)/100-(null!==(n=e.price)&&void 0!==n?n:0)/100*c.amt;if(1==c.style)return(null!==(i=e.price)&&void 0!==i?i:0)/100-100*(null!==(l=c.amt)&&void 0!==l?l:0)}return(null!==(d=e.price)&&void 0!==d?d:0)/100}openSocial(e){const o=document.createElement("a");o.target="_blank";let n="";/^http[s]?:\/\//.test(e)||(n+="http://"),n+=e,o.href=n,o.setAttribute("visibility","hidden"),o.click(),o.remove()}newArrivalProducts(){var e;return null===(e=this.storeProducts)||void 0===e?void 0:e.sort(function(o,n){return o.timestamp>n.timestamp?-1:o.timestamp<n.timestamp?1:0}).slice(0,4)}featuredProducts(){var e;return null===(e=this.storeProducts)||void 0===e?void 0:e.sort(function(o,n){return o.likes>n.likes?-1:o.likes<n.likes?1:0}).slice(0,4)}imgLinkPressed(e){this.rootComponent.routeToImgLink(e)}ngOnDestroy(){this.loadService.adminComponent=void 0}ngOnInit(){this.loadService.homeComponent=this,this.init()}routeToProduct(e){this.rootComponent.routeToProduct(e)}routeToShop(){this.rootComponent.routeToShop()}routeToAbout(){this.rootComponent.routeToAbout()}selectedIndicator(){var e,o,n,i,l,d;let c=null===(o=null===(e=s.O.storeInfo)||void 0===e?void 0:e.loading)||void 0===o?void 0:o.color,p=null===(i=null===(n=s.O.storeInfo)||void 0===n?void 0:n.loading)||void 0===i?void 0:i.bg_color;return{name:null===(d=null===(l=s.O.storeInfo)||void 0===l?void 0:l.loading)||void 0===d?void 0:d.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+p[0]+","+p[1]+","+p[2]+","+p[3]+")"}}showSpinner(){this.isSpinning||(this.isSpinning=!0,(0,m.NF)(this.platformID)&&this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1500))}selectedTheme(){var e,o,n,i,l,d;let c=null===(o=null===(e=s.O.storeInfo)||void 0===e?void 0:e.colorStyle)||void 0===o?void 0:o.btn_color,p=null===(i=null===(n=s.O.storeInfo)||void 0===n?void 0:n.colorStyle)||void 0===i?void 0:i.bg_color;return{name:null===(d=null===(l=s.O.storeInfo)||void 0===l?void 0:l.colorStyle)||void 0===d?void 0:d.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+p[0]+","+p[1]+","+p[2]+","+p[3]+")"}}hideSpinner(){this.isSpinning&&(this.isSpinning=!1)}callback(){var e,o,n,i,l;s.O.storeInfo.username?(this.rootComponent.setFavIcon(null!==(o=null===(e=s.O.storeInfo.profileLink)||void 0===e?void 0:e.toString())&&void 0!==o?o:""),this.addTags(null!==(n=s.O.storeInfo.fullName)&&void 0!==n?n:"Thred",(null!==(i=s.O.storeInfo.profileLink)&&void 0!==i?i:new URL("https://shopmythred.com")).toString(),null!==(l=s.O.storeInfo.bio)&&void 0!==l?l:"Check out my Thred Store!","shopmythred.com/"+s.O.storeInfo.username),(0,m.NF)(this.platformID)&&(this.showSpinner(),this.loadService.logView(),this.rootComponent.setOptions()),null==s.O.userInfo&&(0,m.NF)(this.platformID)?this.loadService.getCustomer():0==s.O.availableCurrencies.length&&(0,m.NF)(this.platformID)?this.loadService.getCountries():0==s.O.templates.length&&(0,m.NF)(this.platformID)?this.loadService.getTemplates():null==this.storeProducts?this.loadService.getPosts(d=>{this.storeProducts=d}):this.rootComponent.cdr.detectChanges()):this.routingService.routeTo404(this.getStoreName().isCustom)}init(){const e=this.getStoreName();this.downloadAllStoreInfo(e.link,e.isCustom)}isBrowser(){return(0,m.NF)(this.platformID)}downloadAllStoreInfo(e,o=!1){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(e,void 0,o)}rowText(e){var o;let n=null!==(o=e.html)&&void 0!==o?o:"";return this.sanitizer.bypassSecurityTrustHtml(n)}getStoreName(){var e;return"localhost:4200"!=(e=(0,m.PM)(this.platformID)?s.O.URL:globalThis.location.host)&&"shopmythred.com"!=e?{isCustom:!0,link:e}:{isCustom:!1,link:this.router.snapshot.paramMap.get("user")}}open(e,o){}formatPrice(e){var o=new String((e*s.O.selectedCurrency.rate).toFixed(2));switch(o.indexOf(".")){case o.length-1:o+="00";break;case o.length-2:o+="0"}return this.numberWithCommas(this.getCurrencyForCountry(s.O.selectedCurrency,"US"!=s.O.selectedCurrency.name)+o)}numberWithCommas(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCurrencyForCountry(e,o){var n=e.currency_symbol;return o&&(n=e.name+" "+n),n}addTags(e,o,n,i){this.metaService.updateTag({property:"og:title",content:e+" - Home"}),this.metaService.updateTag({property:"og:image:width",content:"200"}),this.metaService.updateTag({property:"og:image:height",content:"200"}),this.metaService.updateTag({property:"og:image",content:o}),this.metaService.updateTag({property:"og:url",content:i}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(e),this.metaService.updateTag({property:"description",content:n})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Lbi),t.Y36(t.sBO),t.Y36(h.gz),t.Y36(x.Dx),t.Y36(x.h_),t.Y36(y.J),t.Y36(w.y),t.Y36(h.F0),t.Y36(T.t2),t.Y36(t.zs3),t.Y36(Z.Z),t.Y36(x.H7),t.Y36(m.lw))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:5,vars:4,consts:[["size","large",3,"bdColor","color","type","fullScreen",4,"ngIf"],["style","height: fit-content;",3,"hidden","class",4,"ngIf"],["class","py-5",3,"background-color",4,"ngIf"],["size","large",3,"bdColor","color","type","fullScreen"],[1,"text-center","mt-5"],[2,"height","fit-content",3,"hidden"],[1,"w-100","h-100",3,"src"],[1,"py-5"],["class","w-100 mb-5",4,"ngFor","ngForOf"],[1,"w-100","mb-5"],["class","d-flex align-items-center justify-content-center pb-1 mb-5","style","height: 50px; font-weight: bold;font-size:30px;",3,"color",4,"ngIf"],["class","w-100",4,"ngIf"],[3,"class",4,"ngIf"],["class","w-100 mx-0",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","pb-1","mb-5",2,"height","50px","font-weight","bold","font-size","30px"],[2,"line-height","1.2em"],[1,"w-100"],["class","col",4,"ngFor","ngForOf"],[1,"col"],["role","button",3,"click"],["alt","ok",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],["role","button",2,"text-decoration","none",3,"click"],[1,"card-footer","p-4","pt-0","pt-0","pb-4","border-top-0","bg-transparent"],["class","text-center fw-bolder d-flex justify-content-center align-items-center","style","font-size:15px",3,"font-family",4,"ngIf"],[1,"text-center","d-flex","justify-content-center","align-items-center","w-100"],["role","button",2,"font-weight","bold","max-width","50vh",3,"click"],[1,"text-center","fw-bolder","d-flex","justify-content-center","align-items-center",2,"font-size","15px"],[1,"old-price"],["class","col mb-1",4,"ngFor","ngForOf"],[1,"col","mb-1"],[1,"d-block","align-items-center","text-center","text-sm-start","w-100"],["role","button",1,"ms-0","me-0",3,"click"],["alt","Product",2,"width","100%","height","auto",3,"src"],[1,"w-100","mx-0"],[1,"m-3",3,"innerHTML"],[1,"container","mt-5"],[1,"d-block","align-items-center","pt-0"],[1,"d-block","align-items-center","text-center","text-sm-start"],["role","button",1,"mx-auto","me-sm-4",3,"click"],["alt","Product",2,"max-width","100%","height","auto",3,"src"]],template:function(e,o){if(1&e&&(t._UZ(0,"router-outlet"),t.YNc(1,S,3,10,"ngx-spinner",0),t.YNc(2,k,2,5,"header",1),t.YNc(3,q,3,5,"section",2),t.YNc(4,Y,10,12,"section",2)),2&e){let n,i;t.xp6(1),t.Q6J("ngIf",o.isBrowser()),t.xp6(1),t.Q6J("ngIf",o.isBrowser()),t.xp6(1),t.Q6J("ngIf",o.isBrowser()&&(null==(n=o.storeInfo())?null:n.active)&&0!=(null==o.storeProducts?null:o.storeProducts.length)),t.xp6(1),t.Q6J("ngIf",o.isBrowser()&&(null==(i=o.storeInfo())?null:i.username)&&(!(null!=(i=o.storeInfo())&&i.active)||0==(null==o.storeProducts?null:o.storeProducts.length)))}},directives:[h.lC,m.O5,T.Ro,m.sg],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:top;background-size:cover}.low[_ngcontent-%COMP%]{color:#a5652a}.bad[_ngcontent-%COMP%]{font-size:inherit}.mid[_ngcontent-%COMP%]{color:silver}.high[_ngcontent-%COMP%]{color:gold}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-style:solid;text-decoration-style:solid;color:gray}.new-price[_ngcontent-%COMP%]{text-decoration:none}.middle[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-size:cover}"]}),r})();var J=u(38182),z=u(74848);const L=[{path:"",component:I}];let D=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r,bootstrap:[I]}),r.\u0275inj=t.cJS({providers:[s.O],imports:[[m.ez,J.QW,z.Ps,T.ef,h.Bz.forChild(L)]]}),r})()}}]);