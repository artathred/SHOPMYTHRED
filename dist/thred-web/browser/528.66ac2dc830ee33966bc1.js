(self.webpackChunkthred_web=self.webpackChunkthred_web||[]).push([[528],{68528:(t,o,e)=>{"use strict";e.r(o),e.d(o,{HomeModule:()=>y});var r=e(38583),n=e(37716),i=e(37503),c=e(95987),l=e(39075),s=e(21952),d=e(55041),a=e(79866),p=e(78078);function u(t,o){if(1&t&&(n.TgZ(0,"ngx-spinner",3),n.TgZ(1,"h3",4),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw();let o;n.Udp("color",t.selectedIndicator().color),n.s9C("bdColor",t.selectedIndicator().bg_color),n.s9C("color",t.selectedIndicator().color),n.s9C("type",t.selectedIndicator().name),n.Q6J("fullScreen",!0),n.xp6(1),n.Udp("font-family",t.storeInfo().fontName),n.xp6(1),n.hij("",null==(o=t.storeInfo())?null:o.fullName,"\n")}}function g(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"p",9),n.TgZ(1,"a",10),n.NdJ("click",function(){return n.CHM(t),n.oxw(2).routeToShop()}),n._uU(2,"BROWSE PRODUCTS"),n.qZA(),n.qZA()}if(2&t){const t=n.oxw(2);n.Udp("font-family",t.storeInfo().fontName),n.xp6(1),n.Gre("btn btn-",t.storeInfo().colorStyle.text_code,""),n.Udp("color",t.selectedTheme().bg_color)}}function f(t,o){if(1&t&&(n.TgZ(0,"header"),n.TgZ(1,"div",5),n.TgZ(2,"div",6),n.TgZ(3,"div"),n.TgZ(4,"p",7),n._uU(5),n.qZA(),n.YNc(6,g,3,8,"p",8),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();let o,e;n.Gre("bg-",t.storeInfo().colorStyle.back_code," py-6"),n.xp6(1),n.Udp("background-image","url("+(null!==(o=null==t.storeInfo().themeLink?null:t.storeInfo().themeLink.toString())&&void 0!==o?o:"")+")"),n.xp6(3),n.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName),n.xp6(1),n.hij(" ",t.storeInfo().slogan," "),n.xp6(1),n.Q6J("ngIf",(null==(e=t.storeInfo())?null:e.active)&&0!=(null==t.storeProducts?null:t.storeProducts.length))}}function m(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"div",22),n.TgZ(1,"div"),n.TgZ(2,"a",23),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._UZ(3,"img",24),n.qZA(),n.TgZ(4,"div",25),n.TgZ(5,"div",26),n.TgZ(6,"h4",27),n.TgZ(7,"a",28),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",29),n.TgZ(10,"div",26),n.TgZ(11,"a",10),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=o.$implicit,e=n.oxw(2);n.xp6(1),n.Gre("card h-100 bg-",e.storeInfo().colorStyle.back_code,""),n.ekj("border-secondary","light"==e.storeInfo().colorStyle.text_code),n.xp6(2),n.s9C("src",t.url,n.LSH),n.xp6(3),n.Udp("font-family",e.storeInfo().fontName),n.xp6(1),n.Udp("color",e.selectedTheme().color),n.xp6(1),n.Oqu(t.name),n.xp6(3),n.Gre("btn btn-outline-",e.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),n.Udp("font-family",e.storeInfo().fontName),n.xp6(1),n.Oqu(e.formatPrice(t.price/100))}}function h(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"div",22),n.TgZ(1,"div"),n.TgZ(2,"a",23),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._UZ(3,"img",24),n.qZA(),n.TgZ(4,"div",25),n.TgZ(5,"div",26),n.TgZ(6,"h4",27),n.TgZ(7,"a",28),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",29),n.TgZ(10,"div",26),n.TgZ(11,"a",10),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).routeToProduct(o.productID)}),n._uU(12),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=o.$implicit,e=n.oxw(2);n.xp6(1),n.Gre("card h-100 bg-",e.storeInfo().colorStyle.back_code,""),n.ekj("border-secondary","light"==e.storeInfo().colorStyle.text_code),n.xp6(2),n.s9C("src",t.url,n.LSH),n.xp6(3),n.Udp("font-family",e.storeInfo().fontName),n.xp6(1),n.Udp("color",e.selectedTheme().color),n.xp6(1),n.Oqu(t.name),n.xp6(3),n.Gre("btn btn-outline-",e.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),n.Udp("font-family",e.storeInfo().fontName),n.xp6(1),n.Oqu(e.formatPrice(t.price/100))}}function x(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"section",11),n.TgZ(1,"div",12),n.TgZ(2,"div",13),n.TgZ(3,"p",14),n._uU(4," NEW ARRIVALS "),n.qZA(),n.qZA(),n.TgZ(5,"div",15),n.YNc(6,m,13,18,"div",16),n.qZA(),n.TgZ(7,"div"),n.TgZ(8,"div",17),n.TgZ(9,"div",18),n.TgZ(10,"a",19),n.NdJ("click",function(){return n.CHM(t),n.oxw().routeToAbout()}),n._UZ(11,"img",20),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",21),n.TgZ(13,"p",14),n._uU(14," FEATURED "),n.qZA(),n.qZA(),n.TgZ(15,"div",15),n.YNc(16,h,13,18,"div",16),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();let o;n.Udp("background-color",t.selectedTheme().bg_color),n.xp6(2),n.Udp("color",t.selectedTheme().color),n.xp6(1),n.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName),n.xp6(3),n.Q6J("ngForOf",t.newArrivalProducts()),n.xp6(5),n.s9C("src",null!==(o=null==t.storeInfo().homeLink?null:t.storeInfo().homeLink.toString())&&void 0!==o?o:"",n.LSH),n.xp6(2),n.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName)("color",t.selectedTheme().color)("font-family",t.storeInfo().fontName),n.xp6(3),n.Q6J("ngForOf",t.featuredProducts())}}function Z(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"section",11),n.TgZ(1,"div",12),n.TgZ(2,"div",13),n.TgZ(3,"p",14),n._uU(4," COMING SOON "),n.qZA(),n.qZA(),n.TgZ(5,"div"),n.TgZ(6,"div",17),n.TgZ(7,"div",18),n.TgZ(8,"a",19),n.NdJ("click",function(){return n.CHM(t),n.oxw().routeToAbout()}),n._UZ(9,"img",20),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();let o;n.Udp("background-color",t.selectedTheme().bg_color),n.xp6(2),n.Udp("color",t.selectedTheme().color),n.xp6(1),n.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName),n.xp6(6),n.s9C("src",null!==(o=null==t.storeInfo().homeLink?null:t.storeInfo().homeLink.toString())&&void 0!==o?o:"",n.LSH)}}function v(t,o){if(1&t){const t=n.EpF();n.TgZ(0,"div",46),n.TgZ(1,"a",23),n.NdJ("click",function(){const o=n.CHM(t).$implicit;return n.oxw(2).openSocial(o.link)}),n._UZ(2,"img",47),n.qZA(),n.qZA()}if(2&t){const t=o.$implicit,e=n.oxw(2);n.Udp("width",45,"px"),n.xp6(2),n.Udp("width",45,"px"),n.Q6J("src",e.getLinkImg(t.name),n.LSH)}}function T(t,o){if(1&t&&(n.TgZ(0,"footer"),n.TgZ(1,"div",30),n.TgZ(2,"div",31),n.TgZ(3,"div",32),n.TgZ(4,"a",33),n._UZ(5,"img",34),n.qZA(),n.qZA(),n.TgZ(6,"div",35),n.TgZ(7,"a",33),n._UZ(8,"img",36),n.qZA(),n.qZA(),n.TgZ(9,"div",35),n.TgZ(10,"a",33),n._UZ(11,"img",37),n.qZA(),n.qZA(),n.TgZ(12,"div",35),n.TgZ(13,"a",33),n._UZ(14,"img",38),n.qZA(),n.qZA(),n.TgZ(15,"div",35),n.TgZ(16,"a",33),n._UZ(17,"img",39),n.qZA(),n.qZA(),n.TgZ(18,"div",35),n.TgZ(19,"a",33),n._UZ(20,"img",40),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"div",41),n.YNc(22,v,3,5,"div",42),n.qZA(),n.TgZ(23,"div",43),n._UZ(24,"div",44),n._UZ(25,"div",44),n._UZ(26,"div",44),n._UZ(27,"div",44),n._UZ(28,"div",44),n.qZA(),n.qZA(),n.TgZ(29,"div",45),n.TgZ(30,"p"),n._uU(31),n.qZA(),n.qZA(),n.TgZ(32,"div",45),n.TgZ(33,"p"),n._uU(34,"Powered by Thred"),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.Gre("py-5 bg-",t.storeInfo().colorStyle.back_code,""),n.xp6(3),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Udp("width",50,"px"),n.xp6(2),n.Q6J("ngForOf",t.storeInfo().socials),n.xp6(2),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(1),n.Udp("width",50,"px"),n.xp6(2),n.Gre("m-0 text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName),n.xp6(1),n.hij("\xa9 ",t.storeInfo().fullName," 2021"),n.xp6(2),n.Gre("m-0 text-center text-",t.storeInfo().colorStyle.text_code,""),n.Udp("font-family",t.storeInfo().fontName)}}let b=(()=>{class t{constructor(t,o,e,r,n,i,c,l,s,d,a,p){this.platformID=t,this.cdr=o,this.router=e,this.titleService=r,this.metaService=n,this.loadService=i,this.rootComponent=c,this._router=l,this.spinner=s,this.injector=d,this.routingService=a,this.location=p,this.isSpinning=!1,this.storeProducts=void 0}storeInfo(){return i.O.storeInfo}availableCurrencies(){return i.O.availableCurrencies}selectedCurrency(){return i.O.selectedCurrency}templates(){return i.O.availableTemplates}availableTemplates(){return i.O.availableTemplates}getLinkImg(t){return i.O.socials.filter(o=>o.name==t)[0].img}openSocial(t){const o=document.createElement("a");o.target="_blank";let e="";/^http[s]?:\/\//.test(t)||(e+="http://"),e+=t,o.href=e,o.setAttribute("visibility","hidden"),o.click(),o.remove()}newArrivalProducts(){var t;return null===(t=this.storeProducts)||void 0===t?void 0:t.sort(function(t,o){return t.timestamp>o.timestamp?-1:t.timestamp<o.timestamp?1:0}).slice(0,4)}featuredProducts(){var t;return null===(t=this.storeProducts)||void 0===t?void 0:t.sort(function(t,o){return t.likes>o.likes?-1:t.likes<o.likes?1:0}).slice(0,4)}ngOnDestroy(){this.loadService.adminComponent=void 0}ngOnInit(){this.loadService.homeComponent=this,this.init()}routeToProduct(t){this.rootComponent.routeToProduct(t)}routeToShop(){this.rootComponent.routeToShop()}routeToAbout(){this.rootComponent.routeToAbout()}selectedIndicator(){var t,o,e,r,n,c;let l=null===(o=null===(t=i.O.storeInfo)||void 0===t?void 0:t.loading)||void 0===o?void 0:o.color,s=null===(r=null===(e=i.O.storeInfo)||void 0===e?void 0:e.loading)||void 0===r?void 0:r.bg_color;return{name:null===(c=null===(n=i.O.storeInfo)||void 0===n?void 0:n.loading)||void 0===c?void 0:c.name,color:"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}showSpinner(){this.isSpinning||(this.isSpinning=!0,(0,r.NF)(this.platformID)&&this.spinner.show(),setTimeout(()=>{(0,r.NF)(this.platformID)&&this.spinner.hide()},1500))}selectedTheme(){var t,o,e,r,n,c;let l=null===(o=null===(t=i.O.storeInfo)||void 0===t?void 0:t.colorStyle)||void 0===o?void 0:o.btn_color,s=null===(r=null===(e=i.O.storeInfo)||void 0===e?void 0:e.colorStyle)||void 0===r?void 0:r.bg_color;return{name:null===(c=null===(n=i.O.storeInfo)||void 0===n?void 0:n.colorStyle)||void 0===c?void 0:c.name,color:"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}hideSpinner(){this.isSpinning&&(this.isSpinning=!1)}callback(){var t,o,e;console.log("callback    "),i.O.storeInfo.username?(this.rootComponent.setFavIcon(i.O.storeInfo.profileLink.toString()),this.addTags(null!==(t=i.O.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(o=i.O.storeInfo.profileLink)&&void 0!==o?o:new URL("https://shopmythred.com")).toString(),null!==(e=i.O.storeInfo.bio)&&void 0!==e?e:"Check out my Thred Store!","shopmythred.com/"+i.O.storeInfo.username),(0,r.NF)(this.platformID)&&(this.showSpinner(),this.loadService.logView(),this.rootComponent.setOptions()),null==i.O.userInfo&&(0,r.NF)(this.platformID)?this.loadService.getCustomer():0==i.O.availableCurrencies.length&&(0,r.NF)(this.platformID)?this.loadService.getCountries():0==i.O.templates.length&&(0,r.NF)(this.platformID)?this.loadService.getTemplates():null==this.storeProducts?this.loadService.getPosts(t=>{this.storeProducts=t}):this.rootComponent.cdr.detectChanges()):(console.log("oppa gungnam"),console.log(i.O.storeInfo),this.routingService.routeTo404(this.getStoreName().isCustom))}init(){const t=this.getStoreName();this.downloadAllStoreInfo(t.link,t.isCustom)}isBrowser(){return(0,r.NF)(this.platformID)}downloadAllStoreInfo(t,o=!1){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t,void 0,o)}getStoreName(){var t="";return(0,r.PM)(this.platformID)?(t=i.O.URL,console.log(t)):t=globalThis.location.host,"localhost:4200"!=t&&"shopmythred.com"!=t?{isCustom:!0,link:t}:{isCustom:!1,link:this.router.snapshot.paramMap.get("user")}}open(t,o){}formatPrice(t){var o=new String((t*i.O.selectedCurrency.rate).toFixed(2));switch(o.indexOf(".")){case o.length-1:o+="00";break;case o.length-2:o+="0"}return this.numberWithCommas(this.getCurrencyForCountry(i.O.selectedCurrency,"US"!=i.O.selectedCurrency.name)+o)}numberWithCommas(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCurrencyForCountry(t,o){var e=t.currency_symbol;return o&&(e=t.name+" "+e),e}addTags(t,o,e,r){this.metaService.updateTag({property:"og:title",content:t+" - Home"}),this.metaService.updateTag({property:"og:image:width",content:"200"}),this.metaService.updateTag({property:"og:image:height",content:"200"}),this.metaService.updateTag({property:"og:image",content:o}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:e}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:e})}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(n.Lbi),n.Y36(n.sBO),n.Y36(c.gz),n.Y36(l.Dx),n.Y36(l.h_),n.Y36(s.J),n.Y36(d.y),n.Y36(c.F0),n.Y36(a.t2),n.Y36(n.zs3),n.Y36(p.Z),n.Y36(r.lw))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-home"]],decls:6,vars:5,consts:[["size","large",3,"bdColor","color","type","fullScreen",4,"ngIf"],[3,"class",4,"ngIf"],["class","py-5",3,"background-color",4,"ngIf"],["size","large",3,"bdColor","color","type","fullScreen"],[1,"text-center","mt-5"],[1,"cover"],[1,"d-flex","align-items-center","justify-content-center",2,"height","600px","font-weight","bold","font-size","40px"],[2,"line-height","1.2em","text-shadow","2px 2px 4px #42424281"],["class","text-center px-5 mx-5","style","font-size: 30px;line-height:1.2em;font-weight: bold;text-shadow: 2px 2px 4px #42424281;",3,"font-family",4,"ngIf"],[1,"text-center","px-5","mx-5",2,"font-size","30px","line-height","1.2em","font-weight","bold","text-shadow","2px 2px 4px #42424281"],["role","button",2,"font-weight","bold",3,"click"],[1,"py-5"],[1,"container","mt-5"],[1,"d-flex","align-items-center","justify-content-center","pb-1","mb-5",2,"height","50px","font-weight","bold","font-size","30px"],[2,"line-height","1.2em"],[1,"row","gx-4","gx-lg-5","row-cols-2","row-cols-md-4","row-cols-xl-4","justify-content-center","mb-2","pb-2"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"d-block","align-items-center","pt-0"],[1,"d-block","align-items-center","text-center","text-sm-start"],["role","button",1,"mx-auto","me-sm-4",3,"click"],["alt","Product",2,"max-width","100%","height","auto",3,"src"],[1,"d-flex","align-items-center","justify-content-center","pb-4","mb-5","mt-5","pt-5",2,"height","50px","font-weight","bold","font-size","30px"],[1,"col","mb-5"],["role","button",3,"click"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],["role","button",2,"text-decoration","none",3,"click"],[1,"card-footer","p-4","pt-0","pb-4","border-top-0","bg-transparent"],[1,"container","w-100","d-block","justify-content-center"],[1,"w-100","row","row-cols-1","row-cols-md-7","row-cols-xl-7","justify-content-center","justify-content-sm-start","mb-5"],[1,"col","mb-","mx-2"],["role","button"],["alt","ok","src","assets/visacard.png",2,"object-fit","contain"],[1,"col","mb-2","mx-2"],["alt","ok","src","assets/mastercard.png",2,"object-fit","contain"],["alt","ok","src","assets/amexcard.png",2,"object-fit","contain"],["alt","ok","src","assets/applecard.png",2,"object-fit","contain"],["alt","ok","src","assets/googlecard.png",2,"object-fit","contain"],["alt","ok","src","assets/microsoftcard.png",2,"object-fit","contain"],[1,"w-100","row","row-cols-2","row-cols-md-4","row-cols-xl-4","justify-content-center"],["class","col mb-4 mx-3",3,"width",4,"ngFor","ngForOf"],[1,"w-100","row","row-cols-4","row-cols-md-7","row-cols-xl-7","justify-content-end"],[1,"col","mb-4","mx-2"],[1,"container"],[1,"col","mb-4","mx-3"],["alt","ok",1,"rounded-circle",2,"object-fit","contain",3,"src"]],template:function(t,o){if(1&t&&(n._UZ(0,"router-outlet"),n.YNc(1,u,3,10,"ngx-spinner",0),n.YNc(2,f,7,12,"header",1),n.YNc(3,x,17,24,"section",2),n.YNc(4,Z,10,12,"section",2),n.YNc(5,T,35,49,"footer",1)),2&t){let t,e;n.xp6(1),n.Q6J("ngIf",o.isBrowser()),n.xp6(1),n.Q6J("ngIf",o.isBrowser()),n.xp6(1),n.Q6J("ngIf",o.isBrowser()&&(null==(t=o.storeInfo())?null:t.active)&&0!=(null==o.storeProducts?null:o.storeProducts.length)),n.xp6(1),n.Q6J("ngIf",o.isBrowser()&&(!(null!=(e=o.storeInfo())&&e.active)||0==(null==o.storeProducts?null:o.storeProducts.length))),n.xp6(1),n.Q6J("ngIf",o.isBrowser()&&0!=(null==o.storeProducts?null:o.storeProducts.length))}},directives:[c.lC,r.O5,a.Ro,r.sg],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%], .middle[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-size:cover}"]}),t})();var w=e(93738);const I=[{path:"",component:b}];let y=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t,bootstrap:[b]}),t.\u0275inj=n.cJS({providers:[i.O],imports:[[r.ez,w.QW,a.ef,c.Bz.forChild(I)]]}),t})()}}]);