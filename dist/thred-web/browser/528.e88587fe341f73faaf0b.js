(self.webpackChunkthred_web=self.webpackChunkthred_web||[]).push([[528],{68528:(t,o,e)=>{"use strict";e.r(o),e.d(o,{HomeModule:()=>C});var n=e(38583),r=e(37716),i=e(37503),l=e(95987),c=e(39075),s=e(12303),d=e(55041),a=e(79866),u=e(78078);function p(t,o){if(1&t&&(r.TgZ(0,"ngx-spinner",3),r.TgZ(1,"h3",4),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();let o;r.Udp("color",t.selectedIndicator().color),r.s9C("bdColor",t.selectedIndicator().bg_color),r.s9C("color",t.selectedIndicator().color),r.s9C("type",t.selectedIndicator().name),r.Q6J("fullScreen",!0),r.xp6(1),r.Udp("font-family",t.storeInfo().fontName),r.xp6(1),r.hij("",null==(o=t.storeInfo())?null:o.fullName,"\n")}}function f(t,o){if(1&t){const t=r.EpF();r.TgZ(0,"p",9),r.TgZ(1,"a",10),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).routeToShop()}),r._uU(2,"BROWSE PRODUCTS"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.Udp("font-family",t.storeInfo().fontName),r.xp6(1),r.Gre("btn btn-",t.storeInfo().colorStyle.text_code,""),r.Udp("color",t.selectedTheme().bg_color)}}function g(t,o){if(1&t&&(r.TgZ(0,"header"),r.TgZ(1,"div",5),r.TgZ(2,"div",6),r.TgZ(3,"div"),r.TgZ(4,"p",7),r._uU(5),r.qZA(),r.YNc(6,f,3,8,"p",8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();let o,e;r.Gre("bg-",t.storeInfo().colorStyle.back_code," py-6"),r.xp6(1),r.Udp("background-image","url("+(null!==(o=null==t.storeInfo().themeLink?null:t.storeInfo().themeLink.toString())&&void 0!==o?o:"")+")"),r.xp6(3),r.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),r.Udp("font-family",t.storeInfo().fontName),r.xp6(1),r.hij(" ",t.storeInfo().slogan," "),r.xp6(1),r.Q6J("ngIf",(null==(e=t.storeInfo())?null:e.active)&&0!=(null==t.storeProducts?null:t.storeProducts.length))}}function m(t,o){if(1&t&&(r.TgZ(0,"p",32),r.TgZ(1,"b",33),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit,o=r.oxw(2);let e;r.Udp("font-family",o.storeInfo().fontName),r.xp6(2),r.hij(" ",o.formatPrice((null!==(e=t.price)&&void 0!==e?e:0)/100)," ")}}function h(t,o){if(1&t){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"div"),r.TgZ(2,"a",24),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._UZ(3,"img",25),r.qZA(),r.TgZ(4,"div",26),r.TgZ(5,"div",27),r.TgZ(6,"h4",28),r.TgZ(7,"a",29),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",30),r.YNc(10,m,3,3,"p",31),r.TgZ(11,"div",27),r.TgZ(12,"a",10),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=o.$implicit,e=r.oxw(2);r.xp6(1),r.Gre("card h-100 bg-",e.storeInfo().colorStyle.back_code,""),r.ekj("border-secondary","light"==e.storeInfo().colorStyle.text_code),r.xp6(2),r.s9C("src",t.url,r.LSH),r.xp6(3),r.Udp("font-family",e.storeInfo().fontName),r.xp6(1),r.Udp("color",e.selectedTheme().color),r.xp6(1),r.Oqu(t.name),r.xp6(2),r.Q6J("ngIf",e.autoCoupon(t)),r.xp6(2),r.Gre("btn btn-outline-",e.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),r.Udp("font-family",e.storeInfo().fontName),r.ekj("new-price",e.autoCoupon(t)),r.xp6(1),r.hij(" ",e.formatPrice(e.mainPrice(t))," ")}}function v(t,o){if(1&t&&(r.TgZ(0,"p",32),r.TgZ(1,"b",33),r._uU(2),r.qZA(),r.qZA()),2&t){const t=r.oxw().$implicit,o=r.oxw(2);let e;r.Udp("font-family",o.storeInfo().fontName),r.xp6(2),r.hij(" ",o.formatPrice((null!==(e=t.price)&&void 0!==e?e:0)/100)," ")}}function x(t,o){if(1&t){const t=r.EpF();r.TgZ(0,"div",23),r.TgZ(1,"div"),r.TgZ(2,"a",24),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._UZ(3,"img",25),r.qZA(),r.TgZ(4,"div",26),r.TgZ(5,"div",27),r.TgZ(6,"h4",28),r.TgZ(7,"a",29),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",30),r.YNc(10,v,3,3,"p",31),r.TgZ(11,"div",27),r.TgZ(12,"a",10),r.NdJ("click",function(){const o=r.CHM(t).$implicit;return r.oxw(2).routeToProduct(o.productID)}),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=o.$implicit,e=r.oxw(2);r.xp6(1),r.Gre("card h-100 bg-",e.storeInfo().colorStyle.back_code,""),r.ekj("border-secondary","light"==e.storeInfo().colorStyle.text_code),r.xp6(2),r.s9C("src",t.url,r.LSH),r.xp6(3),r.Udp("font-family",e.storeInfo().fontName),r.xp6(1),r.Udp("color",e.selectedTheme().color),r.xp6(1),r.Oqu(t.name),r.xp6(2),r.Q6J("ngIf",e.autoCoupon(t)),r.xp6(2),r.Gre("btn btn-outline-",e.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),r.Udp("font-family",e.storeInfo().fontName),r.ekj("new-price",e.autoCoupon(t)),r.xp6(1),r.hij(" ",e.formatPrice(e.mainPrice(t))," ")}}function Z(t,o){if(1&t){const t=r.EpF();r.TgZ(0,"section",11),r.TgZ(1,"div",12),r.TgZ(2,"div",13),r.TgZ(3,"p",14),r._uU(4," NEW ARRIVALS "),r.qZA(),r.qZA(),r.TgZ(5,"div",15),r.YNc(6,h,14,21,"div",16),r.qZA(),r.TgZ(7,"div",17),r.TgZ(8,"div",18),r.TgZ(9,"div",19),r.TgZ(10,"a",20),r.NdJ("click",function(){return r.CHM(t),r.oxw().routeToAbout()}),r._UZ(11,"img",21),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",22),r.TgZ(13,"p",14),r._uU(14," FEATURED "),r.qZA(),r.qZA(),r.TgZ(15,"div",15),r.YNc(16,x,14,21,"div",16),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();let o;r.Udp("background-color",t.selectedTheme().bg_color),r.xp6(2),r.Udp("color",t.selectedTheme().color),r.xp6(1),r.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),r.Udp("font-family",t.storeInfo().fontName),r.xp6(3),r.Q6J("ngForOf",t.newArrivalProducts()),r.xp6(5),r.s9C("src",null!==(o=null==t.storeInfo().homeLink?null:t.storeInfo().homeLink.toString())&&void 0!==o?o:"",r.LSH),r.xp6(2),r.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),r.Udp("font-family",t.storeInfo().fontName)("color",t.selectedTheme().color)("font-family",t.storeInfo().fontName),r.xp6(3),r.Q6J("ngForOf",t.featuredProducts())}}function b(t,o){if(1&t){const t=r.EpF();r.TgZ(0,"section",11),r.TgZ(1,"div",34),r.TgZ(2,"div",13),r.TgZ(3,"p",14),r._uU(4," COMING SOON "),r.qZA(),r.qZA(),r.TgZ(5,"div"),r.TgZ(6,"div",18),r.TgZ(7,"div",19),r.TgZ(8,"a",20),r.NdJ("click",function(){return r.CHM(t),r.oxw().routeToAbout()}),r._UZ(9,"img",21),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();let o;r.Udp("background-color",t.selectedTheme().bg_color),r.xp6(2),r.Udp("color",t.selectedTheme().color),r.xp6(1),r.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),r.Udp("font-family",t.storeInfo().fontName),r.xp6(6),r.s9C("src",null!==(o=null==t.storeInfo().homeLink?null:t.storeInfo().homeLink.toString())&&void 0!==o?o:"",r.LSH)}}let T=(()=>{class t{constructor(t,o,e,n,r,i,l,c,s,d,a,u){this.platformID=t,this.cdr=o,this.router=e,this.titleService=n,this.metaService=r,this.loadService=i,this.rootComponent=l,this._router=c,this.spinner=s,this.injector=d,this.routingService=a,this.location=u,this.isSpinning=!1,this.storeProducts=void 0}storeInfo(){return i.O.storeInfo}availableCurrencies(){return i.O.availableCurrencies}selectedCurrency(){return i.O.selectedCurrency}templates(){return i.O.availableTemplates}availableTemplates(){return i.O.availableTemplates}getLinkImg(t){return i.O.socials.filter(o=>o.name==t)[0].img}autoCoupon(t){var o;return null===(o=this.storeInfo().coupons)||void 0===o?void 0:o.filter(o=>o.products.includes(t.productID)&&o.auto).sort(function(t,o){return t.amt<o.amt?1:t.amt>o.amt?-1:0})[0]}mainPrice(t){var o,e,n;let r=this.autoCoupon(t);return r?(null!==(o=t.price)&&void 0!==o?o:0)/100-(null!==(e=t.price)&&void 0!==e?e:0)/100*r.amt:(null!==(n=t.price)&&void 0!==n?n:0)/100}openSocial(t){const o=document.createElement("a");o.target="_blank";let e="";/^http[s]?:\/\//.test(t)||(e+="http://"),e+=t,o.href=e,o.setAttribute("visibility","hidden"),o.click(),o.remove()}newArrivalProducts(){var t;return null===(t=this.storeProducts)||void 0===t?void 0:t.sort(function(t,o){return t.timestamp>o.timestamp?-1:t.timestamp<o.timestamp?1:0}).slice(0,4)}featuredProducts(){var t;return null===(t=this.storeProducts)||void 0===t?void 0:t.sort(function(t,o){return t.likes>o.likes?-1:t.likes<o.likes?1:0}).slice(0,4)}ngOnDestroy(){this.loadService.adminComponent=void 0}ngOnInit(){this.loadService.homeComponent=this,this.init()}routeToProduct(t){this.rootComponent.routeToProduct(t)}routeToShop(){this.rootComponent.routeToShop()}routeToAbout(){this.rootComponent.routeToAbout()}selectedIndicator(){var t,o,e,n,r,l;let c=null===(o=null===(t=i.O.storeInfo)||void 0===t?void 0:t.loading)||void 0===o?void 0:o.color,s=null===(n=null===(e=i.O.storeInfo)||void 0===e?void 0:e.loading)||void 0===n?void 0:n.bg_color;return{name:null===(l=null===(r=i.O.storeInfo)||void 0===r?void 0:r.loading)||void 0===l?void 0:l.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}showSpinner(){this.isSpinning||(this.isSpinning=!0,(0,n.NF)(this.platformID)&&this.spinner.show(),setTimeout(()=>{(0,n.NF)(this.platformID)&&this.spinner.hide()},1500))}selectedTheme(){var t,o,e,n,r,l;let c=null===(o=null===(t=i.O.storeInfo)||void 0===t?void 0:t.colorStyle)||void 0===o?void 0:o.btn_color,s=null===(n=null===(e=i.O.storeInfo)||void 0===e?void 0:e.colorStyle)||void 0===n?void 0:n.bg_color;return{name:null===(l=null===(r=i.O.storeInfo)||void 0===r?void 0:r.colorStyle)||void 0===l?void 0:l.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}hideSpinner(){this.isSpinning&&(this.isSpinning=!1)}callback(){var t,o,e,r,l;console.log("callback    "),i.O.storeInfo.username?(this.rootComponent.setFavIcon(null!==(o=null===(t=i.O.storeInfo.profileLink)||void 0===t?void 0:t.toString())&&void 0!==o?o:""),this.addTags(null!==(e=i.O.storeInfo.fullName)&&void 0!==e?e:"Thred",(null!==(r=i.O.storeInfo.profileLink)&&void 0!==r?r:new URL("https://shopmythred.com")).toString(),null!==(l=i.O.storeInfo.bio)&&void 0!==l?l:"Check out my Thred Store!","shopmythred.com/"+i.O.storeInfo.username),(0,n.NF)(this.platformID)&&(this.showSpinner(),this.loadService.logView(),this.rootComponent.setOptions()),null==i.O.userInfo&&(0,n.NF)(this.platformID)?this.loadService.getCustomer():0==i.O.availableCurrencies.length&&(0,n.NF)(this.platformID)?this.loadService.getCountries():0==i.O.templates.length&&(0,n.NF)(this.platformID)?this.loadService.getTemplates():null==this.storeProducts?this.loadService.getPosts(t=>{this.storeProducts=t}):this.rootComponent.cdr.detectChanges()):(console.log("oppa gungnam"),console.log(i.O.storeInfo),this.routingService.routeTo404(this.getStoreName().isCustom))}init(){const t=this.getStoreName();this.downloadAllStoreInfo(t.link,t.isCustom)}isBrowser(){return(0,n.NF)(this.platformID)}downloadAllStoreInfo(t,o=!1){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t,void 0,o)}getStoreName(){var t="";return(0,n.PM)(this.platformID)?(t=i.O.URL,console.log(t)):t=globalThis.location.host,"localhost:4200"!=t&&"shopmythred.com"!=t?{isCustom:!0,link:t}:{isCustom:!1,link:this.router.snapshot.paramMap.get("user")}}open(t,o){}formatPrice(t){var o=new String((t*i.O.selectedCurrency.rate).toFixed(2));switch(o.indexOf(".")){case o.length-1:o+="00";break;case o.length-2:o+="0"}return this.numberWithCommas(this.getCurrencyForCountry(i.O.selectedCurrency,"US"!=i.O.selectedCurrency.name)+o)}numberWithCommas(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}getCurrencyForCountry(t,o){var e=t.currency_symbol;return o&&(e=t.name+" "+e),e}addTags(t,o,e,n){this.metaService.updateTag({property:"og:title",content:t+" - Home"}),this.metaService.updateTag({property:"og:image:width",content:"200"}),this.metaService.updateTag({property:"og:image:height",content:"200"}),this.metaService.updateTag({property:"og:image",content:o}),this.metaService.updateTag({property:"og:url",content:n}),this.metaService.updateTag({property:"og:description",content:e}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:e})}}return t.\u0275fac=function(o){return new(o||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(l.gz),r.Y36(c.Dx),r.Y36(c.h_),r.Y36(s.J),r.Y36(d.y),r.Y36(l.F0),r.Y36(a.t2),r.Y36(r.zs3),r.Y36(u.Z),r.Y36(n.lw))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:5,vars:4,consts:[["size","large",3,"bdColor","color","type","fullScreen",4,"ngIf"],[3,"class",4,"ngIf"],["class","py-5",3,"background-color",4,"ngIf"],["size","large",3,"bdColor","color","type","fullScreen"],[1,"text-center","mt-5"],[1,"cover"],[1,"d-flex","align-items-center","justify-content-center",2,"height","600px","font-weight","bold","font-size","40px"],[2,"line-height","1.2em","text-shadow","2px 2px 4px #42424281"],["class","text-center px-5 mx-5","style","font-size: 30px;line-height:1.2em;font-weight: bold;text-shadow: 2px 2px 4px #42424281;",3,"font-family",4,"ngIf"],[1,"text-center","px-5","mx-5",2,"font-size","30px","line-height","1.2em","font-weight","bold","text-shadow","2px 2px 4px #42424281"],["role","button",2,"font-weight","bold",3,"click"],[1,"py-5"],[1,"container-fluid","mt-5"],[1,"d-flex","align-items-center","justify-content-center","pb-1","mb-5",2,"height","50px","font-weight","bold","font-size","30px"],[2,"line-height","1.2em"],[1,"row","gx-4","gx-lg-5","row-cols-2","row-cols-md-4","row-cols-xl-4","justify-content-center","mb-2","pb-2"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"bg-info","w-100"],[1,"d-block","align-items-center","pt-0"],[1,"d-block","align-items-center","text-center","text-sm-start"],["role","button",1,"mx-auto","me-sm-4",3,"click"],["alt","Product",2,"max-width","100%","height","auto",3,"src"],[1,"d-flex","align-items-center","justify-content-center","pb-4","mb-5","mt-5","pt-5",2,"height","50px","font-weight","bold","font-size","30px"],[1,"col","mb-5"],["role","button",3,"click"],["alt","ok",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],["role","button",2,"text-decoration","none",3,"click"],[1,"card-footer","p-4","pt-0","pt-0","pb-4","border-top-0","bg-transparent"],["class","text-center fw-bolder d-flex justify-content-center align-items-center","style","font-size:15px",3,"font-family",4,"ngIf"],[1,"text-center","fw-bolder","d-flex","justify-content-center","align-items-center",2,"font-size","15px"],[1,"old-price"],[1,"container","mt-5"]],template:function(t,o){if(1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,p,3,10,"ngx-spinner",0),r.YNc(2,g,7,12,"header",1),r.YNc(3,Z,17,24,"section",2),r.YNc(4,b,10,12,"section",2)),2&t){let t,e;r.xp6(1),r.Q6J("ngIf",o.isBrowser()),r.xp6(1),r.Q6J("ngIf",o.isBrowser()),r.xp6(1),r.Q6J("ngIf",o.isBrowser()&&(null==(t=o.storeInfo())?null:t.active)&&0!=(null==o.storeProducts?null:o.storeProducts.length)),r.xp6(1),r.Q6J("ngIf",o.isBrowser()&&(null==(e=o.storeInfo())?null:e.username)&&(!(null!=(e=o.storeInfo())&&e.active)||0==(null==o.storeProducts?null:o.storeProducts.length)))}},directives:[l.lC,n.O5,a.Ro,n.sg],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-size:cover}.low[_ngcontent-%COMP%]{color:#a5652a}.mid[_ngcontent-%COMP%]{color:silver}.high[_ngcontent-%COMP%]{color:gold}.old-price[_ngcontent-%COMP%]{text-decoration:line-through;-webkit-text-decoration-style:solid;text-decoration-style:solid;color:grey}.new-price[_ngcontent-%COMP%]{text-decoration:none}.middle[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-size:cover}"]}),t})();var I=e(93738),y=e(76627);const S=[{path:"",component:T}];let C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[T]}),t.\u0275inj=r.cJS({providers:[i.O],imports:[[n.ez,I.QW,y.Ps,a.ef,l.Bz.forChild(S)]]}),t})()}}]);