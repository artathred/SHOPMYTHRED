exports.id=425,exports.ids=[425],exports.modules={69425:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ShopModule:()=>ShopModule});var common=__webpack_require__(38583),globals=__webpack_require__(37503),card=__webpack_require__(93738),ngx_spinner=__webpack_require__(79866),core=__webpack_require__(37716),router=__webpack_require__(95987),platform_browser=__webpack_require__(39075),load_service=__webpack_require__(41520),app_component=__webpack_require__(96625);function ShopComponent_header_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"header",6),core.TgZ(1,"div",7),core.TgZ(2,"div",8),core.TgZ(3,"p",9),core._uU(4),core.qZA(),core.qZA(),core.qZA(),core.qZA()),2&rf){const ctx_r0=core.oxw();core.xp6(1),core.Udp("background-image","url("+ctx_r0.storeInfo().themeLink.toString()+")"),core.xp6(2),core.Gre("text-center text-",ctx_r0.storeInfo().colorStyle.text_code,""),core.Udp("font-family",ctx_r0.storeInfo().fontName),core.xp6(1),core.hij(" ",ctx_r0.storeInfo().fullName," ")}}function ShopComponent_section_6_div_5_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"div",15),core.TgZ(1,"div"),core.TgZ(2,"a",16),core.NdJ("click",function ShopComponent_section_6_div_5_Template_a_click_2_listener(){const product_r4=core.CHM(_r6).$implicit;return core.oxw(2).routeToProduct(product_r4.productID)}),core._UZ(3,"img",17),core.qZA(),core.TgZ(4,"div",18),core.TgZ(5,"div",19),core.TgZ(6,"h4",20),core.TgZ(7,"a",21),core.NdJ("click",function ShopComponent_section_6_div_5_Template_a_click_7_listener(){const product_r4=core.CHM(_r6).$implicit;return core.oxw(2).routeToProduct(product_r4.productID)}),core._uU(8),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.TgZ(9,"div",22),core.TgZ(10,"div",19),core.TgZ(11,"a",23),core.NdJ("click",function ShopComponent_section_6_div_5_Template_a_click_11_listener(){const product_r4=core.CHM(_r6).$implicit;return core.oxw(2).routeToProduct(product_r4.productID)}),core._uU(12),core.qZA(),core.qZA(),core.qZA(),core.qZA(),core.qZA()}if(2&rf){const product_r4=ctx.$implicit,ctx_r3=core.oxw(2);core.xp6(1),core.Gre("card h-100 bg-",ctx_r3.storeInfo().colorStyle.back_code,""),core.ekj("border-secondary","light"==ctx_r3.storeInfo().colorStyle.text_code),core.xp6(2),core.s9C("src",product_r4.url,core.LSH),core.xp6(4),core.Udp("color",ctx_r3.selectedTheme().color)("font-family",ctx_r3.storeInfo().fontName),core.xp6(1),core.Oqu(product_r4.name),core.xp6(3),core.Gre("btn btn-outline-",ctx_r3.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),core.Udp("font-family",ctx_r3.storeInfo().fontName),core.xp6(1),core.Oqu(ctx_r3.formatPrice(product_r4.price/100))}}const _c0=function(){return[]};function ShopComponent_section_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"section",10),core.TgZ(1,"h1",11),core._uU(2),core.qZA(),core.TgZ(3,"div",12),core.TgZ(4,"div",13),core.YNc(5,ShopComponent_section_6_div_5_Template,13,18,"div",14),core.qZA(),core.qZA(),core.qZA()),2&rf){const ctx_r1=core.oxw();core.Udp("background-color",ctx_r1.selectedTheme().bg_color),core.xp6(1),core.Udp("color",ctx_r1.selectedTheme().color)("font-family",ctx_r1.storeInfo().fontName),core.xp6(1),core.Oqu(ctx_r1.mode()),core.xp6(1),core.Q6J("hidden",ctx_r1.products()==core.DdM(11,_c0)),core.xp6(2),core.Q6J("ngForOf",ctx_r1.products())}}function ShopComponent_footer_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"footer",24),core.TgZ(1,"div",25),core.TgZ(2,"p"),core._uU(3),core.qZA(),core.qZA(),core.TgZ(4,"div",25),core.TgZ(5,"p"),core._uU(6,"Made with Thred"),core.qZA(),core.qZA(),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(2),core.Gre("m-0 text-center text-",ctx_r2.storeInfo().colorStyle.text_code,""),core.Udp("font-family",ctx_r2.storeInfo().fontName),core.xp6(1),core.hij("Copyright \xa9 ",ctx_r2.storeInfo().fullName," 2021"),core.xp6(2),core.Gre("m-0 text-center text-",ctx_r2.storeInfo().colorStyle.text_code,""),core.Udp("font-family",ctx_r2.storeInfo().fontName)}}class ShopComponent{constructor(platformID,cdr,router,titleService,metaService,loadService,rootComponent,_router,spinner){this.platformID=platformID,this.cdr=cdr,this.router=router,this.titleService=titleService,this.metaService=metaService,this.loadService=loadService,this.rootComponent=rootComponent,this._router=_router,this.spinner=spinner,this.isImgLoaded=!1,this.isSpinning=!1}storeInfo(){return globals.O.storeInfo}availableCurrencies(){return globals.O.availableCurrencies}selectedCurrency(){return globals.O.selectedCurrency}templates(){return globals.O.availableTemplates}availableTemplates(){return globals.O.availableTemplates}products(){var _a;return null===(_a=globals.O.products)||void 0===_a?void 0:_a.sort(function(a,b){return a.timestamp>b.timestamp?-1:a.timestamp<b.timestamp?1:0})}selectedProduct(){return globals.O.selectedProduct}ngOnInit(){this.init()}isBrowser(){return(0,common.NF)(this.platformID)}showSpinner(){this.isSpinning||(this.isSpinning=!0,(0,common.NF)(this.platformID)&&this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1500))}hideSpinner(){this.isSpinning&&(this.isSpinning=!1)}routeToProduct(productID){var _a,_b,_c;(null===(_a=globals.O.storeInfo)||void 0===_a?void 0:_a.username)?this._router.navigateByUrl((null===(_b=globals.O.storeInfo)||void 0===_b?void 0:_b.username)+"/products/"+productID):console.log(null===(_c=globals.O.storeInfo)||void 0===_c?void 0:_c.username)}selectedTheme(){var _a,_b,_c,_d,_e,_f;let co=null===(_b=null===(_a=globals.O.storeInfo)||void 0===_a?void 0:_a.colorStyle)||void 0===_b?void 0:_b.btn_color,bco=null===(_d=null===(_c=globals.O.storeInfo)||void 0===_c?void 0:_c.colorStyle)||void 0===_d?void 0:_d.bg_color;return{name:null===(_f=null===(_e=globals.O.storeInfo)||void 0===_e?void 0:_e.colorStyle)||void 0===_f?void 0:_f.name,color:"rgba("+co[0]+","+co[1]+","+co[2]+","+co[3]+")",bg_color:"rgba("+bco[0]+","+bco[1]+","+bco[2]+","+bco[3]+")"}}callback(){var _a,_b,_c;globals.O.storeInfo.username?(this.showSpinner(),this.rootComponent.setOptions(),this.addTags(null!==(_a=globals.O.storeInfo.fullName)&&void 0!==_a?_a:"Thred",(null!==(_b=globals.O.storeInfo.profileLink)&&void 0!==_b?_b:new URL("https://shopmythred.com")).toString(),null!==(_c=globals.O.storeInfo.bio)&&void 0!==_c?_c:"Check out my Thred Store!","shopmythred.com/"+globals.O.storeInfo.username),null==globals.O.userInfo&&(0,common.NF)(this.platformID)?this.loadService.getCustomer():0==globals.O.availableCurrencies.length&&(0,common.NF)(this.platformID)?this.loadService.getCountries():0==globals.O.templates.length&&(0,common.NF)(this.platformID)?this.loadService.getTemplates():null==globals.O.products&&(0,common.NF)(this.platformID)&&this.loadService.getPosts(),null==globals.O.cart&&(0,common.NF)(this.platformID)?this.loadService.getCart():(console.log("Store Loaded!"),this.rootComponent.cdr.detectChanges())):this.routeTo404()}routeTo404(){this._router.navigateByUrl("not-found")}selectedIndicator(){var _a,_b,_c,_d,_e,_f;let co=null===(_b=null===(_a=globals.O.storeInfo)||void 0===_a?void 0:_a.loading)||void 0===_b?void 0:_b.color,bco=null===(_d=null===(_c=globals.O.storeInfo)||void 0===_c?void 0:_c.loading)||void 0===_d?void 0:_d.bg_color;return{name:null===(_f=null===(_e=globals.O.storeInfo)||void 0===_e?void 0:_e.loading)||void 0===_f?void 0:_f.name,color:"rgba("+co[0]+","+co[1]+","+co[2]+","+co[3]+")",bg_color:"rgba("+bco[0]+","+bco[1]+","+bco[2]+","+bco[3]+")"}}init(){const storeName=this.getStoreName();console.log("arash"),globals.O.cart=void 0,globals.O.products=void 0,this.downloadAllStoreInfo(storeName)}mode(){return this.rootComponent.mode}downloadAllStoreInfo(storeName){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(storeName)}open(e,item){}addTags(title,imgUrl,description,url){this.metaService.updateTag({property:"og:title",content:title+" - Products"}),this.metaService.updateTag({property:"og:image",content:imgUrl}),this.metaService.updateTag({property:"og:url",content:url}),this.metaService.updateTag({property:"og:description",content:description}),this.titleService.setTitle(title),this.metaService.updateTag({property:"description",content:description})}getStoreName(){const storeID=this.router.snapshot.paramMap.get("user");return console.log(storeID),storeID}formatPrice(price){var priceAsString=new String((price*globals.O.selectedCurrency.rate).toFixed(2));switch(priceAsString.indexOf(".")){case priceAsString.length-1:priceAsString+="00";break;case priceAsString.length-2:priceAsString+="0"}return this.getCurrencyForCountry(globals.O.selectedCurrency,"US"!=globals.O.selectedCurrency.name)+priceAsString}getCurrencyForCountry(country,shouldShowName){var returnItem=country.currency_symbol;return shouldShowName&&(returnItem=country.name+" "+returnItem),returnItem}titleCase(str){for(var splitStr=str.toLowerCase().split(" "),i=0;i<splitStr.length;i++)splitStr[i]=splitStr[i].charAt(0).toUpperCase()+splitStr[i].substring(1);return splitStr.join(" ")}}ShopComponent.\u0275fac=function ShopComponent_Factory(t){return new(t||ShopComponent)(core.Y36(core.Lbi),core.Y36(core.sBO),core.Y36(router.gz),core.Y36(platform_browser.Dx),core.Y36(platform_browser.h_),core.Y36(load_service.J),core.Y36(app_component.y),core.Y36(router.F0),core.Y36(ngx_spinner.t2))},ShopComponent.\u0275cmp=core.Xpm({type:ShopComponent,selectors:[["app-shop"]],decls:8,vars:16,consts:[["size","large",3,"bdColor","color","type","fullScreen"],[1,"text-center","mt-5"],["class","bg-dark py-6",4,"ngIf"],[2,"max-height","100%","min-height","100%"],["class","py-5",3,"background-color",4,"ngIf"],["class","py-5 bg-dark",4,"ngIf"],[1,"bg-dark","py-6"],[1,"cover",2,"background-image","url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)"],[1,"d-flex","align-items-center","justify-content-center",2,"height","300px","font-weight","bold","font-size","35px"],[2,"line-height","1.2em","text-shadow","2px 2px 4px #42424281"],[1,"py-5"],[1,"display-4","fw-bolder","text-center"],[1,"container","px-4","px-lg-5","mt-5",3,"hidden"],[1,"row","gx-4","gx-lg-5","row-cols-1","row-cols-md-3","row-cols-xl-4","justify-content-center"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"col","mb-5"],["role","button",3,"click"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],["role","button",2,"text-decoration","none",3,"click"],[1,"card-footer","p-4","pt-0","pb-4","border-top-0","bg-transparent"],["role","button",2,"font-weight","bold",3,"click"],[1,"py-5","bg-dark"],[1,"container"]],template:function ShopComponent_Template(rf,ctx){if(1&rf&&(core._UZ(0,"router-outlet"),core.TgZ(1,"ngx-spinner",0),core.TgZ(2,"h3",1),core._uU(3),core.qZA(),core.qZA(),core.YNc(4,ShopComponent_header_4_Template,5,8,"header",2),core.TgZ(5,"div",3),core.YNc(6,ShopComponent_section_6_Template,6,12,"section",4),core.YNc(7,ShopComponent_footer_7_Template,7,11,"footer",5),core.qZA()),2&rf){let tmp_6_0,tmp_7_0,tmp_9_0,tmp_10_0;core.xp6(1),core.Udp("color",ctx.selectedIndicator().color),core.s9C("bdColor",ctx.selectedIndicator().bg_color),core.s9C("color",ctx.selectedIndicator().color),core.s9C("type",ctx.selectedIndicator().name),core.Q6J("fullScreen",!0),core.xp6(1),core.Udp("font-family",ctx.storeInfo().fontName),core.xp6(1),core.hij("",null==(tmp_6_0=ctx.storeInfo())?null:tmp_6_0.fullName," "),core.xp6(1),core.Q6J("ngIf",ctx.isBrowser()&&0!=(null==(tmp_7_0=ctx.products())?null:tmp_7_0.length)),core.xp6(1),core.Udp("background-color",ctx.selectedTheme().bg_color),core.xp6(1),core.Q6J("ngIf",ctx.isBrowser()&&0!=(null==(tmp_9_0=ctx.products())?null:tmp_9_0.length)),core.xp6(1),core.Q6J("ngIf",ctx.isBrowser()&&0!=(null==(tmp_10_0=ctx.products())?null:tmp_10_0.length))}},directives:[router.lC,ngx_spinner.Ro,common.O5,common.sg],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]});const routes=[{path:"",component:ShopComponent}];class ShopModule{}ShopModule.\u0275fac=function ShopModule_Factory(t){return new(t||ShopModule)},ShopModule.\u0275mod=core.oAB({type:ShopModule,bootstrap:[ShopComponent]}),ShopModule.\u0275inj=core.cJS({providers:[globals.O],imports:[[common.ez,card.QW,ngx_spinner.ef,router.Bz.forChild(routes)]]})}};