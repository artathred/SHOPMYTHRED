(self.webpackChunkthred_web=self.webpackChunkthred_web||[]).push([[425],{93738:(t,e,o)=>{"use strict";o.d(e,{a8:()=>p,dn:()=>d,dk:()=>u,QW:()=>g,n5:()=>m});var r=o(46237),a=o(72458),n=o(37716);const i=["*",[["mat-card-footer"]]],c=["*","mat-card-footer"],s=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],l=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.lG2({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),p=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.Qb,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&n.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:c,decls:2,vars:0,template:function(t,e){1&t&&(n.F$t(i),n.Hsn(0),n.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(n.F$t(s),n.Hsn(0),n.TgZ(1,"div",0),n.Hsn(2,1),n.qZA(),n.Hsn(3,2))},encapsulation:2,changeDetection:0}),t})(),g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[a.BQ],a.BQ]}),t})()},69425:(t,e,o)=>{"use strict";o.r(e),o.d(e,{ShopModule:()=>v});var r=o(38583),a=o(37503),n=o(93738),i=o(79866),c=o(37716),s=o(95987),l=o(39075),d=o(80406),m=o(96625);function p(t,e){if(1&t&&(c.TgZ(0,"header",6),c.TgZ(1,"div",7),c.TgZ(2,"div",8),c.TgZ(3,"p",9),c._uU(4),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Udp("background-image","url("+t.storeInfo().themeLink.toString()+")"),c.xp6(2),c.Gre("text-center text-",t.storeInfo().colorStyle.text_code,""),c.Udp("font-family",t.storeInfo().fontName),c.xp6(1),c.hij(" ",t.storeInfo().fullName," ")}}function u(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",15),c.TgZ(1,"div"),c.TgZ(2,"a",16),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).routeToProduct(e.productID)}),c._UZ(3,"img",17),c.qZA(),c.TgZ(4,"div",18),c.TgZ(5,"div",19),c.TgZ(6,"h4",20),c.TgZ(7,"a",21),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).routeToProduct(e.productID)}),c._uU(8),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",22),c.TgZ(10,"div",19),c.TgZ(11,"a",23),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).routeToProduct(e.productID)}),c._uU(12),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit,o=c.oxw(2);c.xp6(1),c.Gre("card h-100 bg-",o.storeInfo().colorStyle.back_code,""),c.ekj("border-secondary","light"==o.storeInfo().colorStyle.text_code),c.xp6(2),c.s9C("src",t.url,c.LSH),c.xp6(4),c.Udp("color",o.selectedTheme().color)("font-family",o.storeInfo().fontName),c.xp6(1),c.Oqu(t.name),c.xp6(3),c.Gre("btn btn-outline-",o.storeInfo().colorStyle.text_code," mt-auto d-flex justify-content-center text-center"),c.Udp("font-family",o.storeInfo().fontName),c.xp6(1),c.Oqu(o.formatPrice(t.price/100))}}const g=function(){return[]};function h(t,e){if(1&t&&(c.TgZ(0,"section",10),c.TgZ(1,"h1",11),c._uU(2),c.qZA(),c.TgZ(3,"div",12),c.TgZ(4,"div",13),c.YNc(5,u,13,18,"div",14),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.Udp("background-color",t.selectedTheme().bg_color),c.xp6(1),c.Udp("color",t.selectedTheme().color)("font-family",t.storeInfo().fontName),c.xp6(1),c.Oqu(t.mode()),c.xp6(1),c.Q6J("hidden",t.products()==c.DdM(11,g)),c.xp6(2),c.Q6J("ngForOf",t.products())}}function f(t,e){if(1&t&&(c.TgZ(0,"footer",24),c.TgZ(1,"div",25),c.TgZ(2,"p"),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"div",25),c.TgZ(5,"p"),c._uU(6,"Made with Thred"),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.xp6(2),c.Gre("m-0 text-center text-",t.storeInfo().colorStyle.text_code,""),c.Udp("font-family",t.storeInfo().fontName),c.xp6(1),c.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021"),c.xp6(2),c.Gre("m-0 text-center text-",t.storeInfo().colorStyle.text_code,""),c.Udp("font-family",t.storeInfo().fontName)}}let x=(()=>{class t{constructor(t,e,o,r,a,n,i,c,s){this.platformID=t,this.cdr=e,this.router=o,this.titleService=r,this.metaService=a,this.loadService=n,this.rootComponent=i,this._router=c,this.spinner=s,this.isImgLoaded=!1,this.isSpinning=!1}storeInfo(){return a.O.storeInfo}availableCurrencies(){return a.O.availableCurrencies}selectedCurrency(){return a.O.selectedCurrency}templates(){return a.O.availableTemplates}availableTemplates(){return a.O.availableTemplates}products(){var t;return null===(t=a.O.products)||void 0===t?void 0:t.sort(function(t,e){return t.timestamp>e.timestamp?-1:t.timestamp<e.timestamp?1:0})}selectedProduct(){return a.O.selectedProduct}ngOnInit(){this.init()}isBrowser(){return(0,r.NF)(this.platformID)}showSpinner(){this.isSpinning||(this.isSpinning=!0,(0,r.NF)(this.platformID)&&this.spinner.show(),setTimeout(()=>{this.spinner.hide()},1500))}hideSpinner(){this.isSpinning&&(this.isSpinning=!1)}routeToProduct(t){var e,o,r;(null===(e=a.O.storeInfo)||void 0===e?void 0:e.username)?this._router.navigateByUrl((null===(o=a.O.storeInfo)||void 0===o?void 0:o.username)+"/products/"+t):console.log(null===(r=a.O.storeInfo)||void 0===r?void 0:r.username)}selectedTheme(){var t,e,o,r,n,i;let c=null===(e=null===(t=a.O.storeInfo)||void 0===t?void 0:t.colorStyle)||void 0===e?void 0:e.btn_color,s=null===(r=null===(o=a.O.storeInfo)||void 0===o?void 0:o.colorStyle)||void 0===r?void 0:r.bg_color;return{name:null===(i=null===(n=a.O.storeInfo)||void 0===n?void 0:n.colorStyle)||void 0===i?void 0:i.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}callback(){var t,e,o;a.O.storeInfo.username?(this.showSpinner(),this.rootComponent.setOptions(),this.addTags(null!==(t=a.O.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=a.O.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(o=a.O.storeInfo.bio)&&void 0!==o?o:"Check out my Thred Store!","shopmythred.com/"+a.O.storeInfo.username),null==a.O.userInfo&&(0,r.NF)(this.platformID)?this.loadService.getCustomer():0==a.O.availableCurrencies.length&&(0,r.NF)(this.platformID)?this.loadService.getCountries():0==a.O.templates.length&&(0,r.NF)(this.platformID)?this.loadService.getTemplates():null==a.O.products&&(0,r.NF)(this.platformID)&&this.loadService.getPosts(),null==a.O.cart&&(0,r.NF)(this.platformID)?this.loadService.getCart():(console.log("Store Loaded!"),this.rootComponent.cdr.detectChanges())):this.routeTo404()}routeTo404(){this._router.navigateByUrl("not-found")}selectedIndicator(){var t,e,o,r,n,i;let c=null===(e=null===(t=a.O.storeInfo)||void 0===t?void 0:t.loading)||void 0===e?void 0:e.color,s=null===(r=null===(o=a.O.storeInfo)||void 0===o?void 0:o.loading)||void 0===r?void 0:r.bg_color;return{name:null===(i=null===(n=a.O.storeInfo)||void 0===n?void 0:n.loading)||void 0===i?void 0:i.name,color:"rgba("+c[0]+","+c[1]+","+c[2]+","+c[3]+")",bg_color:"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"}}init(){const t=this.getStoreName();console.log("arash"),a.O.cart=void 0,a.O.products=void 0,this.downloadAllStoreInfo(t)}mode(){return this.rootComponent.mode}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}open(t,e){}addTags(t,e,o,r){this.metaService.updateTag({property:"og:title",content:t+" - Products"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:o}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:o})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}formatPrice(t){var e=new String((t*a.O.selectedCurrency.rate).toFixed(2));switch(e.indexOf(".")){case e.length-1:e+="00";break;case e.length-2:e+="0"}return this.getCurrencyForCountry(a.O.selectedCurrency,"US"!=a.O.selectedCurrency.name)+e}getCurrencyForCountry(t,e){var o=t.currency_symbol;return e&&(o=t.name+" "+o),o}titleCase(t){for(var e=t.toLowerCase().split(" "),o=0;o<e.length;o++)e[o]=e[o].charAt(0).toUpperCase()+e[o].substring(1);return e.join(" ")}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.Lbi),c.Y36(c.sBO),c.Y36(s.gz),c.Y36(l.Dx),c.Y36(l.h_),c.Y36(d.J),c.Y36(m.y),c.Y36(s.F0),c.Y36(i.t2))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-shop"]],decls:8,vars:16,consts:[["size","large",3,"bdColor","color","type","fullScreen"],[1,"text-center","mt-5"],["class","bg-dark py-6",4,"ngIf"],[2,"max-height","100%","min-height","100%"],["class","py-5",3,"background-color",4,"ngIf"],["class","py-5 bg-dark",4,"ngIf"],[1,"bg-dark","py-6"],[1,"cover",2,"background-image","url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)"],[1,"d-flex","align-items-center","justify-content-center",2,"height","300px","font-weight","bold","font-size","35px"],[2,"line-height","1.2em","text-shadow","2px 2px 4px #42424281"],[1,"py-5"],[1,"display-4","fw-bolder","text-center"],[1,"container","px-4","px-lg-5","mt-5",3,"hidden"],[1,"row","gx-4","gx-lg-5","row-cols-1","row-cols-md-3","row-cols-xl-4","justify-content-center"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"col","mb-5"],["role","button",3,"click"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],["role","button",2,"text-decoration","none",3,"click"],[1,"card-footer","p-4","pt-0","pb-4","border-top-0","bg-transparent"],["role","button",2,"font-weight","bold",3,"click"],[1,"py-5","bg-dark"],[1,"container"]],template:function(t,e){if(1&t&&(c._UZ(0,"router-outlet"),c.TgZ(1,"ngx-spinner",0),c.TgZ(2,"h3",1),c._uU(3),c.qZA(),c.qZA(),c.YNc(4,p,5,8,"header",2),c.TgZ(5,"div",3),c.YNc(6,h,6,12,"section",4),c.YNc(7,f,7,11,"footer",5),c.qZA()),2&t){let t,o,r,a;c.xp6(1),c.Udp("color",e.selectedIndicator().color),c.s9C("bdColor",e.selectedIndicator().bg_color),c.s9C("color",e.selectedIndicator().color),c.s9C("type",e.selectedIndicator().name),c.Q6J("fullScreen",!0),c.xp6(1),c.Udp("font-family",e.storeInfo().fontName),c.xp6(1),c.hij("",null==(t=e.storeInfo())?null:t.fullName," "),c.xp6(1),c.Q6J("ngIf",e.isBrowser()&&0!=(null==(o=e.products())?null:o.length)),c.xp6(1),c.Udp("background-color",e.selectedTheme().bg_color),c.xp6(1),c.Q6J("ngIf",e.isBrowser()&&0!=(null==(r=e.products())?null:r.length)),c.xp6(1),c.Q6J("ngIf",e.isBrowser()&&0!=(null==(a=e.products())?null:a.length))}},directives:[s.lC,i.Ro,r.O5,r.sg],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]}),t})();const b=[{path:"",component:x}];let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t,bootstrap:[x]}),t.\u0275inj=c.cJS({providers:[a.O],imports:[[r.ez,n.QW,i.ef,s.Bz.forChild(b)]]}),t})()}}]);