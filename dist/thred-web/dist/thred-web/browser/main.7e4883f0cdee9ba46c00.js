(self.webpackChunkthred_web=self.webpackChunkthred_web||[]).push([[179],{98255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=98255,t.exports=e},37716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>an,tb:()=>Xc,AFp:()=>Qc,ip1:()=>Hc,CZH:()=>$c,hGG:()=>Hl,z2F:()=>Fl,sBO:()=>Gu,Sil:()=>ll,_Vd:()=>pu,EJc:()=>nl,SBq:()=>vu,qLn:()=>kr,vpe:()=>xc,gxx:()=>ko,tBr:()=>An,XFs:()=>D,OlP:()=>sn,zs3:()=>Go,ZZ4:()=>Mu,aQg:()=>qu,soG:()=>el,YKP:()=>tc,v3s:()=>Ul,h0i:()=>Xu,PXZ:()=>Ol,R0b:()=>fl,FiY:()=>kn,Lbi:()=>Wc,g9A:()=>Jc,Qsj:()=>_u,FYo:()=>wu,JOm:()=>Pr,Tiy:()=>Su,q3G:()=>wr,tp0:()=>Dn,EAV:()=>Vl,Rgc:()=>Ku,dDg:()=>wl,DyG:()=>un,q4F:()=>Cu,GfV:()=>Eu,s_b:()=>nc,ifc:()=>F,eFA:()=>Nl,G48:()=>kl,Gpc:()=>f,f3M:()=>Cn,X6Q:()=>Al,_c5:()=>Gl,VLi:()=>Sl,c2e:()=>tl,zSh:()=>Oo,wAp:()=>la,vHH:()=>g,EiD:()=>vr,mCW:()=>tr,qzn:()=>Bn,JVY:()=>Gn,pB0:()=>Qn,eBb:()=>Hn,L6k:()=>zn,LAX:()=>$n,cg1:()=>aa,Tjo:()=>Zl,kL8:()=>ua,yhl:()=>Zn,dqk:()=>V,sIi:()=>ts,CqO:()=>_s,QGY:()=>bs,F4k:()=>ws,RDi:()=>Ct,AaK:()=>l,z3N:()=>Vn,qOj:()=>Ho,TTD:()=>bt,_Bn:()=>hu,xp6:()=>Di,uIk:()=>os,Tol:()=>js,DjV:()=>na,ekj:()=>qs,Suo:()=>jc,Xpm:()=>W,lG2:()=>ot,Yz7:()=>_,cJS:()=>T,oAB:()=>nt,Yjl:()=>st,Y36:()=>ls,_UZ:()=>ms,BQk:()=>ys,ynx:()=>gs,qZA:()=>ps,TgZ:()=>fs,EpF:()=>vs,n5z:()=>tn,Ikx:()=>ra,SDv:()=>eu,QtT:()=>ru,pQV:()=>nu,LFG:()=>En,$8M:()=>nn,NdJ:()=>Ts,CRH:()=>Vc,oxw:()=>Cs,ALo:()=>Sc,lcZ:()=>Ec,Hsn:()=>As,F$t:()=>Is,Q6J:()=>hs,s9C:()=>ks,MGl:()=>Ds,hYB:()=>Os,DdM:()=>yc,VKq:()=>vc,WLB:()=>bc,kEZ:()=>wc,iGM:()=>Uc,MAs:()=>cs,CHM:()=>Gt,oJD:()=>_r,LSH:()=>Tr,kYT:()=>rt,Udp:()=>Us,YNc:()=>us,W1O:()=>zc,_uU:()=>Ws,Oqu:()=>Xs,hij:()=>ta,AsE:()=>ea,Gf:()=>qc});var r=n(79765),i=n(75319),o=n(67574),s=n(66682),a=n(18819);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function w(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,x)||E(t,A)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(k))?t[I]:null}const x=u({"\u0275prov":u}),I=u({"\u0275inj":u}),A=u({ngInjectableDef:u}),k=u({ngInjectorDef:u});var D=(()=>((D=D||{})[D.Default=0]="Default",D[D.Host=1]="Host",D[D.Self=2]="Self",D[D.SkipSelf=4]="SkipSelf",D[D.Optional=8]="Optional",D))();let O;function N(t){const e=O;return O=t,e}function R(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&D.Optional?null:void 0!==e?e:void b(l(t),"Injector")}function P(t){return{toString:t}.toString()}var L=(()=>((L=L||{})[L.OnPush=0]="OnPush",L[L.Default=1]="Default",L))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,V=M||j||U||q,B={},Z=[],G=u({"\u0275cmp":u}),z=u({"\u0275dir":u}),H=u({"\u0275pipe":u}),$=u({"\u0275mod":u}),Q=u({"\u0275loc":u}),K=u({"\u0275fac":u}),Y=u({__NG_ELEMENT_ID__:u});let J=0;function W(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||Z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function X(t){return at(t)||function(t){return t[z]||null}(t)}function tt(t){return function(t){return t[H]||null}(t)}const et={};function nt(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||Z,declarations:t.declarations||Z,imports:t.imports||Z,exports:t.exports||Z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(et[t.id]=t.type),e})}function rt(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||Z,n.imports=e.imports||Z,n.exports=e.exports||Z})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=W;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[G]||null}function ut(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ct=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(K)?t[K]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),_t}function _t(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new vt(u&&u.currentValue,e,s===B),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}let Et;function Ct(t){Et=t}function xt(){return void 0!==Et?Et:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}bt.ngInherit=!0;const At={createRenderer:(t,e)=>xt()};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return kt(e[t])}function Ot(t,e){return kt(e[t.index])}function Nt(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Pt(t,e){const n=e[t];return ht(n)?n:n[0]}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const jt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return jt.bindingsEnabled}function Bt(){return jt.lFrame.lView}function Zt(){return jt.lFrame.tView}function Gt(t){return jt.lFrame.contextLView=t,t[8]}function zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return jt.lFrame.currentTNode}function $t(){const t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qt(t,e){const n=jt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return jt.lFrame.isParent}function Yt(){jt.lFrame.isParent=!1}function Jt(){return jt.isInCheckNoChangesMode}function Wt(t){jt.isInCheckNoChangesMode=t}function Xt(){const t=jt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return jt.lFrame.bindingIndex}function ee(){return jt.lFrame.bindingIndex++}function ne(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function re(t){jt.lFrame.inI18n=t}function ie(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){jt.lFrame.currentDirectiveIndex=t}function se(){return jt.lFrame.currentQueryIndex}function ae(t){jt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&D.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&D.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=jt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=fe;function me(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return jt.lFrame.selectedIndex}function ye(t){jt.lFrame.selectedIndex=t}function ve(){const t=jt.lFrame;return Nt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Se(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Te(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ee(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ce=-1;class xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function ke(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==Ce}function Re(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Me=0;function Ue(t,e){const n=je(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=Ve(t,e),o=t.injectorIndex;if(Ne(i)){const t=Re(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function je(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ve(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function Be(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ze(t,e,n){if(n&D.Optional)return t;b(e,"NodeInjector")}function Ge(t,e,n,r){if(n&D.Optional&&void 0===r&&(r=null),0==(n&(D.Self|D.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&D.Optional):R(e,r,n&D.Optional)}finally{N(o)}}return Ze(r,e,n)}function ze(t,e,n,r=D.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&D.Host?Ze(i,n,r):Ge(e,n,r,i);try{const t=o(r);if(null!=t||r&D.Optional)return t;b(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=je(t,e),a=Ce,u=r&D.Host?e[16][6]:null;for((-1===s||r&D.SkipSelf)&&(a=-1===s?Ve(t,e):e[s+8],a!==Ce&&We(r,!1)?(i=e[1],s=Re(a),e=Pe(a,e)):s=-1);-1!==s;){const t=e[1];if(Je(o,s,t.data)){const t=Qe(s,e,n,i,r,u);if(t!==He)return t}a=e[s+8],a!==Ce&&We(r,e[1].data[s+8]===u)&&Je(o,s,e)?(i=t,s=Re(a),e=Pe(a,e)):s=-1}}}return Ge(e,n,r,i)}const He={};function $e(){return new Xe(zt(),Bt())}function Qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ke(a,s,n,null==r?pt(a)&&Le:r!=s&&0!=(3&a.type),i&D.Host&&o===a);return null!==u?Ye(e,s,u,a):He}function Ke(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&gt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof xe){const s=i;s.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ce(t,r,D.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Fe(a),s.resolving=!1,pe()}}return i}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&D.Self||t&D.Host&&e)}class Xe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ze(this._tNode,this._lView,t,void 0,e)}}function tn(t){return P(()=>{const e=t.prototype.constructor,n=e[K]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[K]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return m(t)?()=>{const e=en(p(t));return e&&e()}:yt(t)}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const rn="__parameters__";function on(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function pn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function mn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn={},vn=/\n/gm,bn="__source",wn=u({provide:String,useValue:u});let _n;function Tn(t){const e=_n;return _n=t,e}function Sn(t,e=D.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?R(t,void 0,e):_n.get(t,e&D.Optional?null:void 0,e)}function En(t,e=D.Default){return(O||Sn)(p(t),e)}const Cn=En;function xn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=D.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=In(on("Inject",t=>({token:t})),-1),kn=In(on("Optional"),8),Dn=In(on("SkipSelf"),4);let On,Nn;function Rn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,V.trustedTypes))try{On=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return On}())||void 0===e?void 0:e.createHTML(t))||t}function Pn(t){var e;return(null===(e=function(){if(void 0===Nn&&(Nn=null,V.trustedTypes))try{Nn=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Nn}())||void 0===e?void 0:e.createHTML(t))||t}class Ln{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fn extends Ln{getTypeName(){return"HTML"}}class Mn extends Ln{getTypeName(){return"Style"}}class Un extends Ln{getTypeName(){return"Script"}}class qn extends Ln{getTypeName(){return"URL"}}class jn extends Ln{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof Ln?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=Zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Zn(t){return t instanceof Ln&&t.getTypeName()||null}function Gn(t){return new Fn(t)}function zn(t){return new Mn(t)}function Hn(t){return new Un(t)}function $n(t){return new qn(t)}function Qn(t){return new jn(t)}function Kn(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Rn(""),"text/html")}catch(t){return!1}}()?new Yn(e):e}class Yn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Rn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Rn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Rn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Wn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Wn)||t.match(Xn)?t:"unsafe:"+t}function er(t){return(t=String(t)).split(",").map(t=>tr(t.trim())).join(", ")}function nr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function rr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ir=nr("area,br,col,hr,img,wbr"),or=nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=nr("rp,rt"),ar=rr(sr,or),ur=rr(ir,rr(or,nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rr(sr,nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),cr=nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=nr("srcset"),hr=rr(cr,lr,nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=nr("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!hr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;cr[i]&&(o=tr(o)),lr[i]&&(o=er(o)),this.buf.push(" ",e,'="',gr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const pr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(pr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function vr(t,e){let n=null;try{yr=yr||Kn(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==o);return Rn((new fr).sanitizeChildren(br(n)||n))}finally{if(n){const t=br(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function br(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wr=(()=>((wr=wr||{})[wr.NONE=0]="NONE",wr[wr.HTML=1]="HTML",wr[wr.STYLE=2]="STYLE",wr[wr.SCRIPT=3]="SCRIPT",wr[wr.URL=4]="URL",wr[wr.RESOURCE_URL=5]="RESOURCE_URL",wr))();function _r(t){const e=Sr();return e?Pn(e.sanitize(wr.HTML,t)||""):Bn(t,"HTML")?Pn(Vn(t)):vr(xt(),y(t))}function Tr(t){const e=Sr();return e?e.sanitize(wr.URL,t)||"":Bn(t,"URL")?Vn(t):tr(y(t))}function Sr(){const t=Bt();return t&&t[12]}function Er(t,e){t.__ngContext__=e}function Cr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function xr(t){return t.ngDebugContext}function Ir(t){return t.ngOriginalError}function Ar(t,...e){t.error(...e)}class kr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xr(t)?xr(t):this._findContext(Ir(t)):null}_findOriginalError(t){let e=Ir(t);for(;e&&Ir(e);)e=Ir(e);return e}}const Dr=/^>|^->|<!--|-->|--!>|<!-$/g,Or=/(<|>)/,Nr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Rr(t){return t instanceof Function?t():t}var Pr=(()=>((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr))();let Lr;function Fr(t,e){return Lr(t,e)}function Mr(t){const e=t[3];return dt(e)?e[3]:e}function Ur(t){return jr(t[13])}function qr(t){return jr(t[4])}function jr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Xr(e,n,a):Wr(e,n,a,i||null,!0):1===t&&null!==n?Wr(e,n,a,i||null,!0):2===t?hi(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Vr(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];fi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Br(t,e){return It(t)?t.createText(e):t.createTextNode(e)}function Zr(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}function Gr(t,e){return t.createComment(function(t){return t.replace(Dr,t=>t.replace(Or,"\u200b$1\u200b"))}(e))}function zr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function $r(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,lt+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Qr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Kr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Kr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Kr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Kr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Yr(t,e,n){return Jr(t,e.parent,n)}function Jr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return Ot(r,n)}function Wr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function ti(t,e,n,r,i){null!==r?Wr(t,e,n,r,i):Xr(t,e,n)}function ei(t,e){return It(t)?t.parentNode(e):e.parentNode}function ni(t,e,n){return oi(t,e,n)}function ri(t,e,n){return 40&t.type?Ot(t,n):null}let ii,oi=ri;function si(t,e){oi=t,ii=e}function ai(t,e,n,r){const i=Yr(t,r,e),o=e[11],s=ni(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ti(o,i,n[a],s,!1);else ti(o,i,n,s,!1);void 0!==ii&&ii(o,r,e,n,i)}function ui(t,e){if(null!==e){const n=e.type;if(3&n)return Ot(e,t);if(4&n)return li(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ui(t,n);{const n=t[e.index];return dt(n)?li(-1,n):kt(n)}}if(32&n)return Fr(e,t)()||kt(t[e.index]);{const n=ci(t,e);return null!==n?Array.isArray(n)?n[0]:ui(Mr(t[16]),n):ui(t,e.next)}}return null}function ci(t,e){return null!==e?t[16][6].projection[e.projection]:null}function li(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ui(t,r)}return e[7]}function hi(t,e,n){const r=ei(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function di(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Er(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)di(t,e,n.child,r,i,o,!1),Vr(e,t,i,a,o);else if(32&u){const s=Fr(n,r);let u;for(;u=s();)Vr(e,t,i,u,o);Vr(e,t,i,a,o)}else 16&u?pi(t,e,r,n,i,o):Vr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fi(t,e,n,r,i,o){di(n,r,t.firstChild,e,i,o,!1)}function pi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Vr(e,t,i,a[u],o);else di(t,e,a,s[3],i,o,!0)}function mi(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const vi="ng-template";function bi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function wi(t){return 4===t.type&&t.value!==vi}function _i(t,e,n){return e===(4!==t.type||n?t.value:vi)}function Ti(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!_i(t,u,n)||""===u&&1===e.length){if(Si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!bi(t.attrs,c,n)){if(Si(r))return!1;s=!0}continue}const l=Ei(8&r?"class":u,i,wi(t),n);if(-1===l){if(Si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yi(e,c,0)||2&r&&c!==t){if(Si(r))return!1;s=!0}}}}else{if(!s&&!Si(r)&&!Si(u))return!1;if(s&&Si(u))continue;s=!1,r=u|1&r}}return Si(r)||s}function Si(t){return 0==(1&t)}function Ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ti(t,e[r],n))return!0;return!1}function xi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Ii(t,e){return t?":not("+e.trim()+")":e}function Ai(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Si(s)||(e+=Ii(o,i),i=""),r=s,o=o||!Si(r);n++}return""!==i&&(e+=Ii(o,i)),e}const ki={};function Di(t){Oi(Zt(),Bt(),ge()+t,Jt())}function Oi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ye(n)}function Ni(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Pi(t){return 2|t}function Li(t){return(131068&t)>>2}function Fi(t,e){return-131069&t|e<<2}function Mi(t){return 1|t}function Ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function qi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ji(t,e,n,r,i){let o=t.data[e];if(null===o)o=Vi(t,e,n,r,i),jt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=$t();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function Vi(t,e,n,r,i){const o=Ht(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function Bi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Zi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&_o(1,r,n);const i=t.template;null!==i&&Hi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ui(t,e),t.staticViewQueries&&_o(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)go(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function Gi(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=Jt();try{Ut(e),jt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Hi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Te(e,0)}if(function(t){for(let e=Ur(t);null!==e;e=qr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ur(t);null!==e;e=qr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Gi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Te(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ye(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ye(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)po(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&_o(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Te(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{me()}}function zi(t,e,n,r){const i=e[10],o=!Jt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&Zi(t,e,r),Gi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Hi(t,e,n,r,i){const o=ge(),s=2&r;try{ye(-1),s&&e.length>ct&&Oi(t,e,ct,Jt()),n(r,i)}finally{ye(o)}}function $i(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qi(t,e,n){Vt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ue(n,e),Er(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&uo(e,n,r);const u=Ye(e,t,a,n);Er(u,e),null!==s&&lo(0,a-i,u,r,0,s),o&&(Pt(n.index,e)[8]=u)}}(t,e,n,Ot(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=jt.lFrame.currentDirectiveIndex;try{ye(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ro(r,i)}}finally{ye(-1),oe(s)}}(t,e,n))}function Ki(t,e,n=Ot){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Yi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ji(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ji(t,e,n,r,i,o,s,a,u,c){const l=ct+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ki);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Wi(t,e,n,r){const i=So(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Eo(t).push(r,i.length-1))}function Xi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function to(t,e,n,r,i,o,s,a){const u=Ot(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(xo(t,n,c,r,i),pt(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,It(o)?o.setProperty(u,r,i):ke(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function eo(t,e,n,r){let i=!1;if(Vt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ci(n,s.selectors,!1)&&(i||(i=[]),Be(Ue(n,e),t,s.type),gt(s)?(io(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,so(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Bi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=De(n.mergedAttrs,c.hostAttrs),ao(t,n,e,u,c),oo(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||wi(e)?null:ho(n,i);o.push(c),s=Xi(n,u,s),a=Xi(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function no(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ro(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function io(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function oo(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function so(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ao(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=yt(i.type)),s=new xe(o,gt(i),null);t.blueprint[r]=s,n[r]=s,no(t,e,0,r,Bi(t,n,i.hostVars,ki),i)}function uo(t,e,n){const r=Ot(e,t),i=Yi(n),o=t[10],s=yo(t,qi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function co(t,e,n,r,i,o,s){if(null==o)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function lo(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function ho(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fo(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function po(t,e){const n=Pt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Gi(t,n,t.template,n[8]):n[5]>0&&mo(n)}}function mo(t){for(let n=Ur(t);null!==n;n=qr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Gi(t,e,t.template,e[8])}else e[5]>0&&mo(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Ft(r)&&r[5]>0&&mo(r)}}function go(t,e){const n=Pt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Zi(r,n,n[8])}function yo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vo(t){for(;t;){t[2]|=64;const e=Mr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bo(t,e,n){const r=e[10];r.begin&&r.begin();try{Gi(t,e,t.template,n)}catch(i){throw Co(e,i),i}finally{r.end&&r.end()}}function wo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Cr(n),i=r[1];zi(i,r,i.template,n)}}(t[8])}function _o(t,e,n){ae(0),e(t,n)}const To=(()=>Promise.resolve(null))();function So(t){return t[7]||(t[7]=[])}function Eo(t){return t.cleanup||(t.cleanup=[])}function Co(t,e){const n=t[9],r=n?n.get(kr,null):null;r&&r.handleError(e)}function xo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Io(t,e,n){const r=Dt(e,t);Zr(t[11],r,n)}function Ao(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ko=new sn("INJECTOR",-1);class Do{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Oo=new sn("Set Injector scope."),No={},Ro={};let Po;function Lo(){return void 0===Po&&(Po=new Do),Po}function Fo(t,e=null,n=null,r){return new Mo(t,n,e||Lo(),r)}class Mo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(ko,jo(void 0,this));const o=this.records.get(Oo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=D.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&D.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&S(t);e=n&&this.injectableDefInScope(n)?jo(Uo(t),No):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&D.Self?Lo():this.parent).get(t,e=n&D.Optional&&e===yn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[bn]&&i.unshift(e[bn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||Z))}}this.injectorDefTypes.add(o);const a=yt(o)||(()=>new o);this.records.set(o,jo(a,No));const u=r.providers;if(null!=u&&!s){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Bo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Vo(t)?jo(void 0,t.useValue):jo(qo(t),No)}(t);if(Bo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=jo(void 0,No,!0),e.factory=()=>xn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===No&&(e.value=Ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Uo(t){const e=S(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof sn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=fn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function qo(t,e,n){let r;if(Bo(t)){const e=p(t);return yt(e)||Uo(e)}if(Vo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...xn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||Uo(e);r=()=>new e(...xn(t.deps))}var i;return r}function jo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vo(t){return null!==t&&"object"==typeof t&&wn in t}function Bo(t){return"function"==typeof t}const Zo=function(t,e,n){return function(t,e=null,n=null,r){const i=Fo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class Go{static create(t,e){return Array.isArray(t)?Zo(t,e,""):Zo(t.providers,t.parent,t.name||"")}}function zo(t,e){be(Cr(t)[1],zt())}function Ho(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=$o(t.inputs),e.declaredInputs=$o(t.declaredInputs),e.outputs=$o(t.outputs);const n=i.hostBindings;n&&Yo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Qo(t,o),s&&Ko(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ho&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function $o(t){return t===B?{}:t===Z?[]:t}function Qo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ko(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Yo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}Go.THROW_IF_NOT_FOUND=yn,Go.NULL=new Do,Go.\u0275prov=_({token:Go,providedIn:"any",factory:()=>En(ko)}),Go.__NG_ELEMENT_ID__=-1;let Jo=null;function Wo(){if(!Jo){const t=V.Symbol;if(t&&t.iterator)Jo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Jo=n)}}}return Jo}class Xo{constructor(t){this.wrapped=t}static wrap(t){return new Xo(t)}static unwrap(t){return Xo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xo}}function ts(t){return!!es(t)&&(Array.isArray(t)||!(t instanceof Map)&&Wo()in t)}function es(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ns(t,e,n){return t[e]=n}function rs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function is(t,e,n,r){const i=rs(t,e,n);return rs(t,e+1,r)||i}function os(t,e,n,r){const i=Bt();return rs(i,ee(),e)&&(Zt(),function(t,e,n,r,i,o){const s=Ot(t,e);co(e[11],s,o,t.value,n,r,i)}(ve(),i,t,e,n,r)),os}function ss(t,e,n,r){return rs(t,ee(),n)?e+y(n)+r:ki}function as(t,e,n,r,i,o){const s=is(t,te(),n,i);return ne(2),s?e+y(n)+r+y(i)+o:ki}function us(t,e,n,r,i,o,s,a){const u=Bt(),c=Zt(),l=t+ct,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=ji(e,t,4,s||null,Mt(c,a));eo(e,n,l,Mt(c,u)),be(e,l);const h=l.tViews=Ji(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Qt(h,!1);const d=u[11].createComment("");ai(c,u,d,h),Er(d,u),yo(u,u[l]=fo(d,u,d,h)),mt(h)&&Qi(c,u,h),null!=s&&Ki(u,h,a)}function cs(t){return Rt(jt.lFrame.contextLView,ct+t)}function ls(t,e=D.Default){const n=Bt();return null===n?En(t,e):ze(zt(),n,p(t),e)}function hs(t,e,n){const r=Bt();return rs(r,ee(),e)&&to(Zt(),ve(),r,t,e,r[11],n,!1),hs}function ds(t,e,n,r,i){const o=i?"class":"style";xo(t,n,e.inputs[o],o,r)}function fs(t,e,n,r){const i=Bt(),o=Zt(),s=ct+t,a=i[11],u=i[s]=zr(a,e,jt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=ji(e,t,2,i,Mt(a,o));return eo(e,n,u,Mt(a,s)),null!==u.attrs&&Ao(u,u.attrs,!1),null!==u.mergedAttrs&&Ao(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Ie(a,u,l);const h=c.classes;null!==h&&gi(a,u,h);const d=c.styles;null!==d&&mi(a,u,d),64!=(64&c.flags)&&ai(o,i,u,c),0===jt.lFrame.elementDepthCount&&Er(u,i),jt.lFrame.elementDepthCount++,mt(c)&&(Qi(o,i,c),$i(o,c,i)),null!==r&&Ki(i,c)}function ps(){let t=zt();Kt()?Yt():(t=t.parent,Qt(t,!1));const e=t;jt.lFrame.elementDepthCount--;const n=Zt();n.firstCreatePass&&(be(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&ds(n,e,Bt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&ds(n,e,Bt(),e.stylesWithoutHost,!1)}function ms(t,e,n,r){fs(t,e,n,r),ps()}function gs(t,e,n){const r=Bt(),i=Zt(),o=t+ct,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Mt(o,r),a=ji(e,t,8,"ng-container",s);return null!==s&&Ao(a,s,!0),eo(e,n,a,Mt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Qt(s,!0);const a=r[o]=r[11].createComment("");ai(i,r,a,s),Er(a,r),mt(s)&&(Qi(i,r,s),$i(i,s,r)),null!=n&&Ki(r,s)}function ys(){let t=zt();const e=Zt();Kt()?Yt():(t=t.parent,Qt(t,!1)),e.firstCreatePass&&(be(e,t),ft(t)&&e.queries.elementEnd(t))}function vs(){return Bt()}function bs(t){return!!t&&"function"==typeof t.then}function ws(t){return!!t&&"function"==typeof t.subscribe}const _s=ws;function Ts(t,e,n,r){const i=Bt(),o=Zt(),s=zt();return function(t,e,n,r,i,o,s,a){const u=mt(r),c=t.firstCreatePass&&Eo(t),l=So(e);let h=!0;if(3&r.type||a){const d=Ot(r,e),f=a?a(d):d,p=l.length,m=a?t=>a(kt(t[r.index])):r.index;if(It(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Es(r,e,0,o,!1);const t=n.listen(f,i,o);l.push(o,t),c&&c.push(i,m,p,p+1)}}else o=Es(r,e,0,o,!0),f.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,p,s)}else o=Es(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Ts}function Ss(t,e,n,r){try{return!1!==n(r)}catch(i){return Co(t,i),!1}}function Es(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&vo(s);let a=Ss(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Ss(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Cs(t=1){return function(t){return(jt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,jt.lFrame.contextLView))[8]}(t)}function xs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ci(t,o,!0):xi(r,o))return i}else n=i}return n}function Is(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=fn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?xs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function As(t,e=0,n){const r=Bt(),i=Zt(),o=ji(i,ct+t,16,null,n||null);null===o.projection&&(o.projection=e),Yt(),64!=(64&o.flags)&&function(t,e,n){pi(e[11],0,e,n,Yr(t,n,e),ni(n.parent||e[6],n,e))}(i,r,o)}function ks(t,e,n){return Ds(t,"",e,"",n),ks}function Ds(t,e,n,r,i){const o=Bt(),s=ss(o,e,n,r);return s!==ki&&to(Zt(),ve(),o,t,s,o[11],i,!1),Ds}function Os(t,e,n,r,i,o,s){const a=Bt(),u=as(a,e,n,r,i,o);return u!==ki&&to(Zt(),ve(),a,t,u,a[11],s,!1),Os}function Ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Ri(o):Li(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Rs(t[a],e)&&(u=!0,t[a+1]=r?Mi(n):Pi(n)),a=r?Ri(n):Li(n)}u&&(t[n+1]=r?Pi(o):Mi(o))}function Rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ls(t){return t.substring(Ps.key,Ps.keyEnd)}function Fs(t,e){const n=Ps.textEnd;return n===e?-1:(e=Ps.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ps.key=e,n),Ms(t,e,n))}function Ms(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Us(t,e,n){return Bs(t,e,n,!1),Us}function qs(t,e){return Bs(t,e,null,!0),qs}function js(t){Zs(pn,Vs,t,!0)}function Vs(t,e){for(let n=function(t){return function(t){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=t.length}(t),Fs(t,Ms(t,0,Ps.textEnd))}(e);n>=0;n=Fs(e,n))pn(t,Ls(e),!0)}function Bs(t,e,n,r){const i=Bt(),o=Zt(),s=ne(2);o.firstUpdatePass&&zs(o,t,s,r),e!==ki&&rs(i,s,e)&&Qs(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Vn(t)))),t}(e,n),r,s)}function Zs(t,e,n,r){const i=Zt(),o=ne(2);i.firstUpdatePass&&zs(i,null,o,r);const s=Bt();if(n!==ki&&rs(s,o,n)){const a=i.data[ge()];if(Js(a,r)&&!Gs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),ds(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ki&&(i=Z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0;let p,m=null;l===h?(u+=2,c+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(u+=2,m=l):(c+=2,m=h,p=f),null!==m&&Qs(t,e,n,r,m,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Z;const r=[],i=Vn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Gs(t,e){return e>=t.expandoStartIndex}function zs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=Gs(t,n);Js(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=$s(n=Hs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Hs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Li(r))return t[Ri(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Hs(null,t,e,n[1],r),n=$s(n,e.attrs,r),function(t,e,n,r){t[Ri(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=$s(r,t[o].hostAttrs,n);return $s(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=Li(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Ri(t[a+1]);t[r+1]=Ni(e,a),0!==e&&(t[e+1]=Fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ni(a,0),0!==a&&(t[a+1]=Fi(t[a+1],r)),a=r;else t[r+1]=Ni(u,0),0===a?a=r:t[u+1]=Fi(t[u+1],r),u=r;l&&(t[r+1]=Pi(t[r+1])),Ns(t,c,r,!0),Ns(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=Mi(n[r+1]))}(e,c,t,r,o),s=Ni(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Hs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=$s(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function $s(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Qs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ys(1==(1&c)?Ks(u,e,n,i,Li(c),s):void 0)||(Ys(o)||2==(2&c)&&(o=Ks(u,null,n,i,a,s)),function(t,e,n,r,i){const o=It(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Pr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(ge(),n),i,o))}function Ks(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===ki&&(l=c?Z:void 0);let h=c?mn(l,r):u===r?l:void 0;if(o&&!Ys(h)&&(h=mn(e,r)),Ys(h)&&(a=h,s))return a;const d=t[i+1];i=s?Ri(d):Li(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=mn(t,r))}return a}function Ys(t){return void 0!==t}function Js(t,e){return 0!=(t.flags&(e?16:32))}function Ws(t,e=""){const n=Bt(),r=Zt(),i=t+ct,o=r.firstCreatePass?ji(r,i,1,e,null):r.data[i],s=n[i]=Br(n[11],e);ai(r,n,s,o),Qt(o,!1)}function Xs(t){return ta("",t,""),Xs}function ta(t,e,n){const r=Bt(),i=ss(r,t,e,n);return i!==ki&&Io(r,ge(),i),ta}function ea(t,e,n,r,i){const o=Bt(),s=as(o,t,e,n,r,i);return s!==ki&&Io(o,ge(),s),ea}function na(t,e,n,r,i,o,s,a,u){Zs(pn,Vs,function(t,e,n,r,i,o,s,a,u,c){const l=function(t,e,n,r,i,o){const s=is(t,e,n,r);return is(t,e+2,i,o)||s}(t,te(),n,i,s,u);return ne(4),l?e+y(n)+r+y(i)+o+y(s)+a+y(u)+c:ki}(Bt(),t,e,n,r,i,o,s,a,u),!0)}function ra(t,e,n){const r=Bt();return rs(r,ee(),e)&&to(Zt(),ve(),r,t,e,r[11],n,!0),ra}const ia=void 0;var oa=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let sa={};function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ca(e);if(n)return n;const r=e.split("-")[0];if(n=ca(r),n)return n;if("en"===r)return oa;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return aa(t)[la.PluralCase]}function ca(t){return t in sa||(sa[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),sa[t]}var la=(()=>((la=la||{})[la.LocaleId=0]="LocaleId",la[la.DayPeriodsFormat=1]="DayPeriodsFormat",la[la.DayPeriodsStandalone=2]="DayPeriodsStandalone",la[la.DaysFormat=3]="DaysFormat",la[la.DaysStandalone=4]="DaysStandalone",la[la.MonthsFormat=5]="MonthsFormat",la[la.MonthsStandalone=6]="MonthsStandalone",la[la.Eras=7]="Eras",la[la.FirstDayOfWeek=8]="FirstDayOfWeek",la[la.WeekendRange=9]="WeekendRange",la[la.DateFormat=10]="DateFormat",la[la.TimeFormat=11]="TimeFormat",la[la.DateTimeFormat=12]="DateTimeFormat",la[la.NumberSymbols=13]="NumberSymbols",la[la.NumberFormats=14]="NumberFormats",la[la.CurrencyCode=15]="CurrencyCode",la[la.CurrencySymbol=16]="CurrencySymbol",la[la.CurrencyName=17]="CurrencyName",la[la.Currencies=18]="Currencies",la[la.Directionality=19]="Directionality",la[la.PluralCase=20]="PluralCase",la[la.ExtraData=21]="ExtraData",la))();const ha=["zero","one","two","few","many"],da="en-US",fa={marker:"element"},pa={marker:"ICU"};var ma=(()=>((ma=ma||{})[ma.SHIFT=2]="SHIFT",ma[ma.APPEND_EAGERLY=1]="APPEND_EAGERLY",ma[ma.COMMENT=2]="COMMENT",ma))();let ga=da;function ya(t){var e;null==(e=t)&&w("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(ga=t.toLowerCase().replace(/_/g,"-"))}function va(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ri(t,0,n):kt(n[i])}function ba(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Wr(t,s,n[o[e]],a,!1)}}function wa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];_a(r)||Ta(r,e)&&null===Sa(r)&&Ea(r,e.index)}}function _a(t){return!(64&t.type)}function Ta(t,e){return _a(e)||t.index>e.index}function Sa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Ea(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(si(va,ba),t.insertBeforeIndex=e)}function Ca(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function xa(t,e,n){const r=Vi(t,n,64,null,null);return wa(e,r),r}function Ia(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Aa=0,ka=0;function Da(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Br(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=ei(i,r)),c===s?(l=r,h=o):(l=null,h=kt(n[c])),null!==h){const e=(131070&u)>>>1;Wr(i,h,n[e],l,!1);const r=Ca(t,e);if(null!==r&&"object"==typeof r){const e=Ia(r,n);null!==e&&Da(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];co(i,Dt(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case pa:const t=e[++a],r=e[++a];null===n[r]&&Er(n[r]=Gr(i,t),n);break;case fa:const o=e[++a],s=e[++a];null===n[s]&&Er(n[s]=zr(i,o,null),n)}}}function Oa(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=y(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?co(e[11],e[a],null,c,o,i,u):to(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&Zr(e[11],l,i);break;case 2:Ra(t,Ca(t,a),e,i);break;case 3:Na(t,Ca(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Ca(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Na(t,n,r,e)}}o+=a}}function Na(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Aa;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Oa(t,r,e.update[i],n,o)}}function Ra(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ua(e)(parseInt(t,10)),r=ha[n];return void 0!==r?r:"other"}(e,ga);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Ia(e,n)!==i&&(Pa(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Da(t,e.create[i],n,r)}}function Pa(t,e,n){let r=Ia(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&hi(n[11],t)}else Pa(t,Ca(t,~r),n)}}}const La=/\ufffd(\d+):?\d*\ufffd/gi,Fa=/\ufffd(\d+)\ufffd/,Ma=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ua=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ja=/\uE500/g;function Va(t,e,n,r,i,o,s){const a=Bi(t,r,1,null);let u=a<<ma.SHIFT,c=$t();e===c&&(c=null),null===c&&(u|=ma.APPEND_EAGERLY),s&&(u|=ma.COMMENT,void 0===Lr&&(Lr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Ia(t,e);n=null!==i?t.remove[i]:Z}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Vi(t,a,s?32:1,null===o?"":o,null);wa(n,l);const h=l.index;return Qt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(si(va,ba),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&w("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Ba(t,e,n,r,i,o,s){const a=s.match(La),u=Va(t,e,n,o,r,a?null:s,!1);a&&Za(i,s,u.index,null,0,null)}function Za(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(La);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=Ga(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function Ga(t){return 1<<Math.min(t,31)}function za(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ua.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Ha(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:Bi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Ga(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Ka(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function $a(t){const e=[],n=[];let r=1,i=0;const o=Qa(t=t.replace(Ma,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Qa(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Qa(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Ma.test(n)?r.push($a(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ka(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Kn(xt()).getInertBodyElement(s),d=br(h)||h;return d?Ya(t,e,n,r,u,c,l,d,i,a,0):0}function Ya(t,e,n,r,i,o,s,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Bi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(ur.hasOwnProperty(p)){Xa(i,fa,p,u,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(La)?hr.hasOwnProperty(n)&&Za(s,e.value,a,e.name,0,cr[n]?tr:lr[n]?er:null):tu(i,a,e)}h=Ya(t,e,n,r,i,o,s,d,a,c,l+1)|h,Ja(o,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(La);Xa(i,null,g?"":m,u,a),Ja(o,a,l),g&&(h=Za(s,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=Fa.exec(d.textContent||"");if(y){const e=c[parseInt(y[1],10)];Xa(i,pa,"",u,a),Ha(t,n,r,u,e,a),Wa(o,a,l)}}d=d.nextSibling}return h}function Ja(t,e,n){0===n&&t.push(e)}function Wa(t,e,n){0===n&&(t.push(~e),t.push(e))}function Xa(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function tu(t,e,n){t.push(e<<1|1,n.name,n.value)}function eu(t,e,n){(function(t,e,n=-1){const r=Zt(),i=Bt(),o=ct+t,s=Mt(r.consts,e),a=$t();r.firstCreatePass&&function(t,e,n,r,i,o){const s=$t(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return za(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return za(t.substring(n,r))}}(i,o),h.replace(ja," ")).split(qa);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const o=Qa(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Ba(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ha(t,n,u,e,r,Va(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ct+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Qt($t(),!1);else{const e=xa(t,c[0],n);c.unshift([]),Qt(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Jr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&ma.COMMENT)===ma.COMMENT,c=(s&ma.APPEND_EAGERLY)===ma.APPEND_EAGERLY,l=s>>>ma.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Br(i,a)),c&&null!==n&&Wr(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),re(!0)})(t,e,n),re(!1)}function nu(t){return rs(Bt(),ee(),t)&&(Aa|=1<<Math.min(ka,31)),ka++,nu}function ru(t){!function(t,e,n){if(ka>0){const r=t.data[n];Oa(t,e,Array.isArray(r)?r:r.update,te()-ka-1,Aa)}Aa=0,ka=0}(Zt(),Bt(),t+ct)}function iu(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)iu(t[o],e,n,r,i);else{const o=Zt(),s=Bt();let a=Bo(t)?t:p(t.provide),u=qo(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Bo(t)||!t.multi){const r=new xe(u,i,ls),f=au(a,e,i?l:l+d,h);-1===f?(Be(Ue(c,s),o,a),ou(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=au(a,e,l+d,h),p=au(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Be(Ue(c,s),o,a);const l=function(t,e,n,r,i){const o=new xe(t,n,ls);return o.multi=[],o.index=e,o.componentProviders=0,su(o,i,r&&!n),o}(i?cu:uu,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),ou(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ou(o,t,f>-1?f:p,su(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ou(t,e,n,r){const i=Bo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function su(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function au(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function uu(t,e,n,r){return lu(this.multi,[])}function cu(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),lu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],lu(i,o);return o}function lu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function hu(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Zt();if(r.firstCreatePass){const i=gt(t);iu(n,r.data,r.blueprint,i,!0),iu(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class du{}class fu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class pu{}function mu(...t){}function gu(t,e){return new vu(Ot(t,e))}pu.NULL=new fu;const yu=function(){return gu(zt(),Bt())};let vu=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=yu,t})();function bu(t){return t instanceof vu?t.nativeElement:t}class wu{}let _u=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Tu(),t})();const Tu=function(){const t=Bt(),e=Pt(zt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let Su=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class Eu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Cu=new Eu("12.1.0");class xu{constructor(){}supports(t){return ts(t)}create(t){return new Au(t)}}const Iu=(t,e)=>e;class Au{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Iu}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Nu(n,r,i)?e:n,s=Nu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ts(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Wo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ku(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ou),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ou),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ku{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Du{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ou{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Du,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ru{constructor(){}supports(t){return t instanceof Map||es(t)}create(){return new Pu}}class Pu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||es(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Lu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Lu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fu(){return new Mu([new xu])}let Mu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fu()),deps:[[t,new Dn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Fu}),t})();function Uu(){return new qu([new Ru])}let qu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Uu()),deps:[[t,new Dn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Uu}),t})();function ju(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),dt(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ju(e[1],e,n,r)}const s=n.type;if(8&s)ju(t,e,n.child,r);else if(32&s){const t=Fr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ci(e,n);if(Array.isArray(t))r.push(...t);else{const n=Mr(e[16]);ju(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Vu{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ju(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&($r(t,n),dn(e,n))}this._attachedToViewContainer=!1}Qr(this._lView[1],this._lView)}onDestroy(t){Wi(this._lView[1],this._lView,null,t)}markForCheck(){vo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{bo(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Bu extends Vu{constructor(t){super(t),this._view=t}detectChanges(){wo(this._view)}checkNoChanges(){!function(t){Wt(!0);try{wo(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const Zu=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Pt(t.index,e);return new Vu(n,n)}return 47&t.type?new Vu(e[16],e):null}(zt(),Bt(),16==(16&t))};let Gu=(()=>{class t{}return t.__NG_ELEMENT_ID__=Zu,t})();const zu=[new Ru],Hu=new Mu([new xu]),$u=new qu(zu),Qu=function(){return Wu(zt(),Bt())};let Ku=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qu,t})();const Yu=Ku,Ju=class extends Yu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=qi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Zi(e,n,t),new Vu(n)}};function Wu(t,e){return 4&t.type?new Ju(e,t,gu(t,e)):null}class Xu{}class tc{}const ec=function(){return ac(zt(),Bt())};let nc=(()=>{class t{}return t.__NG_ELEMENT_ID__=ec,t})();const rc=nc,ic=class extends rc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new Xe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ve(this._hostTNode,this._hostLView);if(Ne(t)){const e=Pe(t,this._hostLView),n=Re(t);return new Xe(e[1].data[n+8],e)}return new Xe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=oc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Xu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ic(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],hn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=li(i,o),a=n[11],u=ei(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,fi(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(sc(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=oc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);n&&(dn(sc(this._lContainer),e),Qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);return n&&null!=dn(sc(this._lContainer),e)?new Vu(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function oc(t){return t[8]}function sc(t){return t[8]||(t[8]=[])}function ac(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Ot(t,e);Wr(n,ei(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=fo(r,e,i,t),yo(e,n)}return new ic(n,t,e)}const uc={};class cc extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new dc(e,this.ngModule)}}function lc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const hc=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nr});class dc extends du{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ai).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return lc(this.componentDef.inputs)}get outputs(){return lc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,uc,i);return o!==uc||r===uc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(wu,At),s=i.get(Su,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Nr,clean:To,playerHandler:null,flags:0},d=Ji(0,null,null,1,0,null,null,null,null,null),f=qi(null,d,h,l,null,null,o,a,s,i);let p,m;le(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=ji(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ao(a,u,!0),null!==t&&(Ie(i,t,u),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&mi(i,t,a.styles)));const c=r.createRenderer(t,e),l=qi(n,Yi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Be(Ue(a,n),s,e.type),io(s,a),so(a,n.length,1)),yo(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)Ie(a,c,["ng-version",Cu.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,c,t),e&&e.length>0&&gi(a,c,e.join(" "))}if(m=Nt(d,ct),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ao(t,r,e,Bi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);Er(i,e);const o=Ot(r,e);return o&&Er(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ye(a.index),no(n[1],a,0,a.directiveStart,a.directiveEnd,e),ro(e,s)),s}(t,this.componentDef,f,h,[zo]),Zi(d,f,null)}finally{me()}return new fc(this.componentType,p,gu(m,f),f,m)}}class fc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Bu(r),this.componentType=t}get injector(){return new Xe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const pc=new Map;class mc extends Xu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cc(this);const n=ut(t),r=t[Q]||null;r&&ya(r),this._bootstrapComponents=Rr(n.bootstrap),this._r3Injector=Fo(t,e,[{provide:Xu,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Go.THROW_IF_NOT_FOUND,n=D.Default){return t===Go||t===Xu||t===ko?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gc extends tc{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,pc.get(i),n),pc.set(i,n));const o=Rr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new mc(this.moduleType,t)}}function yc(t,e,n){const r=Xt()+t,i=Bt();return i[r]===ki?ns(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function vc(t,e,n,r){return Tc(Bt(),Xt(),t,e,n,r)}function bc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return is(t,a,i,o)?ns(t,a+2,s?r.call(s,i,o):r(i,o)):_c(t,a+2)}(Bt(),Xt(),t,e,n,r,i)}function wc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const u=e+n;return function(t,e,n,r,i){const o=is(t,e,n,r);return rs(t,e+2,i)||o}(t,u,i,o,s)?ns(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):_c(t,u+3)}(Bt(),Xt(),t,e,n,r,i,o)}function _c(t,e){const n=t[e];return n===ki?void 0:n}function Tc(t,e,n,r,i,o){const s=e+n;return rs(t,s,i)?ns(t,s+1,o?r.call(o,i):r(i)):_c(t,s+1)}function Sc(t,e){const n=Zt();let r;const i=t+ct;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=yt(r.type)),s=N(ls);try{const t=Fe(!1),e=o();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Bt(),i,e),e}finally{N(s)}}function Ec(t,e,n){const r=t+ct,i=Bt(),o=Rt(i,r);return function(t,e){return Xo.isWrapped(e)&&(e=Xo.unwrap(e),t[te()]=ki),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Tc(i,Xt(),e,o.transform,n,o):o.transform(n))}function Cc(t){return e=>{setTimeout(t,void 0,e)}}const xc=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Cc(u),a&&(a=Cc(a)),c&&(c=Cc(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Ic(){return this._results[Wo()]()}class Ac{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Wo(),n=Ac.prototype;n[e]||(n[e]=Ic)}get changes(){return this._changes||(this._changes=new xc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=cn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class kc{constructor(t){this.queryList=t,this.matches=null}clone(){return new kc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Dc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Gc(t,e).matches&&this.queries[e].setDirty()}}class Oc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Nc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Rc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Pc(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===Ku?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===vu||r===nc||r===Ku&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Pc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Lc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?gu(t,e):4&t.type?Wu(t,e):null}(e,t):-2===n?function(t,e,n){return n===vu?gu(e,t):n===Ku?Wu(e,t):n===nc?ac(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function Fc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Lc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Mc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Fc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Mc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Mc(n[1],n,i,r)}}}}}return r}function Uc(t){const e=Bt(),n=Zt(),r=se();ae(r+1);const i=Gc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Mc(n,e,r,[]):Fc(n,e,i,r);t.reset(o,bu),t.notifyOnChanges()}return!0}return!1}function qc(t,e,n){const r=Zt();r.firstCreatePass&&(Zc(r,new Oc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Bc(r,Bt(),e)}function jc(t,e,n,r){const i=Zt();if(i.firstCreatePass){const o=zt();Zc(i,new Oc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Bc(i,Bt(),n)}function Vc(){return t=Bt(),e=se(),t[19].queries[e].queryList;var t,e}function Bc(t,e,n){const r=new Ac(4==(4&n));Wi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Dc),e[19].queries.push(new kc(r))}function Zc(t,e,n){null===t.queries&&(t.queries=new Nc),t.queries.track(new Rc(e,n))}function Gc(t,e){return t.queries.getByIndex(e)}function zc(t,e){return Wu(t,e)}const Hc=new sn("Application Initializer");let $c=(()=>{class t{constructor(t){this.appInits=t,this.resolve=mu,this.reject=mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(bs(e))t.push(e);else if(_s(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Hc,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Qc=new sn("AppId"),Kc={provide:Qc,useFactory:function(){return`${Yc()}${Yc()}${Yc()}`},deps:[]};function Yc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jc=new sn("Platform Initializer"),Wc=new sn("Platform ID"),Xc=new sn("appBootstrapListener");let tl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const el=new sn("LocaleId"),nl=new sn("DefaultCurrencyCode");class rl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const il=function(t){return new gc(t)},ol=il,sl=function(t){return Promise.resolve(il(t))},al=function(t){const e=il(t),n=Rr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new dc(n)),t},[]);return new rl(e,n)},ul=al,cl=function(t){return Promise.resolve(al(t))};let ll=(()=>{class t{constructor(){this.compileModuleSync=ol,this.compileModuleAsync=sl,this.compileModuleAndAllComponentsSync=ul,this.compileModuleAndAllComponentsAsync=cl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const hl=(()=>Promise.resolve(0))();function dl(t){"undefined"==typeof Zone?hl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xc(!1),this.onMicrotaskEmpty=new xc(!1),this.onStable=new xc(!1),this.onError=new xc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gl(t),t.isCheckStableRunning=!0,ml(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return yl(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),vl(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return yl(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),vl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gl(t),ml(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pl,mu,mu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pl={};function ml(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function yl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vl(t){t._nesting--,ml(t)}class bl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xc,this.onMicrotaskEmpty=new xc,this.onStable=new xc,this.onError=new xc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fl.assertNotInAngularZone(),dl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(fl))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t{constructor(){this._applications=new Map,Cl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Tl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Sl(t){Cl=t}let El,Cl=new Tl,xl=!0,Il=!1;function Al(){return Il=!0,xl}function kl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");xl=!1}const Dl=new sn("AllowMultipleToken");class Ol{constructor(t,e){this.name=t,this.token=e}}function Nl(t,e,n=[]){const r=`Platform: ${e}`,i=new sn(r);return(e=[])=>{let o=Rl();if(!o||o.injector.get(Dl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Oo,useValue:"platform"});!function(t){if(El&&!El.destroyed&&!El.injector.get(Dl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");El=t.get(Pl);const e=t.get(Jc,null);e&&e.forEach(t=>t())}(Go.create({providers:t,name:r}))}return function(t){const e=Rl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Rl(){return El&&!El.destroyed?El:null}let Pl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new bl:("zone.js"===t?void 0:t)||new fl({enableLongStackTrace:Al(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:fl,useValue:n}];return n.run(()=>{const e=Go.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(kr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ml(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return bs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get($c);return t.runInitializers(),t.donePromise.then(()=>(ya(i.injector.get(el,da)||da),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ll({},e);return function(t,e,n){const r=new gc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Go))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ll(t,e){return Array.isArray(e)?e.reduce(Ll,t):Object.assign(Object.assign({},t),e)}let Fl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{fl.assertNotInAngularZone(),dl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof du?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Xu),i=n.create(Go.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(wl,null),a=s&&i.injector.get(_l);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ml(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ml(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Xc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(fl),En(Go),En(kr),En(pu),En($c))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ml(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ul{}class ql{}const jl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||jl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(98255)(e).then(t=>t[r]).then(t=>Bl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(98255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Bl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(ll),En(ql,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Bl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Zl=function(t){return null},Gl=Nl(null,"core",[{provide:Wc,useValue:"unknown"},{provide:Pl,deps:[Go]},{provide:_l,deps:[]},{provide:tl,deps:[]}]),zl=[{provide:Fl,useClass:Fl,deps:[fl,Go,kr,pu,$c]},{provide:hc,deps:[fl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$c,useClass:$c,deps:[[new kn,Hc]]},{provide:ll,useClass:ll,deps:[]},Kc,{provide:Mu,useFactory:function(){return Hu},deps:[]},{provide:qu,useFactory:function(){return $u},deps:[]},{provide:el,useFactory:function(t){return ya(t=t||"undefined"!=typeof $localize&&$localize.locale||da),t},deps:[[new An(el),new kn,new Dn]]},{provide:nl,useValue:"USD"}];let Hl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(Fl))},t.\u0275mod=nt({type:t}),t.\u0275inj=T({providers:zl}),t})()},50057:(t,e,n)=>{"use strict";n.d(e,{hO:()=>I,xv:()=>b,Dh:()=>v,Ot:()=>w,HU:()=>f,GT:()=>y,sI:()=>C,on:()=>T,ss:()=>p,pX:()=>g,yq:()=>S});var r=n(57771),i=n(33637),o=n(68307),s=n(82639),a=n(59746),u=n(37716),c=n(42329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig");class w{}const _=new u.GfV("6.1.5");function T(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:w,useFactory:T,deps:[v,u.R0b,[new u.FiY,b]]};let I=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",_.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[x]}),t})()},79759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(64762),s=n(64685),a=n(16034),u=n(60300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.29",void 0),t.registerVersion("fire-js","")}(w);const _=w},16034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(64762),i=n(64685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},60300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},64685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>S,ZR:()=>T,zI:()=>_,$s:()=>D,r3:()=>x,Sg:()=>u,ne:()=>I,p$:()=>o,ZB:()=>s,m9:()=>O,z$:()=>c,jU:()=>d,ru:()=>f,d:()=>m,w1:()=>g,hl:()=>b,uI:()=>l,UG:()=>h,b$:()=>p,G6:()=>v,Mn:()=>y,eu:()=>w});var r=n(64762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function g(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"indexedDB"in self&&null!=indexedDB}function w(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function _(){return!(!navigator||!navigator.cookieEnabled)}var T=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?E(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new T(i,a,r);return u},t}();function E(t,e){return t.replace(C,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var C=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new A(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}function D(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function O(t){return t&&t._delegate?t._delegate:t}},42329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(79759),i="8.9.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},23098:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(59193),i=n(25917),o=n(40205);class s{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new s("N",t):s.undefinedValueNotification}static createError(t){return new s("E",void 0,t)}static createComplete(){return s.completeNotification}}s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0)},67574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(77393),i=n(29181),o=n(46490),s=n(16554),a=n(54487),u=n(82494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},46490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(82494),i=n(54449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},79765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(67574),i=n(77393),o=n(75319),s=n(77971),a=n(78858),u=n(29181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},78858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(75319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},77393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(69105),i=n(46490),o=n(75319),s=n(29181),a=n(82494),u=n(54449);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},75319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(59796),i=n(81555),o=n(69105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},82494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},85345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(77393),i=n(67574),o=n(87444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},52441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(79765),i=n(67574),o=n(75319),s=n(51307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},59193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(67574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},94402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(67574),i=n(87444),o=n(75319),s=n(16554),a=n(94087),u=n(20377),c=n(44072),l=n(69489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},56693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(67574),i=n(55015),o=n(94087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},66682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(67574),i=n(54869),o=n(63282),s=n(56693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},25917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(54869),i=n(56693),o=n(94087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},40205:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(67574);function i(t,e){return new r.y(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},88002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(77393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},63282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(19773),i=n(54487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},19773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(88002),i=n(94402),o=n(85345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},59746:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(77393),i=n(23098);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},51307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(77393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},18819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(52441),i=n(51307),o=n(79765);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},82639:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(67574);let i=1;const o=Promise.resolve(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(36465),l=n(16102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var d=n(26561);class f extends r.y{constructor(t,e=0,n=h){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,d.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new f(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new f(e,this.delay,this.scheduler).subscribe(t)}}},68307:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(77393),i=n(98640),o=n(69105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i.Z,this._tapError=i.Z,this._tapComplete=i.Z,this._tapError=n||i.Z,this._tapComplete=r||i.Z,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.Z,this._tapError=e.error||i.Z,this._tapComplete=e.complete||i.Z)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},94087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(67574),i=n(75319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},36465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(75319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},16102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},33637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(36465);const i=new(n(16102).v)(r.o),o=i},57771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(36465),i=n(16102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},20377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},16554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},29181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},77971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},54449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},54487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},59796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},69489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},69105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},26561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(59796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},81555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},44072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},54869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},98640:(t,e,n)=>{"use strict";function r(){}n.d(e,{Z:()=>r})},87444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(55015),i=n(54449),o=n(20377),s=n(16554),a=n(69489),u=n(44072),c=n(81555);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},55015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},85397:(t,e,n)=>{"use strict";var r=n(37716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new _((0,r.LFG)(g),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var E=(()=>((E=E||{})[E.Zero=0]="Zero",E[E.One=1]="One",E[E.Two=2]="Two",E[E.Few=3]="Few",E[E.Many=4]="Many",E[E.Other=5]="Other",E))();const C=r.kL8;class x{}let I=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(R_){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new O(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new O(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class O{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){P("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){P("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function P(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let L=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:x,useClass:I}]}),t})();function M(t){return"browser"===t}function U(t){return"server"===t}let q=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new j((0,r.LFG)(s),window)}),t})();class j{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(R_){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(R_){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class B{}class Z extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Z,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==e?null:function(t){G=G||document.createElement("a"),G.setAttribute("href",t);const e=G.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A(document.cookie,t)}}let G,z=null;const H=new r.OlP("TRANSITION_ID"),$=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,s,r.zs3],multi:!0}];class Q{static init(){(0,r.VLi)(new Q)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let K=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Y=new r.OlP("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Y),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let X=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),tt=(()=>{class t extends X{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(et),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(et))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function et(t){o().remove(t)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function ot(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let st=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(J),r.LFG(tt),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ot(n)):this.eventManager.addEventListener(t,e,ot(n))}}class ut extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],dt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ft.hasOwnProperty(e)&&(e=ft[e]))}return dt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(vt)},token:t,providedIn:"root"}),t})();function yt(t){return new vt(t.get(s))}let vt=(()=>{class t extends gt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return yt((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const bt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Z.makeCurrent(),Q.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),wt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Y,useClass:lt,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:Y,useClass:mt,multi:!0,deps:[s]},[],{provide:st,useClass:st,deps:[J,tt,r.AFp]},{provide:r.FYo,useExisting:st},{provide:X,useExisting:tt},{provide:tt,useClass:tt,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:J,useClass:J,deps:[Y,r.R0b]},{provide:B,useClass:K,deps:[]},[]];let _t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:H,useExisting:r.AFp},$]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:wt,imports:[F,r.hGG]}),t})();function Tt(){return new St((0,r.LFG)(s))}let St=(()=>{class t{constructor(t){this._doc=t,this._dom=o()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(this._getMetaKeyMap(n),t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(this._getMetaKeyMap(n))===t[n])}_getMetaKeyMap(t){return Et[t]||t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:Tt,token:t,providedIn:"root"}),t})();const Et={httpEquiv:"http-equiv"};function Ct(){return new xt((0,r.LFG)(s))}let xt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:Ct,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var It=n(79765),At=n(77971);class kt extends It.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new At.N;return this._value}next(t){super.next(this._value=t)}}var Dt=n(25917),Ot=n(77393);const Nt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Rt=n(59193);function Pt(t){return e=>0===t?(0,Rt.c)():e.lift(new Lt(t))}class Lt{constructor(t){if(this.total=t,this.total<0)throw new Nt}call(t,e){return e.subscribe(new Ft(t,this.total))}}class Ft extends Ot.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Mt(t,e){return n=>n.lift(new Ut(t,e))}class Ut{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new qt(t,this.compare,this.keySelector))}}class qt extends Ot.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var jt=n(85345);function Vt(t){return e=>e.lift(new Bt(t))}class Bt{constructor(t){this.notifier=t}call(t,e){const n=new Zt(t),r=(0,jt.ft)(this.notifier,new jt.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Zt extends jt.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Gt;try{Gt="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(R_){Gt=!1}let zt=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?M(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Gt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})();var Ht=n(67574),$t=n(33637);"undefined"!=typeof Element&&Element;const Qt="cdk-high-contrast-black-on-white",Kt="cdk-high-contrast-white-on-black",Yt="cdk-high-contrast-active";let Jt=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Yt),t.remove(Qt),t.remove(Kt),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Yt),t.add(Qt)):2===e&&(t.add(Yt),t.add(Kt))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(zt),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(zt),r.LFG(s))},token:t,providedIn:"root"}),t})(),Wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Xt=new r.GfV("12.1.0");class te{}const ee="*";function ne(t,e=null){return{type:2,steps:t,options:e}}function re(t){return{type:6,styles:t,offset:null}}function ie(t){Promise.resolve(null).then(t)}class oe{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class se{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ie(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function ae(){return"undefined"!=typeof window&&void 0!==window.document}function ue(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ce(t){switch(t.length){case 0:return new oe;case 1:return t[0];default:return new se(t)}}function le(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case ee:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function he(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&de(n,"start",t)));break;case"done":t.onDone(()=>r(n&&de(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&de(n,"destroy",t)))}}function de(t,e,n){const r=n.totalTime,i=fe(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function fe(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function pe(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function me(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let ge=(t,e)=>!1,ye=(t,e)=>!1,ve=(t,e,n)=>[];const be=ue();(be||"undefined"!=typeof Element)&&(ge=ae()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),ye=(()=>{if(be||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ye}})(),ve=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let we=null,_e=!1;function Te(t){we||(we=("undefined"!=typeof document?document.body:null)||{},_e=!!we.style&&"WebkitAppearance"in we.style);let e=!0;return we.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in we.style,!e&&_e)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in we.style),e}const Se=ye,Ee=ge,Ce=ve;function xe(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ie=(()=>{class t{validateStyleProperty(t){return Te(t)}matchesElement(t,e){return Se(t,e)}containsElement(t,e){return Ee(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new oe(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ae{}Ae.NOOP=new Ie;const ke="ng-enter",De="ng-leave",Oe="ng-trigger",Ne=".ng-trigger",Re="ng-animating",Pe=".ng-animating";function Le(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fe(parseFloat(e[1]),e[2])}function Fe(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Me(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Fe(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Fe(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Ue(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function qe(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ue(t,n);return n}function je(t,e,n){return n?e+":"+n+";":""}function Ve(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=je(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=je(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Be(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Ye(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ue()&&Ve(t))}function Ze(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ye(e);t.style[n]=""}),ue()&&Ve(t))}function Ge(t){return Array.isArray(t)?1==t.length?t[0]:ne(t):t}const ze=new RegExp("{{\\s*(.+?)\\s*}}","g");function He(t){let e=[];if("string"==typeof t){let n;for(;n=ze.exec(t);)e.push(n[1]);ze.lastIndex=0}return e}function $e(t,e,n){const r=t.toString(),i=r.replace(ze,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Qe(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ke=/-+([a-z0-9])/g;function Ye(t){return t.replace(Ke,(...t)=>t[1].toUpperCase())}function Je(t,e){return 0===t||0===e}function We(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=tn(t,e)})}}return e}function Xe(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function tn(t,e){return window.getComputedStyle(t)[e]}const en="*";function nn(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(sn(i,s)),"<"!=o[0]||i==en&&s==en||e.push(sn(s,i))}(t,n,e)):n.push(t),n}const rn=new Set(["true","1"]),on=new Set(["false","0"]);function sn(t,e){const n=rn.has(t)||on.has(t),r=rn.has(e)||on.has(e);return(i,o)=>{let s=t==en||t==i,a=e==en||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?rn.has(t):on.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?rn.has(e):on.has(e)),s&&a}}const an=new RegExp("s*:selfs*,?","g");function un(t,e,n){return new cn(t).build(e,n)}class cn{constructor(t){this._driver=t}build(t,e){const n=new ln(e);return this._resetContextStyleTimingState(n),Xe(this,Ge(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(hn(t)){const e=t;Object.keys(e).forEach(t=>{He(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Qe(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xe(this,Ge(t.animation),e);return{type:1,matchers:nn(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:dn(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xe(this,t,e)),options:dn(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Xe(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:dn(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return fn(Me(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=fn(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Me(r,e),fn(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:re({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=re(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ee?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(hn(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=He(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(hn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(hn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xe(this,Ge(t.animation),e),options:dn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dn(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dn(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(an,"")),[t=t.replace(/@\*/g,Ne).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Pe),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,pe(e.collectedStyles,e.currentQuerySelector,{});const s=Xe(this,Ge(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:dn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Me(t.timings,e.errors,!0);return{type:12,animation:Xe(this,Ge(t.animation),e),timings:n,options:null}}}class ln{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hn(t){return!Array.isArray(t)&&"object"==typeof t}function dn(t){var e;return t?(t=Ue(t)).params&&(t.params=(e=t.params)?Ue(e):null):t={},t}function fn(t,e,n){return{duration:t,delay:e,easing:n}}function pn(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class mn{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gn=new RegExp(":enter","g"),yn=new RegExp(":leave","g");function vn(t,e,n,r,i,o={},s={},a,u,c=[]){return(new bn).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class bn{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new mn;const l=new _n(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),Xe(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[pn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Le(n.duration):null,o=null!=n.delay?Le(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Xe(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wn);const t=Le(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xe(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Le(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Xe(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Me(e.params?$e(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Le(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wn);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),Xe(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Xe(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const wn={};class _n{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Tn(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Le(n.duration)),null!=n.delay&&(r.delay=Le(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=$e(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new _n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=wn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Sn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(gn,"."+this._enterClassName)).replace(yn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Tn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Tn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ee,this._currentKeyframe[t]=ee}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ee})):qe(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=$e(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ee),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=qe(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==ee&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Qe(t.values()):[],o=e.size?Qe(e.values()):[];if(n){const t=r[0],e=Ue(t);t.offset=0,e.offset=1,r=[t,e]}return pn(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Sn extends Tn{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=qe(t[0],!1);a.offset=0,i.push(a);const u=qe(t[0],!1);u.offset=En(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=qe(t[r],!1);s.offset=En((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return pn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function En(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Cn{}class xn extends Cn{normalizePropertyName(t,e){return Ye(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(In[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const In=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function An(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const kn={};class Dn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||kn,d=this.buildStyles(n,s&&s.params||kn,l),f=a&&a.params||kn,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:vn(t,e,this.ast.animation,i,o,d,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return An(e,this._triggerName,n,r,v,d,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=pe(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=pe(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const T=Qe(m.values());return An(e,this._triggerName,n,r,v,d,p,w,T,g,y,_)}}class On{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Ue(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=$e(o,r,e)),n[t]=o})}}),n}}class Nn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new On(t.style,t.options&&t.options.params||{})}),Rn(this.states,"true","1"),Rn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Dn(t,e,this.states))}),this.fallbackTransition=new Dn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Rn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Pn=new mn;class Ln{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=un(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=le(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=vn(this._driver,e,i,ke,De,{},{},n,Pn,r),o.forEach(t=>{const e=pe(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ee)})});const a=ce(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=fe(e,"","","");return he(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Fn="ng-animate-queued",Mn="ng-animate-disabled",Un=".ng-animate-disabled",qn=[],jn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Bn{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ue(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Zn="void",Gn=new Bn(Zn);class zn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=pe(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=pe(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Wn(t,Oe),Wn(t,"ng-trigger-"+e),a[e]=Gn),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new $n(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Wn(t,Oe),Wn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new Bn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Gn),u.value!==Zn&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Ze(t,n),Be(t,r)})}return}const c=pe(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Wn(t,Fn),o.onStart(()=>{Xn(t,Fn)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ne,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Zn,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&ce(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||Gn,a=new Bn(Zn),u=new $n(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==jn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Wn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=fe(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,he(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Hn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new zn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Qn(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Qn(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wn(t,Mn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xn(t,Mn))}removeNode(t,e,n,r){if(Qn(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Qn(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ne,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Pe,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ce(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=jn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Un)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Un,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Wn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?ce(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new mn,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Jn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=ke+p++;f.set(e,n),t.forEach(t=>Wn(t,n))});const m=[],g=new Set,y=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Jn(h,Array.from(g));b.forEach((t,e)=>{const n=De+p++;v.set(e,n),t.forEach(t=>Wn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Xn(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Xn(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>Ze(i,p.fromStyles)),e.onDestroy(()=>Be(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Ze(i,p.fromStyles)),e.onDestroy(()=>Be(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>pe(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const T=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{pe(T,e,[]).push(t),t.destroy()})});const E=m.filter(t=>nr(t,a,u)),C=new Map;Yn(C,this.driver,y,u,ee).forEach(t=>{nr(t,a,u)&&E.push(t)});const x=new Map;d.forEach((t,e)=>{Yn(x,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=C.get(t),n=x.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const I=[],A=[],k={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>Be(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,T,i,x,C);if(o.setRealPlayer(n),t===k)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=ce(e)),r.push(o)}}else Ze(e,s.fromStyles),o.onDestroy(()=>Be(e,s.toStyles)),A.push(o),c.has(e)&&r.push(o)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=ce(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<m.length;D++){const t=m[D],e=t.__ng_removed;if(Xn(t,De),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Pe,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?tr(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Zn;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=pe(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Ze(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new oe(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return er(t,e),e}((n.get(h)||qn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=le(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new $n(t,s,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{pe(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Wn(t,Re));const d=ce(h);return d.onDestroy(()=>{c.forEach(t=>Xn(t,Re)),Be(a,e.toStyles)}),l.forEach(t=>{pe(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new oe(t.duration,t.delay)}}class $n{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new oe,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>he(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){pe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Qn(t){return t&&1===t.nodeType}function Kn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yn(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Kn(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Vn,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Kn(t,o[a++])),s}function Jn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Wn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Xn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function tr(t,e,n){ce(n).onDone(()=>t.processLeaveNode(e))}function er(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof se?er(r.players,e):e.push(r)}}function nr(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class rr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Hn(t,e,n),this._timelineEngine=new Ln(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=un(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Nn(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=me(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=me(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ir(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=sr(e[0]),e.length>1&&(r=sr(e[e.length-1]))):e&&(n=sr(e)),n||r?new or(t,n,r):null}class or{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=or.initialStylesByElement.get(t);r||or.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Be(this._element,this._initialStyles),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(or.initialStylesByElement.delete(this._element),this._startStyles&&(Ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ze(this._element,this._endStyles),this._endStyles=null),Be(this._element,this._initialStyles),this._state=3)}}function sr(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ar(i)&&(e=e||{},e[i]=t[i])}return e}function ar(t){return"display"===t||"position"===t}or.initialStylesByElement=new WeakMap;const ur="animation",cr="animationend";class lr{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=gr(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),mr(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),pr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hr(this._element,this._name,"paused")}resume(){hr(this._element,this._name,"running")}setPosition(t){const e=dr(this._element,this._name);this._position=t*this._duration,mr(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),pr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=gr(t,"").split(","),r=fr(n,e);r>=0&&(n.splice(r,1),mr(t,"",n.join(",")))}(this._element,this._name))}}function hr(t,e,n){mr(t,"PlayState",n,dr(t,e))}function dr(t,e){const n=gr(t,"");return n.indexOf(",")>0?fr(n.split(","),e):fr([n],e)}function fr(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function pr(t,e,n){n?t.removeEventListener(cr,e):t.addEventListener(cr,e)}function mr(t,e,n,r){const i=ur+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function gr(t,e){return t.style[ur+e]||""}class yr{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tn(this.element,n))})}this.currentSnapshot=t}}class vr extends oe{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xe(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class br{constructor(){this._count=0}validateStyleProperty(t){return Te(t)}matchesElement(t,e){return Se(t,e)}containsElement(t,e){return Ee(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>xe(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof yr),u={};Je(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=We(t,e,u));if(0==n)return new vr(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=ir(t,e),f=new yr(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class wr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tn(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _r{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Tr().toString()),this._cssKeyframesDriver=new br}validateStyleProperty(t){return Te(t)}matchesElement(t,e){return Se(t,e)}containsElement(t,e){return Ee(t,e)}query(t,e,n){return Ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof wr);Je(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=ir(t,e=We(t,e=e.map(t=>qe(t,!1)),u));return new wr(t,e,a,l)}}function Tr(){return ae()&&Element.prototype.animate||{}}let Sr=(()=>{class t extends te{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ne(t):t;return xr(this._renderer,null,e,"register",[n]),new Er(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Er extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cr(this._id,t,e||{},this._renderer)}}class Cr{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xr(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xr(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Ir="@",Ar="@.disabled";let kr=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Dr("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Or(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(rr),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Dr{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Ir&&e==Ar?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Or extends Dr{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Ir?"."==e.charAt(1)&&e==Ar?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Ir){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Ir&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Nr=(()=>{class t extends rr{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(Ae),r.LFG(Cn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Rr=new r.OlP("AnimationModuleType"),Pr=[{provide:te,useClass:Sr},{provide:Cn,useFactory:function(){return new xn}},{provide:rr,useClass:Nr},{provide:r.FYo,useFactory:function(t,e,n){return new kr(t,e,n)},deps:[st,rr,r.R0b]}],Lr=[{provide:Ae,useFactory:function(){return"function"==typeof Tr()?new _r:new br}},{provide:Rr,useValue:"BrowserAnimations"},...Pr],Fr=[{provide:Ae,useClass:Ie},{provide:Rr,useValue:"NoopAnimations"},...Pr];let Mr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Fr:Lr}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Lr,imports:[_t]}),t})();const Ur=new r.GfV("12.1.0"),qr=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let jr,Vr=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Ur.full!==Xt.full&&console.warn("The Angular Material version ("+Ur.full+") does not match the Angular CDK version ("+Xt.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Jt),r.LFG(qr,8),r.LFG(s))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Wt],Wt]}),t})();try{jr="undefined"!=typeof Intl}catch(R_){jr=!1}let Br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Vr],Vr]}),t})();n(40205);var Zr=n(59796),Gr=n(88002),zr=n(81555),Hr=n(94402);function $r(t,e){return new Ht.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,Hr.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var Qr=n(75319),Kr=n(68307);function Yr(t){return function(e){const n=new Jr(t),r=e.lift(n);return n.caught=r}}class Jr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Wr(t,this.selector,this.caught))}}class Wr extends jt.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new jt.IY(this);this.add(r);const i=(0,jt.ft)(n,r);i!==r&&this.add(i)}}}class Xr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ti(t,this.callback))}}class ti extends Ot.L{constructor(t,e){super(t),this.add(new Qr.w(e))}}n(18819);var ei=n(19773);function ni(t,e){return(0,ei.zg)(t,e,1)}function ri(t,e){return function(n){return n.lift(new ii(t,e))}}class ii{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oi(t,this.predicate,this.thisArg))}}class oi extends Ot.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class si{}class ai{}class ui{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ui;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ci{encodeKey(t){return li(t)}encodeValue(t){return li(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function li(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function hi(t){return`${t}`}class di{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ci,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new di({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(hi(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(hi(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fi{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function pi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function mi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function gi(t){return"undefined"!=typeof FormData&&t instanceof FormData}class yi{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ui),this.context||(this.context=new fi),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new di,this.urlWithParams=e}serializeBody(){return null===this.body?null:pi(this.body)||mi(this.body)||gi(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof di?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gi(this.body)?null:mi(this.body)?this.body.type||null:pi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof di?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new yi(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var vi=(()=>((vi=vi||{})[vi.Sent=0]="Sent",vi[vi.UploadProgress=1]="UploadProgress",vi[vi.ResponseHeader=2]="ResponseHeader",vi[vi.DownloadProgress=3]="DownloadProgress",vi[vi.Response=4]="Response",vi[vi.User=5]="User",vi))();class bi{constructor(t,e=200,n="OK"){this.headers=t.headers||new ui,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wi extends bi{constructor(t={}){super(t),this.type=vi.ResponseHeader}clone(t={}){return new wi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class _i extends bi{constructor(t={}){super(t),this.type=vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new _i({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ti extends bi{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Si(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ei=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof yi)r=t;else{let i,o;i=n.headers instanceof ui?n.headers:new ui(n.headers),n.params&&(o=n.params instanceof di?n.params:new di({fromObject:n.params})),r=new yi(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,Dt.of)(r).pipe(ni(t=>this.handler.handle(t)));if(t instanceof yi||"events"===n.observe)return i;const o=i.pipe(ri(t=>t instanceof _i));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Gr.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,Gr.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,Gr.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,Gr.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new di).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Si(n,e))}post(t,e,n={}){return this.request("POST",t,Si(n,e))}put(t,e,n={}){return this.request("PUT",t,Si(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(si))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Ci{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xi=new r.OlP("HTTP_INTERCEPTORS");let Ii=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Ai=/^\)\]\}',?\n/;let ki=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ht.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new ui(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new wi({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Ai,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new _i({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Ti({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Ti({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:vi.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:vi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:vi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(B))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Di=new r.OlP("XSRF_COOKIE_NAME"),Oi=new r.OlP("XSRF_HEADER_NAME");class Ni{}let Ri=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(r.Lbi),r.LFG(Di))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Pi=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ni),r.LFG(Oi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Li=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(xi,[]);this.chain=t.reduceRight((t,e)=>new Ci(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ai),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Pi,useClass:Ii}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Di,useValue:e.cookieName}:[],e.headerName?{provide:Oi,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Pi,{provide:xi,useExisting:Pi,multi:!0},{provide:Ni,useClass:Ri},{provide:Di,useValue:"XSRF-TOKEN"},{provide:Oi,useValue:"X-XSRF-TOKEN"}]}),t})(),Mi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Ei,{provide:si,useClass:Li},ki,{provide:ai,useExisting:ki}],imports:[[Fi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Ui=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Vr],Vr]}),t})();var qi=n(54869);class ji extends Ot.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Vi extends Ot.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Bi=n(87444);function Zi(t,e,n,r,i=new Vi(t,n,r)){if(!i.closed)return e instanceof Ht.y?e.subscribe(i):(0,Bi.s)(e)(i)}var Gi=n(56693);const zi={};class Hi{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $i(t,this.resultSelector))}}class $i extends ji{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zi),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Zi(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===zi?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Qi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Ki=n(63282);function Yi(...t){return(0,Ki.J)(1)((0,Dt.of)(...t))}function Ji(t){return new Ht.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Hr.D)(n):(0,Rt.c)()).subscribe(e)})}var Wi=n(52441);function Xi(t,e){return"function"==typeof e?n=>n.pipe(Xi((n,r)=>(0,Hr.D)(t(n,r)).pipe((0,Gr.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new to(t))}class to{constructor(t){this.project=t}call(t,e){return e.subscribe(new eo(t,this.project))}}class eo extends jt.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new jt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,jt.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function no(...t){const e=t[t.length-1];return(0,qi.K)(e)?(t.pop(),n=>Yi(t,n,e)):e=>Yi(t,e)}function ro(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new io(t,e,n))}}class io{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new oo(t,this.accumulator,this.seed,this.hasSeed))}}class oo extends Ot.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function so(t){return function(e){return 0===t?(0,Rt.c)():e.lift(new ao(t))}}class ao{constructor(t){if(this.total=t,this.total<0)throw new Nt}call(t,e){return e.subscribe(new uo(t,this.total))}}class uo extends Ot.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function co(t=fo){return e=>e.lift(new lo(t))}class lo{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ho(t,this.errorFactory))}}class ho extends Ot.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(KT){t=KT}this.destination.error(t)}}}function fo(){return new Qi}function po(t=null){return e=>e.lift(new mo(t))}class mo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new go(t,this.defaultValue))}}class go extends Ot.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var yo=n(54487);function vo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ri((e,n)=>t(e,n,r)):yo.y,Pt(1),n?po(e):co(()=>new Qi))}var bo=n(51307);class wo{constructor(t,e){this.id=t,this.url=e}}class _o extends wo{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends wo{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class So extends wo{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Eo extends wo{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Co extends wo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xo extends wo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends wo{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ao extends wo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko extends wo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class No{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fo{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mo="primary";class Uo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qo(t){return new Uo(t)}function jo(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Vo(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Bo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Zo(t[i],e[i]))return!1;return!0}function Zo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Go(t){return Array.prototype.concat.apply([],t)}function zo(t){return t.length>0?t[t.length-1]:null}function Ho(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $o(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Hr.D)(Promise.resolve(t)):(0,Dt.of)(t)}const Qo={exact:function t(e,n,r){if(!rs(e.segments,n.segments))return!1;if(!Xo(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Jo},Ko={exact:function(t,e){return Bo(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Zo(t[n],e[n]))},ignored:()=>!0};function Yo(t,e,n){return Qo[n.paths](t.root,e.root,n.matrixParams)&&Ko[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Jo(t,e,n){return Wo(t,e,e.segments,n)}function Wo(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!rs(i,n)&&!e.hasChildren()&&!!Xo(i,n,r)}if(t.segments.length===n.length){if(!rs(t.segments,n))return!1;if(!Xo(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Jo(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!rs(t.segments,i)&&!!Xo(t.segments,i,r)&&!!t.children.primary&&Wo(t.children.primary,e,o,r)}}function Xo(t,e,n){return e.every((e,r)=>Ko[n](t[r].parameters,e.parameters))}class ts{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return ss.serialize(this)}}class es{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ho(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return as(this)}}class ns{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qo(this.parameters)),this._parameterMap}toString(){return ps(this)}}function rs(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class is{}class os{parse(t){const e=new bs(t);return new ts(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${us(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ls(e)}=${ls(t)}`).join("&"):`${ls(e)}=${ls(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ss=new os;function as(t){return t.segments.map(t=>ps(t)).join("/")}function us(t,e){if(!t.hasChildren())return as(t);if(e){const e=t.children.primary?us(t.children.primary,!1):"",n=[];return Ho(t.children,(t,e)=>{e!==Mo&&n.push(`${e}:${us(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ho(t.children,(t,r)=>{r===Mo&&(n=n.concat(e(t,r)))}),Ho(t.children,(t,r)=>{r!==Mo&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Mo?[us(t.children.primary,!1)]:[`${n}:${us(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${as(t)}/${e[0]}`:`${as(t)}/(${e.join("//")})`}}function cs(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ls(t){return cs(t).replace(/%3B/gi,";")}function hs(t){return cs(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ds(t){return decodeURIComponent(t)}function fs(t){return ds(t.replace(/\+/g,"%20"))}function ps(t){return`${hs(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hs(t)}=${hs(e[t])}`).join("")}`;var e}const ms=/^[^\/()?;=#]+/;function gs(t){const e=t.match(ms);return e?e[0]:""}const ys=/^[^=?&#]+/,vs=/^[^?&#]+/;class bs{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new es([],{}):new es([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new es(t,e)),n}parseSegment(){const t=gs(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ns(ds(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gs(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gs(this.remaining);t&&(n=t,this.capture(n))}t[ds(e)]=ds(n)}parseQueryParam(t){const e=function(t){const e=t.match(ys);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(vs);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fs(e),i=fs(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gs(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mo);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new es([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ws{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_s(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=_s(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ts(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ts(t,this._root).map(t=>t.value)}}function _s(t,e){if(t===e.value)return e;for(const n of e.children){const e=_s(t,n);if(e)return e}return null}function Ts(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ts(t,n);if(r.length)return r.unshift(e),r}return[]}class Ss{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Es(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Cs extends ws{constructor(t,e){super(t),this.snapshot=e,Os(this,t)}toString(){return this.snapshot.toString()}}function xs(t,e){const n=function(t,e){const n=new ks([],{},{},"",{},Mo,e,null,t.root,-1,{});return new Ds("",new Ss(n,[]))}(t,e),r=new kt([new ns("",{})]),i=new kt({}),o=new kt({}),s=new kt({}),a=new kt(""),u=new Is(r,i,s,a,o,Mo,e,n.root);return u.snapshot=n.root,new Cs(new Ss(u,[]),n)}class Is{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gr.U)(t=>qo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gr.U)(t=>qo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function As(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ks{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ds extends ws{constructor(t,e){super(e),this.url=t,Os(this,e)}toString(){return Ns(this._root)}}function Os(t,e){e.value._routerState=t,e.children.forEach(e=>Os(t,e))}function Ns(t){const e=t.children.length>0?` { ${t.children.map(Ns).join(", ")} } `:"";return`${t.value}${e}`}function Rs(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Bo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Bo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ps(t,e){return Bo(t.params,e.params)&&function(t,e){return rs(t,e)&&t.every((t,n)=>Bo(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ps(t.parent,e.parent))}function Ls(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Ls(t,e,r);return Ls(t,e)})}(t,e,n);return new Ss(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Fs(e,t),t}}const n=new Is(new kt((r=e.value).url),new kt(r.params),new kt(r.queryParams),new kt(r.fragment),new kt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Ls(t,e));return new Ss(n,i)}var r}function Fs(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Fs(t.children[n],e.children[n])}function Ms(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Us(t){return"object"==typeof t&&null!=t&&t.outlets}function qs(t,e,n,r,i){let o={};return r&&Ho(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ts(n.root===t?e:js(n.root,t,e),o,i)}function js(t,e,n){const r={};return Ho(t.children,(t,i)=>{r[i]=t===e?n:js(t,e,n)}),new es(t.segments,r)}class Vs{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ms(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Us);if(r&&r!==zo(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bs{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zs(t,e,n){if(t||(t=new es([],{})),0===t.segments.length&&t.hasChildren())return Gs(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Us(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Qs(a,u,e))return o;r+=2}else{if(!Qs(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new es(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new es(t.segments.slice(r.pathIndex),t.children),Gs(e,0,i)}return r.match&&0===i.length?new es(t.segments,{}):r.match&&!t.hasChildren()?zs(t,e,n):r.match?Gs(t,0,i):zs(t,e,n)}function Gs(t,e,n){if(0===n.length)return new es(t.segments,{});{const r=function(t){return Us(t[0])?t[0].outlets:{[Mo]:t}}(n),i={};return Ho(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zs(t.children[r],e,n))}),Ho(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new es(t.segments,i)}}function zs(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Us(o)){const t=Hs(o.outlets);return new es(r,t)}if(0===i&&Ms(n[0])){r.push(new ns(t.segments[e].path,$s(n[0]))),i++;continue}const s=Us(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ms(a)?(r.push(new ns(s,$s(a))),i+=2):(r.push(new ns(s,{})),i++)}return new es(r,{})}function Hs(t){const e={};return Ho(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=zs(new es([],{}),0,t))}),e}function $s(t){const e={};return Ho(t,(t,n)=>e[n]=`${t}`),e}function Qs(t,e,n){return t==n.path&&Bo(e,n.parameters)}class Ks{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Rs(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Es(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ho(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Es(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Es(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Lo(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ro(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Rs(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ys(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ys(t){Rs(t.value),t.children.forEach(Ys)}class Js{constructor(t,e){this.routes=t,this.module=e}}function Ws(t){return"function"==typeof t}function Xs(t){return t instanceof ts}const ta=Symbol("INITIAL_VALUE");function ea(){return Xi(t=>function(...t){let e,n;return(0,qi.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Zr.k)(t[0])&&(t=t[0]),(0,Gi.n)(t,n).lift(new Hi(e))}(t.map(t=>t.pipe(Pt(1),no(ta)))).pipe(ro((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ta)return t;if(r===ta&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Xs(r))return r}return t},t)},ta),ri(t=>t!==ta),(0,Gr.U)(t=>Xs(t)?t:!0===t),Pt(1)))}let na=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[Ya]},encapsulation:2}),t})();function ra(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ia(r,oa(e,r))}}function ia(t,e){t.children&&ra(t.children,e)}function oa(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sa(t){const e=t.children&&t.children.map(sa),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Mo&&(n.component=na),n}function aa(t){return t.outlet||Mo}function ua(t,e){const n=t.filter(t=>aa(t)===e);return n.push(...t.filter(t=>aa(t)!==e)),n}const ca={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function la(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ca):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Vo)(n,t,e);if(!i)return Object.assign({},ca);const o={};Ho(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ha(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>da(t,e,n)&&aa(n)!==Mo)}(t,n,r)){const i=new es(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&aa(o)!==Mo){const n=new es([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[aa(o)]=n}return i}(t,e,r,new es(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>da(t,e,n))}(t,n,r)){const o=new es(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(da(t,n,a)&&!i[aa(a)]){const n=new es([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[aa(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new es(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function da(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function fa(t,e,n,r){return!!(aa(t)===r||r!==Mo&&da(e,n,t))&&("**"===t.path||la(e,t,n).matched)}function pa(t,e,n){return 0===e.length&&!t.children[n]}class ma{constructor(t){this.segmentGroup=t||null}}class ga{constructor(t){this.urlTree=t}}function ya(t){return new Ht.y(e=>e.error(new ma(t)))}function va(t){return new Ht.y(e=>e.error(new ga(t)))}function ba(t){return new Ht.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wa{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=ha(this.urlTree.root,[],[],this.config).segmentGroup,e=new es(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Mo).pipe((0,Gr.U)(t=>this.createUrlTree(_a(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yr(t=>{if(t instanceof ga)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ma)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Mo).pipe((0,Gr.U)(e=>this.createUrlTree(_a(e),t.queryParams,t.fragment))).pipe(Yr(t=>{if(t instanceof ma)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new es([],{[Mo]:t}):t;return new ts(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Gr.U)(t=>new es([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Hr.D)(r).pipe(ni(r=>{const i=n.children[r],o=ua(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Gr.U)(t=>({segment:t,outlet:r})))}),ro((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ri((e,n)=>t(e,n,r)):yo.y,so(1),n?po(e):co(()=>new Qi))}())}expandSegment(t,e,n,r,i,o){return(0,Hr.D)(n).pipe(ni(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Yr(t=>{if(t instanceof ma)return(0,Dt.of)(null);throw t}))),vo(t=>!!t),Yr((t,n)=>{if(t instanceof Qi||"EmptyError"===t.name){if(pa(e,r,i))return(0,Dt.of)(new es([],{}));throw new ma(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fa(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ya(e):ya(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?va(i):this.lineralizeSegments(n,i).pipe((0,ei.zg)(n=>{const i=new es(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=la(e,r,i);if(!s)return ya(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?va(l):this.lineralizeSegments(r,l).pipe((0,ei.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Dt.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Gr.U)(t=>(n._loadedConfig=t,new es(r,{})))):(0,Dt.of)(new es(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=la(e,n,r);if(!o)return ya(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,ei.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ha(e,s,u,o),l=new es(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Gr.U)(t=>new es(s,t)));if(0===o.length&&0===c.length)return(0,Dt.of)(new es(s,{}));const h=aa(n)===i;return this.expandSegment(r,l,o,c,h?Mo:i,!0).pipe((0,Gr.U)(t=>new es(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,Dt.of)(new Js(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Dt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,ei.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Gr.U)(t=>(e._loadedConfig=t,t))):function(t){return new Ht.y(e=>e.error(jo(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Dt.of)(new Js([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,Dt.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Ws(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ws(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $o(o)});return(0,Dt.of)(i).pipe(ea(),(0,Kr.b)(t=>{if(!Xs(t))return;const e=jo(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Gr.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Dt.of)(n);if(r.numberOfChildren>1||!r.children.primary)return ba(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ts(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ho(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ho(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new es(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function _a(t){const e={};for(const n of Object.keys(t.children)){const r=_a(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new es(t.segments.concat(e.segments),e.children)}return t}(new es(t.segments,e))}class Ta{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sa{constructor(t,e){this.component=t,this.route=e}}function Ea(t,e,n){const r=t._root;return xa(r,e?e._root:null,n,[r.value])}function Ca(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Es(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(t.url,e.url)||!Bo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ps(t,e)||!Bo(t.queryParams,e.queryParams);case"paramsChange":default:return!Ps(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ta(r)):(o.data=s.data,o._resolvedData=s._resolvedData),xa(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sa(a.outlet.component,s))}else s&&Ia(e,a,i),i.canActivateChecks.push(new Ta(r)),xa(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ho(o,(t,e)=>Ia(t,n.getContext(e),i)),i}function Ia(t,e,n){const r=Es(t),i=t.value;Ho(r,(t,r)=>{Ia(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Sa(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Aa{}function ka(t){return new Ht.y(e=>e.error(t))}class Da{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ha(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Mo);if(null===e)return null;const n=new ks([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mo,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ss(n,e),i=new Ds(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=As(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ua(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Na(n);return r.sort((t,e)=>t.value.outlet===Mo?-1:e.value.outlet===Mo?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return pa(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!fa(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?zo(n).parameters:{};i=new ks(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,La(t),aa(t),t.component,t,Ra(e),Pa(e)+n.length,Fa(t))}else{const r=la(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new ks(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,La(t),aa(t),t.component,t,Ra(e),Pa(e)+o.length,Fa(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ha(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Ss(i,t)]}if(0===a.length&&0===c.length)return[new Ss(i,[])];const l=aa(t)===r,h=this.processSegment(a,u,c,l?Mo:r);return null===h?null:[new Ss(i,h)]}}function Oa(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Na(t){const e=[],n=new Set;for(const r of t){if(!Oa(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Na(r.children);e.push(new Ss(r.value,t))}return e.filter(t=>!n.has(t))}function Ra(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pa(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function La(t){return t.data||{}}function Fa(t){return t.resolve||{}}function Ma(t){return Xi(e=>{const n=t(e);return n?(0,Hr.D)(n).pipe((0,Gr.U)(()=>e)):(0,Dt.of)(e)})}class Ua extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qa=new r.OlP("ROUTES");class ja{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Gr.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Js(Go(i.injector.get(qa,void 0,r.XFs.Self|r.XFs.Optional)).map(sa),i)}),Yr(t=>{throw e._loader$=void 0,t}));return e._loader$=new Wi.c(n,()=>new It.xQ).pipe((0,bo.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Hr.D)(this.loader.load(t)):$o(t()).pipe((0,ei.zg)(t=>t instanceof r.YKP?(0,Dt.of)(t):(0,Hr.D)(this.compiler.compileModuleAsync(t))))}}class Va{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ba,this.attachRef=null}}class Ba{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Va,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Za{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ga(t){throw t}function za(t,e,n){return e.parse("/")}function Ha(t,e){return(0,Dt.of)(null)}const $a={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ka=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new It.xQ,this.errorHandler=Ga,this.malformedUriErrorHandler=za,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ha,afterPreactivation:Ha},this.urlHandlingStrategy=new Za,this.routeReuseStrategy=new Ua,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ts(new es([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ja(s,a,t=>this.triggerEvent(new Do(t)),t=>this.triggerEvent(new Oo(t))),this.routerState=xs(this.currentUrlTree,this.rootComponentType),this.transitions=new kt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ri(t=>0!==t.id),(0,Gr.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Xi(t=>{let n=!1,r=!1;return(0,Dt.of)(t).pipe((0,Kr.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,Dt.of)(t).pipe(Xi(t=>{const n=this.transitions.getValue();return e.next(new _o(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rt.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Xi(t=>function(t,e,n,r,i){return new wa(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Gr.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Kr.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,ei.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Da(t,e,n,r,i,o).recognize();return null===s?ka(new Aa):(0,Dt.of)(s)}catch(KT){return ka(KT)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Gr.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kr.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Co(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new _o(n,this.serializeUrl(r),i,o);e.next(a);const u=xs(r,this.rootComponentType).snapshot;return(0,Dt.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rt.E}),Ma(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Kr.b)(t=>{const e=new xo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Gr.U)(t=>Object.assign(Object.assign({},t),{guards:Ea(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,ei.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Dt.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Hr.D)(t).pipe((0,ei.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Dt.of)(!0);const s=o.map(o=>{const s=Ca(o,e,i);let a;if(function(t){return t&&Ws(t.canDeactivate)}(s))a=$o(s.canDeactivate(t,e,n,r));else{if(!Ws(s))throw new Error("Invalid CanDeactivate guard");a=$o(s(t,e,n,r))}return a.pipe(vo())});return(0,Dt.of)(s).pipe(ea())}(t.component,t.route,n,e,r)),vo(t=>!0!==t,!0))}(s,r,i,t).pipe((0,ei.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Hr.D)(e).pipe(ni(e=>Yi(function(t,e){return null!==t&&e&&e(new No(t)),(0,Dt.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Po(t)),(0,Dt.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ji(()=>{const i=e.guards.map(i=>{const o=Ca(i,e.node,n);let s;if(function(t){return t&&Ws(t.canActivateChild)}(o))s=$o(o.canActivateChild(r,t));else{if(!Ws(o))throw new Error("Invalid CanActivateChild guard");s=$o(o(r,t))}return s.pipe(vo())});return(0,Dt.of)(i).pipe(ea())}));return(0,Dt.of)(i).pipe(ea())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Dt.of)(!0);const i=r.map(r=>Ji(()=>{const i=Ca(r,e,n);let o;if(function(t){return t&&Ws(t.canActivate)}(i))o=$o(i.canActivate(e,t));else{if(!Ws(i))throw new Error("Invalid CanActivate guard");o=$o(i(e,t))}return o.pipe(vo())}));return(0,Dt.of)(i).pipe(ea())}(t,e.route,n))),vo(t=>!0!==t,!0))}(r,o,t,e):(0,Dt.of)(n)),(0,Gr.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Kr.b)(t=>{if(Xs(t.guardsResult)){const e=jo(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Io(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ri(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),Ma(t=>{if(t.guards.canActivateChecks.length)return(0,Dt.of)(t).pipe((0,Kr.b)(t=>{const e=new Ao(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Xi(t=>{let e=!1;return(0,Dt.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ei.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Dt.of)(t);let o=0;return(0,Hr.D)(i).pipe(ni(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,Dt.of)({});const o={};return(0,Hr.D)(i).pipe((0,ei.zg)(i=>function(t,e,n,r){const i=Ca(t,e,r);return $o(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Kr.b)(t=>{o[i]=t}))),so(1),(0,ei.zg)(()=>Object.keys(o).length===i.length?(0,Dt.of)(o):Rt.E))}(t._resolve,t,e,r).pipe((0,Gr.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),As(t,n).resolve),null)))}(t.route,e,n,r)),(0,Kr.b)(()=>o++),so(1),(0,ei.zg)(e=>o===i.length?(0,Dt.of)(t):Rt.E))})),(0,Kr.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Kr.b)(t=>{const e=new ko(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ma(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Gr.U)(t=>{const e=function(t,e,n){const r=Ls(t,e._root,n?n._root:void 0);return new Cs(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Kr.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Gr.U)(t=>(new Ks(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,Kr.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},t=>t.lift(new Xr(i))),Yr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Xs(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new So(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Eo(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(bp){t.reject(bp)}}var i;return Rt.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ra(t),this.config=t.map(sa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return qs(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vs(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ho(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Vs(n,e,r)}(n);if(o.toRoot())return qs(e.root,new es([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Bs(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Bs(t,t===e.root,0)}const r=Ms(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Bs(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Gs(s.segmentGroup,s.index,o.commands):Zs(s.segmentGroup,s.index,o.commands);return qs(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Xs(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(KT){e=this.malformedUriErrorHandler(KT,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},$a):!1===e?Object.assign({},Qa):e,Xs(t))return Yo(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Yo(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new To(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new So(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(is),r.LFG(Ba),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Ya=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Mo,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ja(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ba),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ja{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Is?this.route:t===Ba?this.childContexts:this.parent.get(t,e)}}class Wa{}class Xa{preload(t,e){return(0,Dt.of)(null)}}let tu=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ja(e,n,e=>t.triggerEvent(new Do(e)),e=>t.triggerEvent(new Oo(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof To),ni(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Hr.D)(n).pipe((0,Ki.J)(),(0,Gr.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,Dt.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,ei.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ka),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Wa))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),eu=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof To&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Fo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ka),r.LFG(q),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const nu=new r.OlP("ROUTER_CONFIGURATION"),ru=new r.OlP("ROUTER_FORROOT_GUARD"),iu=[_,{provide:is,useClass:os},{provide:Ka,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Ka(null,t,e,n,r,i,o,Go(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[is,Ba,_,r.zs3,r.v3s,r.Sil,qa,nu,[class{},new r.FiY],[class{},new r.FiY]]},Ba,{provide:Is,useFactory:function(t){return t.routerState.root},deps:[Ka]},{provide:r.v3s,useClass:r.EAV},tu,Xa,class{preload(t,e){return e().pipe(Yr(()=>(0,Dt.of)(null)))}},{provide:nu,useValue:{enableTracing:!1}}];function ou(){return new r.PXZ("Router",Ka)}let su=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[iu,lu(e),{provide:ru,useFactory:cu,deps:[[Ka,new r.FiY,new r.tp0]]},{provide:nu,useValue:n||{}},{provide:g,useFactory:uu,deps:[a,[new r.tBr(v),new r.FiY],nu]},{provide:eu,useFactory:au,deps:[Ka,q,nu]},{provide:Wa,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xa},{provide:r.PXZ,multi:!0,useFactory:ou},[hu,{provide:r.ip1,multi:!0,useFactory:du,deps:[hu]},{provide:pu,useFactory:fu,deps:[hu]},{provide:r.tb,multi:!0,useExisting:pu}]]}}static forChild(e){return{ngModule:t,providers:[lu(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ru,8),r.LFG(Ka,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function au(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new eu(t,e,n)}function uu(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function cu(t){return"guarded"}function lu(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:qa,multi:!0,useValue:t}]}let hu=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new It.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Ka),r=this.injector.get(nu);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Dt.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(nu),n=this.injector.get(tu),i=this.injector.get(eu),o=this.injector.get(Ka),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function du(t){return t.appInitializer.bind(t)}function fu(t){return t.bootstrapListener.bind(t)}const pu=new r.OlP("Router Initializer");class mu{constructor(t,e,n,r,i,o,s,a){this.name=null!=t?t:"",this.name_full=null!=n?n:"",this.flag=null!=e?e:"",this.currency_name=null!=r?r:"",this.currency_symbol=null!=i?i:"",this.rate=null!=o?o:1,this.is_main_currency=null!=s&&s,this.shipping_rate_usd=null!=a?a:0}}class gu{constructor(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g,y,v){this.uid=null!=t?t:"",this.picID=null!=e?e:"",this.description=null!=n?n:"",this.productID=null!=r?r:"",this.timestamp=null!=i?i:new Date,this.timestampDiff=null!=o?o:"",this.blurred=null!=s&&s,this.price=null!=a?a:0,this.name=null!=u?u:"",this.templateColor=null!=c?c:"",this.likes=null!=l?l:0,this.liked=null!=h&&h,this.comments=null!=d?d:0,this.isAvailable=null!=f&&f,this.isPublic=null!=p&&p,this.productType=null!=m?m:"",this.displaySide=null!=g?g:"",this.supportedSides=null!=y?y:[],this.url=new URL(null!=v?v:"https://shopmythred.com")}getUrl(t){if(this.uid)return t?"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F"+this.uid+"%2FProducts%2F"+this.productID+"%2FBACK_"+this.productID+".png?alt=media":"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F"+this.uid+"%2FProducts%2F"+this.productID+"%2F"+this.productID+".png?alt=media"}}class yu{constructor(t,e,n,r,i,o,s,a,u,c,l,h,d){this.templateID=null!=t?t:"",this.templateDisplayName=null!=e?e:"",this.info=null!=n?n:"",this.colors=null!=r?r:[],this.sizes=null!=i?i:[],this.minPrice=null!=o?o:0,this.productCode=null!=s?s:"ATC1000",this.category=null!=a?a:"",this.moreInfo=null!=u?u:"",this.isDiscount=null!=c&&c,this.supportedSides=null!=l?l:[],this.extraCost=null!=h?h:0,this.has3D=null!=d&&d}}class vu{constructor(t,e,n,r,i,o,s,a){this.blogItems=[],this.uid=null!=t?t:"",this.timestamp=null!=e?e:new Date,this.timestampDiff=null!=n?n:"",this.isAvailable=null!=r&&r,this.title=null!=i?i:"My Blog",this.blogItems=null!=o?o:[],this.blogID=null!=s?s:"null",this.coverURl=a?new URL(a):new URL("https://shopmythred.com")}}class bu{}function wu(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){wu(o,r,i,s,a,"next",t)}function a(t){wu(o,r,i,s,a,"throw",t)}s(void 0)})}}bu.storeInfo=new class{constructor(t,e,n,r,i,o,s,a,u,c,l,h,d,f,p,m,g){var y;this.uid=t,this.dpID=e,this.username=n,this.fullName=r,this.bio=i,this.notifID=o,this.userFollowing=s,this.userLiked=a,this.followerCount=u,this.postCount=c,this.followingCount=l,this.usersBlocking=h,d&&(this.profileLink=new URL(null!==(y=d)&&void 0!==y?y:"")),this.verified=f,this.isPublic=p,this.postNotifsList=m,this.slogan=null!=g?g:""}},bu.availableCurrencies=[],bu.selectedCurrency=new mu,bu.templates=[],bu.availableTemplates=[],bu.selectedTemplate=new yu,bu.products=[],bu.selectedProduct=new gu,bu.selectedBlog=new vu,bu.blogs=[],bu.cart=[],bu.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bu.months=["January","February","March","April","May","June","July","August","September","October","November","December"],bu.\u0275fac=function(t){return new(t||bu)},bu.\u0275prov=r.Yz7({token:bu,factory:bu.\u0275fac,providedIn:"root"});var Tu=n(42329);class Su{constructor(t,e,n,r,i,o,s,a){this.name=t,this.heightCM=e,this.widthCM=n,this.widthMultiplier=r,this.centerYConst=i,this.centerXConst=o,this.useReverseAspect=s,this.rotation=a}aspectRatio(){return this.useReverseAspect?this.widthCM/this.heightCM:this.heightCM/this.widthCM}reversedAspectRatio(){return this.widthCM/this.heightCM}regularAspectRatio(){return this.heightCM/this.widthCM}}class Eu{constructor(t,e,n,r,i){this.code=t,this.display=e,this.rgb=n,this.img=r,this.imgBack=i}}class Cu{constructor(t,e,n,r,i,o,s){this.product=t,this.size=null!=e?e:"M",this.quantity=null!=n?n:1,this.isDeleted=null!=r&&r,this.timestamp=null!=i?i:new Date,this.timestampDiff=null!=o?o:"",this.saleID=null!=s?s:""}}function xu(){return t=>t.lift(new Iu)}class Iu{call(t,e){return e.subscribe(new Au(t))}}class Au extends Ot.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var ku=n(59746),Du=n(50057),Ou=n(79759),Nu=n(64762),Ru=n(64685),Pu=n(60300),Lu=function(t,e){return(Lu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Fu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Mu,Uu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qu=qu||{},ju=Uu||self;function Vu(){}function Bu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Gu="closure_uid_"+(1e9*Math.random()>>>0),zu=0;function Hu(t,e,n){return t.call.apply(t.bind,arguments)}function $u(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Qu(t,e,n){return(Qu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hu:$u).apply(null,arguments)}function Ku(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Yu(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ju(){this.s=this.s,this.o=this.o}var Wu={};Ju.prototype.s=!1,Ju.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Gu)&&t[Gu]||(t[Gu]=++zu)}(this);delete Wu[t]}},Ju.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},tc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ec(t){return Array.prototype.concat.apply([],arguments)}function nc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function rc(t){return/^[\s\xa0]*$/.test(t)}var ic,oc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function sc(t,e){return-1!=t.indexOf(e)}function ac(t,e){return t<e?-1:t>e?1:0}t:{var uc=ju.navigator;if(uc){var cc=uc.userAgent;if(cc){ic=cc;break t}}ic=""}function lc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function hc(t){var e={};for(var n in t)e[n]=t[n];return e}var dc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dc.length;o++)n=dc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pc(t){return pc[" "](t),t}pc[" "]=Vu;var mc,gc,yc=sc(ic,"Opera"),vc=sc(ic,"Trident")||sc(ic,"MSIE"),bc=sc(ic,"Edge"),wc=bc||vc,_c=sc(ic,"Gecko")&&!(sc(ic.toLowerCase(),"webkit")&&!sc(ic,"Edge"))&&!(sc(ic,"Trident")||sc(ic,"MSIE"))&&!sc(ic,"Edge"),Tc=sc(ic.toLowerCase(),"webkit")&&!sc(ic,"Edge");function Sc(){var t=ju.document;return t?t.documentMode:void 0}t:{var Ec="",Cc=(gc=ic,_c?/rv:([^\);]+)(\)|;)/.exec(gc):bc?/Edge\/([\d\.]+)/.exec(gc):vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(gc):Tc?/WebKit\/(\S+)/.exec(gc):yc?/(?:Version)[ \/]?(\S+)/.exec(gc):void 0);if(Cc&&(Ec=Cc?Cc[1]:""),vc){var xc=Sc();if(null!=xc&&xc>parseFloat(Ec)){mc=String(xc);break t}}mc=Ec}var Ic={};var Ac=ju.document&&vc&&(Sc()||parseInt(mc,10))||void 0,kc=function(){if(!ju.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ju.addEventListener("test",Vu,e),ju.removeEventListener("test",Vu,e)}catch(n){}return t}();function Dc(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Oc(t,e){if(Dc.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_c){t:{try{pc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Nc[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oc.Z.h.call(this)}}Dc.prototype.h=function(){this.defaultPrevented=!0},Yu(Oc,Dc);var Nc={2:"touch",3:"pen",4:"mouse"};Oc.prototype.h=function(){Oc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Rc="closure_listenable_"+(1e6*Math.random()|0),Pc=0;function Lc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Pc,this.ca=this.fa=!1}function Fc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Mc(t){this.src=t,this.g={},this.h=0}function Uc(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Xu(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fc(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function qc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Mc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=qc(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Lc(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var jc="closure_lm_"+(1e6*Math.random()|0),Vc={};function Bc(t,e,n,r,i){if(r&&r.once)return Gc(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bc(t,e[o],n,r,i);return null}return n=Jc(n),t&&t[Rc]?t.N(e,n,Zu(r)?!!r.capture:!!r,i):Zc(t,e,n,!1,r,i)}function Zc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Zu(i)?!!i.capture:!!i,a=Kc(t);if(a||(t[jc]=a=new Mc(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Qc;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kc||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($c(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Gc(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gc(t,e[o],n,r,i);return null}return n=Jc(n),t&&t[Rc]?t.O(e,n,Zu(r)?!!r.capture:!!r,i):Zc(t,e,n,!0,r,i)}function zc(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zc(t,e[o],n,r,i);else r=Zu(r)?!!r.capture:!!r,n=Jc(n),t&&t[Rc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=qc(o=t.g[e],n,r,i))&&(Fc(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Kc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qc(e,n,r,i)),(n=-1<t?e[t]:null)&&Hc(n))}function Hc(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Rc])Uc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($c(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kc(e))?(Uc(n,t),0==n.h&&(n.src=null,e[jc]=null)):Fc(t)}}}function $c(t){return t in Vc?Vc[t]:Vc[t]="on"+t}function Qc(t,e){if(t.ca)t=!0;else{e=new Oc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Hc(t),t=n.call(r,e)}return t}function Kc(t){return(t=t[jc])instanceof Mc?t:null}var Yc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(t){return"function"==typeof t?t:(t[Yc]||(t[Yc]=function(e){return t.handleEvent(e)}),t[Yc])}function Wc(){Ju.call(this),this.i=new Mc(this),this.P=this,this.I=null}function Xc(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Dc(e,t);else if(e instanceof Dc)e.target=e.target||t;else{var i=e;fc(e=new Dc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=tl(s,r,!0,e)&&i}if(i=tl(s=e.g=t,r,!0,e)&&i,i=tl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=tl(s=e.g=n[o],r,!1,e)&&i}function tl(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Uc(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Yu(Wc,Ju),Wc.prototype[Rc]=!0,Wc.prototype.removeEventListener=function(t,e,n,r){zc(this,t,e,n,r)},Wc.prototype.M=function(){if(Wc.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Fc(n[r]);delete e.g[t],e.h--}}this.I=null},Wc.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Wc.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var el=ju.JSON.stringify;function nl(){var t=ll,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var rl,il=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=ol.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),ol=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new sl},function(t){return t.reset()}),sl=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function al(t){ju.setTimeout(function(){throw t},0)}function ul(t,e){rl||function(){var t=ju.Promise.resolve(void 0);rl=function(){t.then(hl)}}(),cl||(rl(),cl=!0),ll.add(t,e)}var cl=!1,ll=new il;function hl(){for(var t;t=nl();){try{t.h.call(t.g)}catch(n){al(n)}var e=ol;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cl=!1}function dl(t,e){Wc.call(this),this.h=t||1,this.g=e||ju,this.j=Qu(this.kb,this),this.l=Date.now()}function fl(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function pl(t,e,n){if("function"==typeof t)n&&(t=Qu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Qu(t.handleEvent,t)}return 2147483647<Number(e)?-1:ju.setTimeout(t,e||0)}function ml(t){t.g=pl(function(){t.g=null,t.i&&(t.i=!1,ml(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Yu(dl,Wc),(Mu=dl.prototype).da=!1,Mu.S=null,Mu.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xc(this,"tick"),this.da&&(fl(this),this.start()))}},Mu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mu.M=function(){dl.Z.M.call(this),fl(this),delete this.g};var gl=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Lu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:ml(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(ju.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Ju);function yl(t){Ju.call(this),this.h=t,this.g={}}Yu(yl,Ju);var vl=[];function bl(t,e,n,r){Array.isArray(n)||(n&&(vl[0]=n.toString()),n=vl);for(var i=0;i<n.length;i++){var o=Bc(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function wl(t){lc(t.g,function(t,e){this.g.hasOwnProperty(e)&&Hc(t)},t),t.g={}}function _l(){this.g=!0}function Tl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return el(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}yl.prototype.M=function(){yl.Z.M.call(this),wl(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_l.prototype.Aa=function(){this.g=!1},_l.prototype.info=function(){};var Sl={},El=null;function Cl(){return El=El||new Wc}function xl(t){Dc.call(this,Sl.Ma,t)}function Il(t){var e=Cl();Xc(e,new xl(e,t))}function Al(t,e){Dc.call(this,Sl.STAT_EVENT,t),this.stat=e}function kl(t){var e=Cl();Xc(e,new Al(e,t))}function Dl(t,e){Dc.call(this,Sl.Na,t),this.size=e}function Ol(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ju.setTimeout(function(){t()},e)}Sl.Ma="serverreachability",Yu(xl,Dc),Sl.STAT_EVENT="statevent",Yu(Al,Dc),Sl.Na="timingevent",Yu(Dl,Dc);var Nl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pl(){}function Ll(){}Pl.prototype.h=null;var Fl,Ml={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ul(){Dc.call(this,"d")}function ql(){Dc.call(this,"c")}function jl(){}function Vl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new yl(this),this.P=Zl,this.W=new dl(t=wc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}Yu(Ul,Dc),Yu(ql,Dc),Yu(jl,Pl),jl.prototype.g=function(){return new XMLHttpRequest},jl.prototype.i=function(){return{}},Fl=new jl;var Zl=45e3,Gl={},zl={};function Hl(t,e,n){t.K=1,t.v=mh(ch(e)),t.s=n,t.U=!0,$l(t,null)}function $l(t,e){t.F=Date.now(),Jl(t),t.A=ch(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Ah(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Bl,t.g=kd(t.l,n?e:null,!t.s),0<t.O&&(t.L=new gl(Qu(t.Ia,t,t.g),t.O)),bl(t.V,t.g,"readystatechange",t.gb),e=t.H?hc(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Il(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Ql(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Kl(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Yl(t,n))==zl){4==e&&(t.o=4,kl(14),i=!1),Tl(t.j,t.m,null,"[Incomplete Response]");break}if(r==Gl){t.o=4,kl(15),Tl(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Tl(t.j,t.m,r,null),nh(t,r)}Ql(t)&&r!=zl&&r!=Gl&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,kl(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_d(e),e.L=!0,kl(11))):(Tl(t.j,t.m,n,"[Invalid Chunked Response]"),eh(t),th(t))}function Yl(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zl:(n=Number(e.substring(n,r)),isNaN(n)?Gl:(r+=1)+n>e.length?zl:(e=e.substr(r,n),t.C=r+n,e))}function Jl(t){t.Y=Date.now()+t.P,Wl(t,t.P)}function Wl(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Ol(Qu(t.eb,t),e)}function Xl(t){t.B&&(ju.clearTimeout(t.B),t.B=null)}function th(t){0==t.l.G||t.I||Ed(t.l,t)}function eh(t){Xl(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,fl(t.W),wl(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function nh(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Lh(n.i,t)))if(n.I=t.N,!t.J&&Lh(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Sd(n),dd(n)}wd(n),kl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ol(Qu(n.ab,n),6e3));if(1>=Ph(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else xd(n,11)}else if((t.J||n.g==t)&&Sd(n),!rc(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(sc(l,"spdy")||sc(l,"quic")||sc(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Fh(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,ph(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Ad(r,r.H?r.la:null,r.W),f.J){Mh(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Xl(p),Jl(p)),r.g=f}else bd(r);0<n.l.length&&md(n)}else"stop"!=o[0]&&"close"!=o[0]||xd(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?xd(n,7):hd(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Il(4)}catch(o){}}function rh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bu(t)||"string"==typeof t)tc(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Bu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Bu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ih(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ih)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function oh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];sh(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)sh(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function sh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Mu=Vl.prototype).setTimeout=function(t){this.P=t},Mu.gb=function(t){t=t.target;var e=this.L;e&&3==sd(t)?e.l():this.Ia(t)},Mu.Ia=function(t){try{if(t==this.g)t:{var e=sd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||wc||this.g&&(this.h.h||this.g.ga()||ad(this.g)))){this.I||4!=e||7==n||Il(8==n||0>=r?3:2),Xl(this);var i=this.g.ba();this.N=i;e:if(Ql(this)){var o=ad(this.g);t="";var s=o.length,a=4==sd(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eh(this),th(this);var u="";break e}this.h.i=new ju.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rc(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,kl(12),eh(this),th(this);break t}Tl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nh(this,i)}this.U?(Kl(this,e,u),wc&&this.i&&3==e&&(bl(this.V,this.W,"tick",this.fb),this.W.start())):(Tl(this.j,this.m,u,null),nh(this,u)),4==e&&eh(this),this.i&&!this.I&&(4==e?Ed(this.l,this):(this.i=!1,Jl(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,kl(12)):(this.o=0,kl(13)),eh(this),th(this)}}}catch(e){}},Mu.fb=function(){if(this.g){var t=sd(this.g),e=this.g.ga();this.C<e.length&&(Xl(this),Kl(this,t,e),this.i&&4!=t&&Jl(this))}},Mu.cancel=function(){this.I=!0,eh(this)},Mu.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Il(3),kl(17)),eh(this),this.o=2,th(this)):Wl(this,this.Y-t)},(Mu=ih.prototype).R=function(){oh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Mu.T=function(){return oh(this),this.g.concat()},Mu.get=function(t,e){return sh(this.h,t)?this.h[t]:e},Mu.set=function(t,e){sh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Mu.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ah=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function uh(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof uh){this.g=void 0!==e?e:t.g,lh(this,t.j),this.s=t.s,hh(this,t.i),dh(this,t.m),this.l=t.l,e=t.h;var n=new Eh;n.i=e.i,e.g&&(n.g=new ih(e.g),n.h=e.h),fh(this,n),this.o=t.o}else t&&(n=String(t).match(ah))?(this.g=!!e,lh(this,n[1]||"",!0),this.s=gh(n[2]||""),hh(this,n[3]||"",!0),dh(this,n[4]),this.l=gh(n[5]||"",!0),fh(this,n[6]||"",!0),this.o=gh(n[7]||"")):(this.g=!!e,this.h=new Eh(null,this.g))}function ch(t){return new uh(t)}function lh(t,e,n){t.j=n?gh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function hh(t,e,n){t.i=n?gh(e,!0):e}function dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fh(t,e,n){e instanceof Eh?(t.h=e,function(t,e){e&&!t.j&&(Ch(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(xh(this,e),Ah(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=yh(e,Th)),t.h=new Eh(e,t.g))}function ph(t,e,n){t.h.set(e,n)}function mh(t){return ph(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function gh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,vh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}uh.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yh(e,bh,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(yh(e,bh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(yh(n,"/"==n.charAt(0)?_h:wh,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yh(n,Sh)),t.join("")};var bh=/[#\/\?@]/g,wh=/[#\?:]/g,_h=/[#\?]/g,Th=/[#\?@]/g,Sh=/#/g;function Eh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ch(t){t.g||(t.g=new ih,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function xh(t,e){Ch(t),e=kh(t,e),sh(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,sh((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&oh(t)))}function Ih(t,e){return Ch(t),e=kh(t,e),sh(t.g.h,e)}function Ah(t,e,n){xh(t,e),0<n.length&&(t.i=null,t.g.set(kh(t,e),nc(n)),t.h+=n.length)}function kh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Mu=Eh.prototype).add=function(t,e){Ch(this),this.i=null,t=kh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Mu.forEach=function(t,e){Ch(this),this.g.forEach(function(n,r){tc(n,function(n){t.call(e,n,r,this)},this)},this)},Mu.T=function(){Ch(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Mu.R=function(t){Ch(this);var e=[];if("string"==typeof t)Ih(this,t)&&(e=ec(e,this.g.get(kh(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=ec(e,t[n])}return e},Mu.set=function(t,e){return Ch(this),this.i=null,Ih(this,t=kh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Mu.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Mu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Dh=function(t,e){this.h=t,this.g=e};function Oh(t){this.l=t||Nh,t=ju.PerformanceNavigationTiming?0<(t=ju.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ju.g&&ju.g.Ea&&ju.g.Ea()&&ju.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nh=10;function Rh(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ph(t){return t.h?1:t.g?t.g.size:0}function Lh(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Fh(t,e){t.g?t.g.add(e):t.h=e}function Mh(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Uh(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Fu(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return nc(t.i)}function qh(){}function jh(){this.g=new qh}function Vh(t,e,n){var r=n||"";try{rh(t,function(t,n){var i=t;Zu(t)&&(i=el(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(KT){throw e.push(r+"type="+encodeURIComponent("_badmap")),KT}}function Bh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Zh(t){this.l=t.$b||null,this.j=t.ib||!1}function Gh(t,e){Wc.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=zh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oh.prototype.cancel=function(){var t,e;if(this.i=Uh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Fu(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},qh.prototype.stringify=function(t){return ju.JSON.stringify(t,void 0)},qh.prototype.parse=function(t){return ju.JSON.parse(t,void 0)},Yu(Zh,Pl),Zh.prototype.g=function(){return new Gh(this.l,this.j)},Zh.prototype.i=function(t){return function(){return t}}({}),Yu(Gh,Wc);var zh=0;function Hh(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function $h(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Qh(t)}function Qh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Mu=Gh.prototype).open=function(t,e){if(this.readyState!=zh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Qh(this)},Mu.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ju).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Mu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$h(this)),this.readyState=zh},Mu.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Qh(this)),this.g&&(this.readyState=3,Qh(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ju.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hh(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Mu.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$h(this):Qh(this),3==this.readyState&&Hh(this)}},Mu.Ua=function(t){this.g&&(this.response=this.responseText=t,$h(this))},Mu.Ta=function(t){this.g&&(this.response=t,$h(this))},Mu.ha=function(){this.g&&$h(this)},Mu.setRequestHeader=function(t,e){this.v.append(t,e)},Mu.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Mu.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Kh=ju.JSON.parse;function Yh(t){Wc.call(this),this.headers=new ih,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jh,this.K=this.L=!1}Yu(Yh,Wc);var Jh="",Wh=/^https?$/i,Xh=["POST","PUT"];function td(t){return"content-type"==t.toLowerCase()}function ed(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nd(t),id(t)}function nd(t){t.D||(t.D=!0,Xc(t,"complete"),Xc(t,"error"))}function rd(t){if(t.h&&void 0!==qu&&(!t.C[1]||4!=sd(t)||2!=t.ba()))if(t.v&&4==sd(t))pl(t.Fa,0,t);else if(Xc(t,"readystatechange"),4==sd(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ah)[1]||null;if(!o&&ju.self&&ju.self.location){var s=ju.self.location.protocol;o=s.substr(0,s.length-1)}i=!Wh.test(o?o.toLowerCase():"")}e=i}if(e)Xc(t,"complete"),Xc(t,"success");else{t.m=6;try{var a=2<sd(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",nd(t)}}finally{id(t)}}}function id(t,e){if(t.g){od(t);var n=t.g,r=t.C[0]?Vu:null;t.g=null,t.C=null,e||Xc(t,"ready");try{n.onreadystatechange=r}catch(KT){}}}function od(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ju.clearTimeout(t.A),t.A=null)}function sd(t){return t.g?t.g.readyState:0}function ad(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Jh:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ud(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return lc(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ph(t,e,n))}function cd(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ld(t){this.za=0,this.l=[],this.h=new _l,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=cd("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=cd("baseRetryDelayMs",5e3,t),this.$a=cd("retryDelaySeedMs",1e4,t),this.Ya=cd("forwardChannelMaxRetries",2,t),this.ra=cd("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Oh(t&&t.concurrentRequestLimit),this.Ca=new jh,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function hd(t){if(fd(t),3==t.G){var e=t.V++,n=ch(t.F);ph(n,"SID",t.J),ph(n,"RID",e),ph(n,"TYPE","terminate"),yd(t,n),(e=new Vl(t,t.h,e,void 0)).K=2,e.v=mh(ch(n)),n=!1,ju.navigator&&ju.navigator.sendBeacon&&(n=ju.navigator.sendBeacon(e.v.toString(),"")),!n&&ju.Image&&((new Image).src=e.v,n=!0),n||(e.g=kd(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Jl(e)}Id(t)}function dd(t){t.g&&(_d(t),t.g.cancel(),t.g=null)}function fd(t){dd(t),t.u&&(ju.clearTimeout(t.u),t.u=null),Sd(t),t.i.cancel(),t.m&&("number"==typeof t.m&&ju.clearTimeout(t.m),t.m=null)}function pd(t,e){t.l.push(new Dh(t.Za++,e)),3==t.G&&md(t)}function md(t){Rh(t.i)||t.m||(t.m=!0,ul(t.Ha,t),t.C=0)}function gd(t,e){var n;n=e?e.m:t.V++;var r=ch(t.F);ph(r,"SID",t.J),ph(r,"RID",n),ph(r,"AID",t.U),yd(t,r),t.o&&t.s&&ud(r,t.o,t.s),n=new Vl(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=vd(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Fh(t.i,n),Hl(n,r,e)}function yd(t,e){t.j&&rh({},function(t,n){ph(e,n,t)})}function vd(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Qu(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Vh(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function bd(t){t.g||t.u||(t.Y=1,ul(t.Ga,t),t.A=0)}function wd(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Ol(Qu(t.Ga,t),Cd(t,t.A)),t.A++,0))}function _d(t){null!=t.B&&(ju.clearTimeout(t.B),t.B=null)}function Td(t){t.g=new Vl(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ch(t.oa);ph(e,"RID","rpc"),ph(e,"SID",t.J),ph(e,"CI",t.N?"0":"1"),ph(e,"AID",t.U),yd(t,e),ph(e,"TYPE","xmlhttp"),t.o&&t.s&&ud(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=mh(ch(e)),n.s=null,n.U=!0,$l(n,t)}function Sd(t){null!=t.v&&(ju.clearTimeout(t.v),t.v=null)}function Ed(t,e){var n=null;if(t.g==e){Sd(t),_d(t),t.g=null;var r=2}else{if(!Lh(t.i,e))return;n=e.D,Mh(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Xc(r=Cl(),new Dl(r,n,e,i)),md(t)}else bd(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ph(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Ol(Qu(t.Ha,t,e),Cd(t,t.C)),t.C++,0)))}(t,e)||2==r&&wd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xd(t,5);break;case 4:xd(t,10);break;case 3:xd(t,6);break;default:xd(t,2)}}function Cd(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function xd(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Qu(t.jb,t);n||(n=new uh("//www.google.com/images/cleardot.gif"),ju.location&&"http"==ju.location.protocol||lh(n,"https"),mh(n)),function(t,e){var n=new _l;if(ju.Image){var r=new Image;r.onload=Ku(Bh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ku(Bh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ku(Bh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ku(Bh,n,r,"TestLoadImage: timeout",!1,e),ju.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else kl(2);t.G=0,t.j&&t.j.va(e),Id(t),fd(t)}function Id(t){t.G=0,t.I=-1,t.j&&(0==Uh(t.i).length&&0==t.l.length||(t.i.i.length=0,nc(t.l),t.l.length=0),t.j.ua())}function Ad(t,e,n){var r=function(t){return t instanceof uh?ch(t):new uh(t,void 0)}(n);if(""!=r.i)e&&hh(r,e+"."+r.i),dh(r,r.m);else{var i=ju.location;r=function(t,e,n,r){var i=new uh(null,void 0);return t&&lh(i,t),e&&hh(i,e),n&&dh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&lc(t.aa,function(t,e){ph(r,e,t)}),n=t.sa,(e=t.D)&&n&&ph(r,e,n),ph(r,"VER",t.ma),yd(t,r),r}function kd(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yh(n&&t.Ba&&!t.qa?new Zh({ib:!0}):t.qa)).L=t.H,e}function Dd(){}function Od(){if(vc&&!(10<=Number(Ac)))throw Error("Environmental error: no available transport.")}function Nd(t,e){Wc.call(this),this.g=new ld(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!rc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rc(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ld(this)}function Rd(t){Ul.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Pd(){ql.call(this),this.status=1}function Ld(t){this.g=t}(Mu=Yh.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fl.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Fl),this.g.onreadystatechange=Qu(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void ed(this,o)}t=n||"";var i=new ih(this.headers);r&&rh(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=td,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=ju.FormData&&t instanceof ju.FormData,!(0<=Xu(Xh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{od(this),0<this.B&&((this.K=function(t){return vc&&function(){return t=Ic,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=oc(String(mc)).split("."),n=oc("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=ac(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||ac(0==o[2].length,0==s[2].length)||ac(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qu(this.pa,this)):this.A=pl(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){ed(this,o)}},Mu.pa=function(){void 0!==qu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xc(this,"timeout"),this.abort(8))},Mu.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xc(this,"complete"),Xc(this,"abort"),id(this))},Mu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),id(this,!0)),Yh.Z.M.call(this)},Mu.Fa=function(){this.s||(this.F||this.v||this.l?rd(this):this.cb())},Mu.cb=function(){rd(this)},Mu.ba=function(){try{return 2<sd(this)?this.g.status:-1}catch(gc){return-1}},Mu.ga=function(){try{return this.g?this.g.responseText:""}catch(gc){return""}},Mu.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Kh(e)}},Mu.Da=function(){return this.m},Mu.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mu=ld.prototype).ma=8,Mu.G=1,Mu.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Mu.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Vl(this,this.h,t,void 0),n=this.s;if(this.P&&(n?fc(n=hc(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=vd(this,e,r),ph(i=ch(this.F),"RID",t),ph(i,"CVER",22),this.D&&ph(i,"X-HTTP-Session-Id",this.D),yd(this,i),this.o&&n&&ud(i,this.o,n),Fh(this.i,e),this.Ra&&ph(i,"TYPE","init"),this.ja?(ph(i,"$req",r),ph(i,"SID","null"),e.$=!0,Hl(e,i,null)):Hl(e,i,r),this.G=2}}else 3==this.G&&(t?gd(this,t):0==this.l.length||Rh(this.i)||gd(this))},Mu.Ga=function(){if(this.u=null,Td(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ol(Qu(this.bb,this),t)}},Mu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kl(10),dd(this),Td(this))},Mu.ab=function(){null!=this.v&&(this.v=null,dd(this),wd(this),kl(19))},Mu.jb=function(t){t?(this.h.info("Successfully pinged google.com"),kl(2)):(this.h.info("Failed to ping google.com"),kl(1))},(Mu=Dd.prototype).xa=function(){},Mu.wa=function(){},Mu.va=function(){},Mu.ua=function(){},Mu.Oa=function(){},Od.prototype.g=function(t,e){return new Nd(t,e)},Yu(Nd,Wc),Nd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ul(Qu(t.hb,t,e))),kl(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ad(t,null,t.W),md(t)},Nd.prototype.close=function(){hd(this.g)},Nd.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,pd(this.g,e)}else this.v?((e={}).__data__=el(t),pd(this.g,e)):pd(this.g,t)},Nd.prototype.M=function(){this.g.j=null,delete this.j,hd(this.g),delete this.g,Nd.Z.M.call(this)},Yu(Rd,Ul),Yu(Pd,ql),Yu(Ld,Dd),Ld.prototype.xa=function(){Xc(this.g,"a")},Ld.prototype.wa=function(t){Xc(this.g,new Rd(t))},Ld.prototype.va=function(t){Xc(this.g,new Pd(t))},Ld.prototype.ua=function(){Xc(this.g,"b")},Od.prototype.createWebChannel=Od.prototype.g,Nd.prototype.send=Nd.prototype.u,Nd.prototype.open=Nd.prototype.m,Nd.prototype.close=Nd.prototype.close,Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,Rl.COMPLETE="complete",Ll.EventType=Ml,Ml.OPEN="a",Ml.CLOSE="b",Ml.ERROR="c",Ml.MESSAGE="d",Wc.prototype.listen=Wc.prototype.N,Yh.prototype.listenOnce=Yh.prototype.O,Yh.prototype.getLastError=Yh.prototype.La,Yh.prototype.getLastErrorCode=Yh.prototype.Da,Yh.prototype.getStatus=Yh.prototype.ba,Yh.prototype.getResponseJson=Yh.prototype.Qa,Yh.prototype.getResponseText=Yh.prototype.ga,Yh.prototype.send=Yh.prototype.ea;var Fd=Nl,Md=Rl,Ud=Sl,qd=Zh,jd=Ll,Vd=Yh,Bd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Bd.o=-1;var Zd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Nu.ZT)(e,t),e}(Error),zd=new Pu.Yd("@firebase/firestore");function Hd(){return zd.logLevel}function $d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zd.logLevel<=Pu.in.DEBUG){var r=e.map(Yd);zd.debug.apply(zd,(0,Nu.ev)(["Firestore (8.8.1): "+t],r))}}function Qd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zd.logLevel<=Pu.in.ERROR){var r=e.map(Yd);zd.error.apply(zd,(0,Nu.ev)(["Firestore (8.8.1): "+t],r))}}function Kd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zd.logLevel<=Pu.in.WARN){var r=e.map(Yd);zd.warn.apply(zd,(0,Nu.ev)(["Firestore (8.8.1): "+t],r))}}function Yd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(KT){return t}}function Jd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw Qd(e),new Error(e)}function Wd(t,e){t||Jd()}function Xd(t,e){return t}function tf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ef=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=tf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function nf(t,e){return t<e?-1:t>e?1:0}function rf(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function of(t){return t+"\0"}var sf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gd(Zd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gd(Zd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gd(Zd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gd(Zd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?nf(this.nanoseconds,t.nanoseconds):nf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),af=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new sf(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function uf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var hf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Jd(),void 0===n?n=t.length-e:n>t.length-e&&Jd(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(hf),ff=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ff.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Gd(Zd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gd(Zd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Gd(Zd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(hf),mf=function(){function t(t){this.fields=t,t.sort(pf.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return rf(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),gf=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return nf(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();gf.EMPTY_BYTE_STRING=new gf("");var yf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vf(t){if(Wd(!!t),"string"==typeof t){var e=0,n=yf.exec(t);if(Wd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bf(t.seconds),nanos:bf(t.nanos)}}function bf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wf(t){return"string"==typeof t?gf.fromBase64String(t):gf.fromUint8Array(t)}function _f(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tf(t){var e=t.mapValue.fields.__previous_value__;return _f(e)?Tf(e):e}function Sf(t){var e=vf(t.mapValue.fields.__local_write_time__.timestampValue);return new sf(e.seconds,e.nanos)}function Ef(t){return null==t}function Cf(t){return 0===t&&1/t==-1/0}function xf(t){return"number"==typeof t&&Number.isInteger(t)&&!Cf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var If=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(df.fromString(e))},t.fromName=function(e){return new t(df.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===df.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return df.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new df(e.slice()))},t}();function Af(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_f(t)?4:10:Jd()}function kf(t,e){var n=Af(t);if(n!==Af(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sf(t).isEqual(Sf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vf(t.timestampValue),r=vf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wf(t.bytesValue).isEqual(wf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return bf(t.geoPointValue.latitude)===bf(e.geoPointValue.latitude)&&bf(t.geoPointValue.longitude)===bf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return bf(t.integerValue)===bf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=bf(t.doubleValue),r=bf(e.doubleValue);return n===r?Cf(n)===Cf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return rf(t.arrayValue.values||[],e.arrayValue.values||[],kf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(uf(n)!==uf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kf(n[i],r[i])))return!1;return!0}(t,e);default:return Jd()}}function Df(t,e){return void 0!==(t.values||[]).find(function(t){return kf(t,e)})}function Of(t,e){var n=Af(t),r=Af(e);if(n!==r)return nf(n,r);switch(n){case 0:return 0;case 1:return nf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=bf(t.integerValue||t.doubleValue),r=bf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Nf(t.timestampValue,e.timestampValue);case 4:return Nf(Sf(t),Sf(e));case 5:return nf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=wf(t),r=wf(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=nf(n[i],r[i]);if(0!==o)return o}return nf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=nf(bf(t.latitude),bf(e.latitude));return 0!==n?n:nf(bf(t.longitude),bf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Of(n[i],r[i]);if(o)return o}return nf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=nf(r[s],o[s]);if(0!==a)return a;var u=Of(n[r[s]],i[o[s]]);if(0!==u)return u}return nf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Jd()}}function Nf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return nf(t,e);var n=vf(t),r=vf(e),i=nf(n.seconds,r.seconds);return 0!==i?i:nf(n.nanos,r.nanos)}function Rf(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wf(t.bytesValue).toBase64():"referenceValue"in t?If.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Pf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Pf(t.fields[o])}return e+"}"}(t.mapValue):Jd();var e}function Lf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ff(t){return!!t&&"integerValue"in t}function Mf(t){return!!t&&"arrayValue"in t}function Uf(t){return!!t&&"nullValue"in t}function qf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jf(t){return!!t&&"mapValue"in t}function Vf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return cf(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Vf(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vf(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Bf=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!jf(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vf(e)},t.prototype.setAll=function(t){var e=this,n=pf.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Vf(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());jf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return kf(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];jf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){cf(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Vf(this.value))},t}();function Zf(t){var e=[];return cf(t.fields,function(t,n){var r=new pf([t]);if(jf(n)){var i=Zf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new mf(e)}var Gf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,af.min(),Bf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Bf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Bf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Bf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Bf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),zf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Hf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zf(t,e,n,r,i,o,s)}function $f(t){var e=Xd(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Rf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=sp(e.startAt)),e.endAt&&(n+="|ub:",n+=sp(e.endAt)),e.h=n}return e.h}function Qf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!up(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!kf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lp(t.startAt,e.startAt)&&lp(t.endAt,e.endAt)}function Kf(t){return If.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Yf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Nu.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Jf(t,n,r):"array-contains"===n?new ep(t,r):"in"===n?new np(t,r):"not-in"===n?new rp(t,r):"array-contains-any"===n?new ip(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Wf(t,n):new Xf(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Of(e,this.value)):null!==e&&Af(this.value)===Af(e)&&this.m(Of(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jd()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Jf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=If.fromName(r.referenceValue),i}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){var e=If.comparator(t.key,this.key);return this.m(e)},e}(Yf),Wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tp(0,n),r}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yf),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tp(0,n),r}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Yf);function tp(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return If.fromName(t.referenceValue)})}var ep=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Mf(e)&&Df(e.arrayValue,this.value)},e}(Yf),np=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Df(this.value.arrayValue,e)},e}(Yf),rp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Df(this.value.arrayValue,e)},e}(Yf),ip=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Nu.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Mf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Df(e.value.arrayValue,t)})},e}(Yf),op=function(t,e){this.position=t,this.before=e};function sp(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Rf(t)}).join(",")}var ap=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function up(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function cp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?If.comparator(If.fromName(s.referenceValue),n.key):Of(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function lp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kf(t.position[n],e.position[n]))return!1;return!0}var hp=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function dp(t,e,n,r,i,o,s,a){return new hp(t,e,n,r,i,o,s,a)}function fp(t){return new hp(t)}function pp(t){return!Ef(t.limit)&&"F"===t.limitType}function mp(t){return!Ef(t.limit)&&"L"===t.limitType}function gp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function vp(t){return null!==t.collectionGroup}function bp(t){var e=Xd(t);if(null===e.p){e.p=[];var n=yp(e),r=gp(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ap(n)),e.p.push(new ap(pf.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ap(pf.keyField(),u))}}}return e.p}function wp(t){var e=Xd(t);if(!e.T)if("F"===e.limitType)e.T=Hf(e.path,e.collectionGroup,bp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=bp(e);r<i.length;r++){var o=i[r];n.push(new ap(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new op(e.endAt.position,!e.endAt.before):null,a=e.startAt?new op(e.startAt.position,!e.startAt.before):null;e.T=Hf(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function _p(t,e,n){return new hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tp(t,e){return Qf(wp(t),wp(e))&&t.limitType===e.limitType}function Sp(t){return $f(wp(t))+"|lt:"+t.limitType}function Ep(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Rf(e.value);var e}).join(", ")+"]"),Ef(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+sp(t.startAt)),t.endAt&&(e+=", endAt: "+sp(t.endAt)),"Target("+e+")"}(wp(t))+"; limitType="+t.limitType+")"}function Cp(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):If.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!cp(t.startAt,bp(t),e)||t.endAt&&cp(t.endAt,bp(t),e))}(t,e)}function xp(t){return function(e,n){for(var r=!1,i=0,o=bp(t);i<o.length;i++){var s=o[i],a=Ip(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ip(t,e,n){var r=t.field.isKeyField()?If.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Of(r,i):Jd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jd()}}function Ap(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(e)?"-0":e}}function kp(t){return{integerValue:""+t}}function Dp(t,e){return xf(e)?kp(e):Ap(t,e)}var Op=function(){this._=void 0};function Np(t,e,n){return t instanceof Lp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Fp?Mp(t,e):t instanceof Up?qp(t,e):function(t,e){var n=Pp(t,e),r=Vp(n)+Vp(t.A);return Ff(n)&&Ff(t.A)?kp(r):Ap(t.R,r)}(t,e)}function Rp(t,e,n){return t instanceof Fp?Mp(t,e):t instanceof Up?qp(t,e):n}function Pp(t,e){return t instanceof jp?Ff(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e}(Op),Fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Nu.ZT)(e,t),e}(Op);function Mp(t,e){for(var n=Bp(e),r=function(t){n.some(function(e){return kf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Up=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Nu.ZT)(e,t),e}(Op);function qp(t,e){for(var n=Bp(e),r=function(t){n=n.filter(function(e){return!kf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var jp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Nu.ZT)(e,t),e}(Op);function Vp(t){return bf(t.integerValue||t.doubleValue)}function Bp(t){return Mf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Zp=function(t,e){this.field=t,this.transform=e},Gp=function(t,e){this.version=t,this.transformResults=e},zp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Hp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var $p=function(){};function Qp(t,e,n){t instanceof Xp?function(t,e,n){var r=t.value.clone(),i=nm(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof tm?function(t,e,n){if(Hp(t.precondition,e)){var r=nm(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(em(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Kp(t,e,n){t instanceof Xp?function(t,e,n){if(Hp(t.precondition,e)){var r=t.value.clone(),i=rm(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Wp(e),r).setHasLocalMutations()}}(t,e,n):t instanceof tm?function(t,e,n){if(Hp(t.precondition,e)){var r=rm(t.fieldTransforms,n,e),i=e.data;i.setAll(em(t)),i.setAll(r),e.convertToFoundDocument(Wp(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Hp(t.precondition,e)&&e.convertToNoDocument(af.min())}(t,e)}function Yp(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Pp(o.transform,s||null);null!=a&&(null==n&&(n=Bf.empty()),n.set(o.field,a))}return n||null}function Jp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&rf(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Fp&&e instanceof Fp||t instanceof Up&&e instanceof Up?rf(t.elements,e.elements,kf):t instanceof jp&&e instanceof jp?kf(t.A,e.A):t instanceof Lp&&e instanceof Lp}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Wp(t){return t.isFoundDocument()?t.version:af.min()}var Xp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Nu.ZT)(e,t),e}($p),tm=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Nu.ZT)(e,t),e}($p);function em(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function nm(t,e,n){var r=new Map;Wd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Rp(s,a,n[i]))}return r}function rm(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Np(a,u,e))}return r}var im,om,sm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Nu.ZT)(e,t),e}($p),am=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Nu.ZT)(e,t),e}($p),um=function(t){this.count=t};function cm(t){switch(t){case Zd.OK:return Jd();case Zd.CANCELLED:case Zd.UNKNOWN:case Zd.DEADLINE_EXCEEDED:case Zd.RESOURCE_EXHAUSTED:case Zd.INTERNAL:case Zd.UNAVAILABLE:case Zd.UNAUTHENTICATED:return!1;case Zd.INVALID_ARGUMENT:case Zd.NOT_FOUND:case Zd.ALREADY_EXISTS:case Zd.PERMISSION_DENIED:case Zd.FAILED_PRECONDITION:case Zd.ABORTED:case Zd.OUT_OF_RANGE:case Zd.UNIMPLEMENTED:case Zd.DATA_LOSS:return!0;default:return Jd()}}function lm(t){if(void 0===t)return Qd("GRPC error has no .code"),Zd.UNKNOWN;switch(t){case im.OK:return Zd.OK;case im.CANCELLED:return Zd.CANCELLED;case im.UNKNOWN:return Zd.UNKNOWN;case im.DEADLINE_EXCEEDED:return Zd.DEADLINE_EXCEEDED;case im.RESOURCE_EXHAUSTED:return Zd.RESOURCE_EXHAUSTED;case im.INTERNAL:return Zd.INTERNAL;case im.UNAVAILABLE:return Zd.UNAVAILABLE;case im.UNAUTHENTICATED:return Zd.UNAUTHENTICATED;case im.INVALID_ARGUMENT:return Zd.INVALID_ARGUMENT;case im.NOT_FOUND:return Zd.NOT_FOUND;case im.ALREADY_EXISTS:return Zd.ALREADY_EXISTS;case im.PERMISSION_DENIED:return Zd.PERMISSION_DENIED;case im.FAILED_PRECONDITION:return Zd.FAILED_PRECONDITION;case im.ABORTED:return Zd.ABORTED;case im.OUT_OF_RANGE:return Zd.OUT_OF_RANGE;case im.UNIMPLEMENTED:return Zd.UNIMPLEMENTED;case im.DATA_LOSS:return Zd.DATA_LOSS;default:return Jd()}}(om=im||(im={}))[om.OK=0]="OK",om[om.CANCELLED=1]="CANCELLED",om[om.UNKNOWN=2]="UNKNOWN",om[om.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",om[om.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",om[om.NOT_FOUND=5]="NOT_FOUND",om[om.ALREADY_EXISTS=6]="ALREADY_EXISTS",om[om.PERMISSION_DENIED=7]="PERMISSION_DENIED",om[om.UNAUTHENTICATED=16]="UNAUTHENTICATED",om[om.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",om[om.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",om[om.ABORTED=10]="ABORTED",om[om.OUT_OF_RANGE=11]="OUT_OF_RANGE",om[om.UNIMPLEMENTED=12]="UNIMPLEMENTED",om[om.INTERNAL=13]="INTERNAL",om[om.UNAVAILABLE=14]="UNAVAILABLE",om[om.DATA_LOSS=15]="DATA_LOSS";var hm=function(){function t(t,e){this.comparator=t,this.root=e||fm.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fm.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fm.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new dm(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new dm(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new dm(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new dm(this.root,t,this.comparator,!0)},t}(),dm=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),fm=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Jd();if(this.right.isRed())throw Jd();var t=this.left.check();if(t!==this.right.check())throw Jd();return t+(this.isRed()?0:1)},t}();fm.EMPTY=null,fm.RED=!0,fm.BLACK=!1,fm.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Jd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new fm(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var pm=function(){function t(t){this.comparator=t,this.data=new hm(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new mm(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new mm(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),mm=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),gm=new hm(If.comparator);function ym(){return gm}var vm=new hm(If.comparator);function bm(){return vm}var wm=new hm(If.comparator);function _m(){return wm}var Tm=new pm(If.comparator);function Sm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Tm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Em=new pm(nf);function Cm(){return Em}var xm=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Im.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(af.min(),r,Cm(),ym(),Sm())},t}(),Im=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(gf.EMPTY_BYTE_STRING,n,Sm(),Sm(),Sm())},t}(),Am=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},km=function(t,e){this.targetId=t,this.V=e},Dm=function(t,e,n,r){void 0===n&&(n=gf.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Om=function(){function t(){this.S=0,this.D=Pm(),this.C=gf.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Sm(),e=Sm(),n=Sm();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Jd()}}),new Im(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Pm()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Nm=function(){function t(t){this.W=t,this.G=new Map,this.H=ym(),this.J=Rm(),this.Y=new pm(nf)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Jd()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Kf(i))if(0===n){var o=new If(i.path);this.tt(e,o,Gf.newNoDocument(o,af.min()))}else Wd(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Kf(o.target)){var s=new If(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Gf.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Sm();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xm(t,n,this.Y,this.H,r);return this.H=ym(),this.J=Rm(),this.Y=new pm(nf),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Om,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new pm(nf),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||$d("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Om),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Rm(){return new hm(If.comparator)}function Pm(){return new hm(If.comparator)}var Lm={asc:"ASCENDING",desc:"DESCENDING"},Fm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mm=function(t,e){this.databaseId=t,this.I=e};function Um(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qm(t,e){return t.I?e.toBase64():e.toUint8Array()}function jm(t,e){return Um(t,e.toTimestamp())}function Vm(t){return Wd(!!t),af.fromTimestamp(function(t){var e=vf(t);return new sf(e.seconds,e.nanos)}(t))}function Bm(t,e){return function(t){return new df(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Zm(t){var e=df.fromString(t);return Wd(fg(e)),e}function Gm(t,e){return Bm(t.databaseId,e.path)}function zm(t,e){var n=Zm(e);if(n.get(1)!==t.databaseId.projectId)throw new Gd(Zd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Gd(Zd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new If(Km(n))}function Hm(t,e){return Bm(t.databaseId,e)}function $m(t){var e=Zm(t);return 4===e.length?df.emptyPath():Km(e)}function Qm(t){return new df(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Km(t){return Wd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ym(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function Jm(t,e,n){var r=zm(t,e.name),i=Vm(e.updateTime),o=new Bf({mapValue:{fields:e.fields}}),s=Gf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Wm(t,e){var n;if(e instanceof Xp)n={update:Ym(t,e.key,e.value)};else if(e instanceof sm)n={delete:Gm(t,e.key)};else if(e instanceof tm)n={update:Ym(t,e.key,e.data),updateMask:dg(e.fieldMask)};else{if(!(e instanceof am))return Jd();n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Lp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Up)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof jp)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Jd()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:jm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Jd()}(t,e.precondition)),n}function Xm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?zp.updateTime(Vm(t.updateTime)):void 0!==t.exists?zp.exists(t.exists):zp.none()}(e.currentDocument):zp.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Wd("REQUEST_TIME"===e.setToServerValue),n=new Lp):"appendMissingElements"in e?n=new Fp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Up(e.removeAllFromArray.values||[]):"increment"in e?n=new jp(t,e.increment):Jd();var r=pf.fromServerFormat(e.fieldPath);return new Zp(r,n)}(t,e)}):[];if(e.update){var i=zm(t,e.update.name),o=new Bf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new mf((t.fieldPaths||[]).map(function(t){return pf.fromServerFormat(t)}))}(e.updateMask);return new tm(i,o,s,n,r)}return new Xp(i,o,n,r)}if(e.delete){var a=zm(t,e.delete);return new sm(a,n)}if(e.verify){var u=zm(t,e.verify);return new am(u,n)}return Jd()}function tg(t,e){return{documents:[Hm(t,e.path)]}}function eg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Hm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(qf(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NAN"}};if(Uf(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qf(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NOT_NAN"}};if(Uf(t.value))return{unaryFilter:{field:ug(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ug(t.field),op:ag(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ug(t.field),direction:sg(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ef(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ig(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ig(e.endAt)),n}function ng(t){var e=$m(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=rg(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ap(cg(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Ef(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=og(n.startAt));var l=null;return n.endAt&&(l=og(n.endAt)),dp(e,i,a,s,u,"F",c,l)}function rg(t){return t?void 0!==t.unaryFilter?[hg(t)]:void 0!==t.fieldFilter?[lg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return rg(t)}).reduce(function(t,e){return t.concat(e)}):Jd():[]}function ig(t){return{before:t.before,values:t.position}}function og(t){return new op(t.values||[],!!t.before)}function sg(t){return Lm[t]}function ag(t){return Fm[t]}function ug(t){return{fieldPath:t.canonicalString()}}function cg(t){return pf.fromServerFormat(t.fieldPath)}function lg(t){return Yf.create(cg(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Jd()}}(t.fieldFilter.op),t.fieldFilter.value)}function hg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=cg(t.unaryFilter.field);return Yf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=cg(t.unaryFilter.field);return Yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cg(t.unaryFilter.field);return Yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cg(t.unaryFilter.field);return Yf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Jd()}}function dg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function fg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function pg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=gg(e)),e=mg(t.get(n),e);return gg(e)}function mg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function gg(t){return t+"\x01\x01"}function yg(t){var e=t.length;if(Wd(e>=2),2===e)return Wd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),df.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Jd(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Jd()}o=s+2}return new df(r)}var vg=function(t,e){this.seconds=t,this.nanoseconds=e},bg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};bg.store="owner",bg.key="owner";var wg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};wg.store="mutationQueues",wg.keyPath="userId";var _g=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};_g.store="mutations",_g.keyPath="batchId",_g.userMutationsIndex="userMutationsIndex",_g.userMutationsKeyPath=["userId","batchId"];var Tg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pg(e)]},t.key=function(t,e,n){return[t,pg(e),n]},t}();Tg.store="documentMutations",Tg.PLACEHOLDER=new Tg;var Sg=function(t,e){this.path=t,this.readTime=e},Eg=function(t,e){this.path=t,this.version=e},Cg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Cg.store="remoteDocuments",Cg.readTimeIndex="readTimeIndex",Cg.readTimeIndexPath="readTime",Cg.collectionReadTimeIndex="collectionReadTimeIndex",Cg.collectionReadTimeIndexPath=["parentPath","readTime"];var xg=function(t){this.byteSize=t};xg.store="remoteDocumentGlobal",xg.key="remoteDocumentGlobalKey";var Ig=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ig.store="targets",Ig.keyPath="targetId",Ig.queryTargetsIndexName="queryTargetsIndex",Ig.queryTargetsKeyPath=["canonicalId","targetId"];var Ag=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ag.store="targetDocuments",Ag.keyPath=["targetId","path"],Ag.documentTargetsIndex="documentTargetsIndex",Ag.documentTargetsKeyPath=["path","targetId"];var kg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};kg.key="targetGlobalKey",kg.store="targetGlobal";var Dg=function(t,e){this.collectionId=t,this.parent=e};Dg.store="collectionParents",Dg.keyPath=["collectionId","parent"];var Og=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Og.store="clientMetadata",Og.keyPath="clientId";var Ng=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ng.store="bundles",Ng.keyPath="bundleId";var Rg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Rg.store="namedQueries",Rg.keyPath="name";var Pg=(0,Nu.ev)((0,Nu.ev)([],(0,Nu.ev)((0,Nu.ev)([],(0,Nu.ev)((0,Nu.ev)([],(0,Nu.ev)((0,Nu.ev)([],[wg.store,_g.store,Tg.store,Cg.store,Ig.store,bg.store,kg.store,Ag.store]),[Og.store])),[xg.store])),[Dg.store])),[Ng.store,Rg.store]),Lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Mg=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ug=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Jd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),qg=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Mg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Bg(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=$g(e.target.error);n.ft.reject(new Bg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Bg(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||($d("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Gg(e)},t}(),jg=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Ru.z$)())&&Qd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return $d("SimpleDb","Removing database:",t),zg(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Ru.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:($d("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Bg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Gd(Zd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Bg(t,n))},i.onupgradeneeded=function(t){$d("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){$d("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Nu.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Nu.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=qg.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ug.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return $d("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Vg=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return zg(this.Pt.delete())},t}(),Bg=function(t){function e(e,n){var r=this;return(r=t.call(this,Zd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Nu.ZT)(e,t),e}(Gd);function Zg(t){return"IndexedDbTransactionError"===t.name}var Gg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?($d("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):($d("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),zg(n)},t.prototype.add=function(t){return $d("SimpleDb","ADD",this.store.name,t,t),zg(this.store.add(t))},t.prototype.get=function(t){var e=this;return zg(this.store.get(t)).next(function(n){return void 0===n&&(n=null),$d("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return $d("SimpleDb","DELETE",this.store.name,t),zg(this.store.delete(t))},t.prototype.count=function(){return $d("SimpleDb","COUNT",this.store.name),zg(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){$d("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ug(function(n,r){e.onerror=function(t){var e=$g(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ug(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Vg(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ug){var a=s.catch(function(t){return o.done(),Ug.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ug.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function zg(t){return new Ug(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=$g(t.target.error);n(e)}})}var Hg=!1;function $g(t){var e=jg._t((0,Ru.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Gd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Hg||(Hg=!0,setTimeout(function(){throw r},0)),r}}return t}var Qg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Nu.ZT)(e,t),e}(Fg);function Kg(t,e){var n=Xd(t);return jg.It(n.Mt,e)}var Yg=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Qp(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Kp(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Kp(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(af.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Sm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rf(this.mutations,t.mutations,function(t,e){return Jp(t,e)})&&rf(this.baseMutations,t.baseMutations,function(t,e){return Jp(t,e)})},t}(),Jg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Wd(e.mutations.length===r.length);for(var i=_m(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Wg=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=af.min()),void 0===o&&(o=af.min()),void 0===s&&(s=gf.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Xg=function(t){this.Lt=t};function ty(t,e){if(e.document)return Jm(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=If.fromSegments(e.noDocument.path),r=oy(e.noDocument.readTime),i=Gf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=If.fromSegments(e.unknownDocument.path);return r=oy(e.unknownDocument.version),Gf.newUnknownDocument(o,r)}return Jd()}function ey(t,e,n){var r=ny(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Gm(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Um(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Cg(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=iy(e.version);return s=e.hasCommittedMutations,new Cg(null,new Sg(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=iy(e.version);return new Cg(new Eg(c,l),null,null,!0,r,i)}return Jd()}function ny(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ry(t){var e=new sf(t[0],t[1]);return af.fromTimestamp(e)}function iy(t){var e=t.toTimestamp();return new vg(e.seconds,e.nanoseconds)}function oy(t){var e=new sf(t.seconds,t.nanoseconds);return af.fromTimestamp(e)}function sy(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Xm(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Xm(t.Lt,e)}),o=sf.fromMillis(e.localWriteTimeMs);return new Yg(e.batchId,o,n,i)}function ay(t){var e,n,r=oy(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?oy(t.lastLimboFreeSnapshotVersion):af.min();return void 0!==t.query.documents?(Wd(1===(n=t.query).documents.length),e=wp(fp($m(n.documents[0])))):e=function(t){return wp(ng(t))}(t.query),new Wg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,gf.fromBase64String(t.resumeToken))}function uy(t,e){var n,r=iy(e.snapshotVersion),i=iy(e.lastLimboFreeSnapshotVersion);n=Kf(e.target)?tg(t.Lt,e.target):eg(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Ig(e.targetId,$f(e.target),r,o,e.sequenceNumber,i,n)}function cy(t){var e=ng({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?_p(e,e.limit,"L"):e}var ly=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return hy(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:oy(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return hy(t).put({bundleId:(n=e).id,createTime:iy(Vm(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return dy(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:cy(e.bundledQuery),readTime:oy(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return dy(t).put(function(t){return{name:t.name,readTime:iy(Vm(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function hy(t){return Kg(t,Ng.store)}function dy(t){return Kg(t,Rg.store)}var fy=function(){function t(){this.Bt=new py}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ug.resolve()},t.prototype.getCollectionParents=function(t,e){return Ug.resolve(this.Bt.getEntries(e))},t}(),py=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new pm(df.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new pm(df.comparator)).toArray()},t}(),my=function(){function t(){this.qt=new py}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:pg(i)};return gy(t).put(o)}return Ug.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[of(e),""],!1,!0);return gy(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(yg(o.parent))}return n})},t}();function gy(t){return Kg(t,Dg.store)}var yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vy=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function by(t,e,n){var r=t.store(_g.store),i=t.store(Tg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Wd(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Tg.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Ug.waitFor(o).next(function(){return c})}function wy(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Jd();e=t.noDocument}return JSON.stringify(e).length}vy.DEFAULT_COLLECTION_PERCENTILE=10,vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vy.DEFAULT=new vy(41943040,vy.DEFAULT_COLLECTION_PERCENTILE,vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vy.DISABLED=new vy(-1,0,0);var _y=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Wd(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sy(t).$t({index:_g.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ey(t),s=Sy(t);return s.add({}).next(function(a){Wd("number"==typeof a);for(var u=new Yg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Wm(t.Lt,e)}),i=n.mutations.map(function(e){return Wm(t.Lt,e)});return new _g(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new pm(function(t,e){return nf(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Tg.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,Tg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Ug.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Sy(t).get(e).next(function(t){return t?(Wd(t.userId===n.userId),sy(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Ug.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Sy(t).$t({index:_g.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Wd(e.batchId>=r),o=sy(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Sy(t).$t({index:_g.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sy(t).Nt(_g.userMutationsIndex,n).next(function(t){return t.map(function(t){return sy(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Tg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ey(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=yg(r[1]);if(a===n.userId&&e.path.isEqual(c))return Sy(t).get(u).next(function(t){if(!t)throw Jd();Wd(t.userId===n.userId),o.push(sy(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new pm(nf),i=[];return e.forEach(function(e){var o=Tg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ey(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=yg(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ug.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Tg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new pm(nf);return Ey(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=yg(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Sy(t).get(e).next(function(t){if(null===t)throw Jd();Wd(t.userId===n.userId),r.push(sy(n.R,t))}))}),Ug.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return by(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ug.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ug.resolve();var r=IDBKeyRange.lowerBound(Tg.prefixForUser(e.userId)),i=[];return Ey(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=yg(t[1]);i.push(o)}else r.done()}).next(function(){Wd(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ty(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Cy(t).get(this.userId).next(function(t){return t||new wg(e.userId,-1,"")})},t}();function Ty(t,e,n){var r=Tg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ey(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Sy(t){return Kg(t,_g.store)}function Ey(t){return Kg(t,Tg.store)}function Cy(t){return Kg(t,wg.store)}var xy=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Iy=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new xy(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return af.fromTimestamp(new sf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Ay(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Wd(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Ay(t).$t(function(s,a){var u=ay(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ug.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Ay(t).$t(function(t,n){var r=ay(n);e(r)})},t.prototype.Xt=function(t){return ky(t).get(kg.key).next(function(t){return Wd(null!==t),t})},t.prototype.Zt=function(t,e){return ky(t).put(kg.key,e)},t.prototype.te=function(t,e){return Ay(t).put(uy(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=$f(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ay(t).$t({range:r,index:Ig.queryTargetsIndexName},function(t,n,r){var o=ay(n);Qf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Dy(t);return e.forEach(function(e){var s=pg(e.path);i.push(o.put(new Ag(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ug.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Dy(t);return Ug.forEach(e,function(e){var o=pg(e.path);return Ug.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Dy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Dy(t),i=Sm();return r.$t({range:n,kt:!0},function(t,e,n){var r=yg(t[1]),o=new If(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=pg(e.path),r=IDBKeyRange.bound([n],[of(n)],!1,!0),i=0;return Dy(t).$t({index:Ag.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Ay(t).get(e).next(function(t){return t?ay(t):null})},t}();function Ay(t){return Kg(t,Ig.store)}function ky(t){return Kg(t,kg.store)}function Dy(t){return Kg(t,Ag.store)}function Oy(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){if(t.code!==Zd.FAILED_PRECONDITION||t.message!==Lg)throw t;return $d("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Ny(t,e){var n=t[1],r=e[1],i=nf(t[0],e[0]);return 0===i?nf(n,r):i}var Ry=function(){function t(t){this.ne=t,this.buffer=new pm(Ny),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ny(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Py=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;$d("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Nu.mG)(e,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Zg(e=n.sent())?($d("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Oy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ly=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ug.resolve(Bd.o);var r=new Ry(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?($d("LruGarbageCollector","Garbage collection skipped; disabled"),Ug.resolve(yy)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?($d("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),yy):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?($d("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Hd()<=Pu.in.DEBUG&&$d("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ug.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Fy=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ly(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return My(t,n)},t.prototype.removeReference=function(t,e,n){return My(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return My(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Cy(t).Ot(function(r){return Ty(t,r,e).next(function(t){return t&&(n=!0),Ug.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Dy(t).delete([0,pg(s.path)])})});i.push(u)}}).next(function(){return Ug.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return My(t,e)},t.prototype.we=function(t,e){var n,r=Dy(t),i=Bd.o;return r.$t({index:Ag.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Bd.o&&e(new If(yg(n)),i),i=s,n=o):i=Bd.o}).next(function(){i!==Bd.o&&e(new If(yg(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function My(t,e){return Dy(t).put(function(t,e){return new Ag(0,pg(t.path),e)}(e,t.currentSequenceNumber))}var Uy=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){cf(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return lf(this.inner)},t}(),qy=function(){function t(){this.changes=new Uy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:af.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Gf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ug.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),jy=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Zy(t).put(Gy(e),n)},t.prototype.removeEntry=function(t,e){var n=Zy(t),r=Gy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Zy(t).get(Gy(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Zy(t).get(Gy(e)).next(function(t){return{document:n.ye(e,t),size:wy(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ym();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ym(),i=new hm(If.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,wy(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ug.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Zy(t).$t({range:r},function(t,e,r){for(var s=If.fromSegments(t);o&&If.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ym(),o=e.path.length+1,s={};if(n.isEqual(af.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ny(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Cg.collectionReadTimeIndex}return Zy(t).$t(s,function(t,n,s){if(t.length===o){var a=ty(r.R,n);e.path.isPrefixOf(a.key.path)?Cp(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Vy(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return By(t).get(xg.key).next(function(t){return Wd(!!t),t})},t.prototype.me=function(t,e){return By(t).put(xg.key,e)},t.prototype.ye=function(t,e){if(e){var n=ty(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(af.min()))return n}return Gf.newInvalidDocument(t)},t}(),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Uy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Nu.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new pm(function(t,e){return nf(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=ey(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=wy(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=ey(e.Ie.R,Gf.newNoDocument(o,af.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ug.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(qy);function By(t){return Kg(t,xg.store)}function Zy(t){return Kg(t,Cg.store)}function Gy(t){return t.path.toArray()}var zy=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Wd(n<r&&n>=0&&r<=11);var o=new qg("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(bg.store)}(t),function(t){t.createObjectStore(wg.store,{keyPath:wg.keyPath}),t.createObjectStore(_g.store,{keyPath:_g.keyPath,autoIncrement:!0}).createIndex(_g.userMutationsIndex,_g.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Tg.store)}(t),Hy(t),function(t){t.createObjectStore(Cg.store)}(t));var s=Ug.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ag.store),t.deleteObjectStore(Ig.store),t.deleteObjectStore(kg.store)}(t),Hy(t)),s=s.next(function(){return function(t){var e=t.store(kg.store),n=new kg(0,0,af.min().toTimestamp(),0);return e.put(kg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(_g.store).Nt().next(function(n){t.deleteObjectStore(_g.store),t.createObjectStore(_g.store,{keyPath:_g.keyPath,autoIncrement:!0}).createIndex(_g.userMutationsIndex,_g.userMutationsKeyPath,{unique:!0});var r=e.store(_g.store),i=n.map(function(t){return r.put(t)});return Ug.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Og.store,{keyPath:Og.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(xg.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Cg.store);e.createIndex(Cg.readTimeIndex,Cg.readTimeIndexPath,{unique:!1}),e.createIndex(Cg.collectionReadTimeIndex,Cg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Ng.store,{keyPath:Ng.keyPath})}(t),function(t){t.createObjectStore(Rg.store,{keyPath:Rg.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Cg.store).$t(function(t,n){e+=wy(n)}).next(function(){var n=new xg(e);return t.store(xg.store).put(xg.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(wg.store),r=t.store(_g.store);return n.Nt().next(function(n){return Ug.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(_g.userMutationsIndex,i).next(function(r){return Ug.forEach(r,function(r){Wd(r.userId===n.userId);var i=sy(e.R,r);return by(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Ag.store),n=t.store(Cg.store);return t.store(kg.store).get(kg.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new df(n),s=function(t){return[0,pg(t)]}(o);r.push(e.get(s).next(function(n){return n?Ug.resolve():function(n){return e.put(new Ag(0,pg(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ug.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Dg.store,{keyPath:Dg.keyPath});var n=e.store(Dg.store),r=new py,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:pg(i)})}};return e.store(Cg.store).$t({kt:!0},function(t,e){var n=new df(t);return i(n.popLast())}).next(function(){return e.store(Tg.store).$t({kt:!0},function(t,e){var n=yg(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Ig.store);return n.$t(function(t,r){var i=ay(r),o=uy(e.R,i);return n.put(o)})},t}();function Hy(t){t.createObjectStore(Ag.store,{keyPath:Ag.keyPath}).createIndex(Ag.documentTargetsIndex,Ag.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ig.store,{keyPath:Ig.keyPath}).createIndex(Ig.queryTargetsIndexName,Ig.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(kg.store)}var $y="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qy=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Gd(Zd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fy(this,i),this.Le=n+"main",this.R=new Xg(u),this.Be=new jg(this.Le,11,new zy(this.R)),this.qe=new Iy(this.referenceDelegate,this.R),this.Ut=new my,this.Ue=function(t,e){return new jy(t,e)}(this.R,this.Ut),this.Ke=new ly,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Qd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Gd(Zd.FAILED_PRECONDITION,$y);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Bd(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Nu.mG)(e,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Nu.mG)(e,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Nu.mG)(e,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Yy(e).put(new Og(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Zg(e))return $d("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return $d("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Ky(t).get(bg.key).next(function(t){return Ug.resolve(e.tn(t))})},t.prototype.en=function(t){return Yy(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Kg(t,Og.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ug.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ug.resolve(!0):Ky(t).get(bg.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Gd(Zd.FAILED_PRECONDITION,$y);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yy(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&$d("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t=this;return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[bg.store,Og.store],function(e){var n=new Qg(e,Bd.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Yy(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return _y.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return $d("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Pg,function(o){return r=new Qg(o,i.Ne?i.Ne.next():Bd.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Qd("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Gd(Zd.FAILED_PRECONDITION,Lg);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Ky(t).get(bg.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Gd(Zd.FAILED_PRECONDITION,$y)})},t.prototype.Ze=function(t){var e=new bg(this.clientId,this.allowTabSynchronization,Date.now());return Ky(t).put(bg.key,e)},t.yt=function(){return jg.yt()},t.prototype.Xe=function(t){var e=this,n=Ky(t);return n.get(bg.key).next(function(t){return e.tn(t)?($d("IndexedDbPersistence","Releasing primary lease."),n.delete(bg.key)):Ug.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Qd("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Ru.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return $d("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Qd("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Qd("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ky(t){return Kg(t,bg.store)}function Yy(t){return Kg(t,Og.store)}function Jy(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Wy=function(t,e){this.progress=t,this.wn=e},Xy=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return If.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):vp(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new If(e)).next(function(t){var e=bm();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=bm();return this.Ut.getCollectionParents(t,i).next(function(s){return Ug.forEach(s,function(s){var a=function(t,e){return new hp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Gf.newInvalidDocument(c),r=r.insert(c,l)),Kp(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Cp(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Sm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof tm&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),tv=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Sm(),i=Sm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ev=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(af.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(pp(e)||mp(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Hd()<=Pu.in.DEBUG&&$d("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ep(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new pm(xp(t));return e.forEach(function(e,r){Cp(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Hd()<=Pu.in.DEBUG&&$d("QueryEngine","Using full collection scan to execute query:",Ep(e)),this.Sn.getDocumentsMatchingQuery(t,e,af.min())},t}(),nv=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new hm(nf),this.kn=new Uy(function(t){return $f(t)},Qf),this.$n=af.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Xy(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function rv(t,e,n,r){return new nv(t,e,n,r)}function iv(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Nu.Jh)(this,function(s){switch(s.label){case 0:return n=Xd(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Xy(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Sm(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function ov(t,e){var n=Xd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ug.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Wd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function sv(t){var e=Xd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function av(t,e){var n=Xd(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Wd(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=ym();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(uv(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(af.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ug.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function uv(t,e,n,r,i){var o=Sm();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ym();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(af.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):$d("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function cv(t,e){var n=Xd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function lv(t,e){var n=Xd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ug.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Wg(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function hv(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:r=Xd(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Zg(s=a.sent()))throw s;return $d("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function dv(t,e,n){var r=Xd(t),i=af.min(),o=Sm();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Xd(t),i=r.kn.get(n);return void 0!==i?Ug.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,wp(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:af.min(),n?o:Sm())}).next(function(t){return{documents:t,Bn:o}})})}function fv(t,e){var n=Xd(t),r=Xd(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function pv(t){var e=Xd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Xd(t),i=ym(),o=ny(n),s=Zy(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Cg.readTimeIndex,range:a},function(t,e){var n=ty(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:ry(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function mv(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){return[2,(e=Xd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Zy(t),n=af.min();return e.$t({index:Cg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ry(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function gv(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return(0,Nu.Jh)(this,function(p){switch(p.label){case 0:for(i=Xd(t),o=Sm(),s=ym(),a=_m(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,lv(i,function(t){return wp(fp(df.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return uv(t,d,s,af.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function yv(t,e,n){return void 0===n&&(n=Sm()),(0,Nu.mG)(this,void 0,void 0,function(){var r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return[4,lv(t,wp(cy(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Xd(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Vm(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(gf.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var vv=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ug.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Vm(n.createTime)}),Ug.resolve()},t.prototype.getNamedQuery=function(t,e){return Ug.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:cy(t.bundledQuery),readTime:Vm(t.readTime)}}(e)),Ug.resolve()},t}(),bv=function(){function t(){this.Wn=new pm(wv.Gn),this.zn=new pm(wv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new wv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new wv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new If(new df([])),r=new wv(n,t),i=new wv(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new If(new df([])),n=new wv(e,t),r=new wv(e,t+1),i=Sm();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new wv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),wv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return If.comparator(t.key,e.key)||nf(t.ns,e.ns)},t.Hn=function(t,e){return nf(t.ns,e.ns)||If.comparator(t.key,e.key)},t}(),_v=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new pm(wv.Gn)}return t.prototype.checkEmpty=function(t){return Ug.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Yg(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new wv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ug.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ug.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ug.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ug.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ug.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new wv(e,0),i=new wv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ug.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new pm(nf);return e.forEach(function(t){var e=new wv(t,0),i=new wv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ug.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;If.isDocumentKey(i)||(i=i.child(""));var o=new wv(new If(i),0),s=new pm(nf);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ug.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Wd(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ug.forEach(e.mutations,function(i){var o=new wv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new wv(e,0),r=this.rs.firstAfterOrEqual(n);return Ug.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ug.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Tv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new hm(If.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ug.resolve(n?n.document.clone():Gf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ym();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Gf.newInvalidDocument(t))}),Ug.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ym(),i=new If(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Cp(e,u)&&(r=r.insert(u.key,u.clone()))}return Ug.resolve(r)},t.prototype.fs=function(t,e){return Ug.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Sv(this)},t.prototype.getSize=function(t){return Ug.resolve(this.size)},t}(),Sv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Nu.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ug.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(qy),Ev=function(){function t(t){this.persistence=t,this.ds=new Uy(function(t){return $f(t)},Qf),this.lastRemoteSnapshotVersion=af.min(),this.highestTargetId=0,this.ws=0,this._s=new bv,this.targetCount=0,this.ys=xy.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ug.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ug.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ug.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ug.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ug.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new xy(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ug.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ug.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ug.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ug.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ug.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ug.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ug.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ug.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ug.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ug.resolve(n)},t.prototype.containsKey=function(t,e){return Ug.resolve(this._s.containsKey(e))},t}(),Cv=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Bd(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ev(this),this.Ut=new fy,this.Ue=function(t,e){return new Tv(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Xg(e),this.Ke=new vv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new _v(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;$d("MemoryPersistence","Starting transaction:",t);var i=new xv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ug.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),xv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Nu.ZT)(e,t),e}(Fg),Iv=function(){function t(t){this.persistence=t,this.As=new bv,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Jd()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ug.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ug.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ug.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ug.forEach(this.vs,function(r){var i=If.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ug.or([function(){return Ug.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Av=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function kv(t,e){return"firestore_clients_"+t+"_"+e}function Dv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Ov(t,e){return"firestore_targets_"+t+"_"+e}Av.UNAUTHENTICATED=new Av(null),Av.GOOGLE_CREDENTIALS=new Av("google-credentials-uid"),Av.FIRST_PARTY=new Av("first-party-uid");var Nv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Gd(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Qd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rv=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gd(i.error.code,i.error.message)),o?new t(e,i.state,r):(Qd("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Pv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Cm(),s=0;i&&s<r.activeTargetIds.length;++s)i=xf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Qd("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Qd("SharedClientState","Failed to parse online state: "+e),null)},t}(),Fv=function(){function t(){this.activeTargetIds=Cm()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Mv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new hm(nf),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=kv(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Fv),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Nu.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(kv(this.persistenceKey,r)))&&(o=Pv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ov(this.persistenceKey,t));if(n){var r=Rv.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ov(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return $d("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){$d("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){$d("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if($d("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Qd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Nu.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Nu.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Bd.o;if(null!=t)try{var n=JSON.parse(t);Wd("number"==typeof n),e=n}catch(t){Qd("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Bd.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Nv(this.currentUser,t,e,n),i=Dv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Dv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Ov(this.persistenceKey,t),i=new Rv(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Pv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Nv.Vs(new Av(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Rv.Vs(r,e)},t.prototype.js=function(t){return Lv.Vs(t)},t.prototype.ii=function(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:($d("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Cm();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Uv=function(){function t(){this.li=new Fv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Fv,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),qv=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),jv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){$d("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){$d("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bv=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Zv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Nu.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Vd;s.listenOnce(Md.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Fd.NO_ERROR:var e=s.getResponseJson();$d("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fd.TIMEOUT:$d("Connection",'RPC "'+t+'" timed out'),o(new Gd(Zd.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:var n=s.getStatus();if($d("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zd).indexOf(e)>=0?e:Zd.UNKNOWN}(r.status);o(new Gd(a,r.message))}else o(new Gd(Zd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gd(Zd.UNAVAILABLE,"Connection failed."));break;default:Jd()}}finally{$d("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Od,i=Cl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new qd({})),this.Fi(o.initMessageHeaders,e),(0,Ru.uI)()||(0,Ru.b$)()||(0,Ru.d)()||(0,Ru.w1)()||(0,Ru.Mn)()||(0,Ru.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");$d("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Bv({Ei:function(t){c?$d("Connection","Not sending because WebChannel is closed:",t):(u||($d("Connection","Opening WebChannel transport."),a.open(),u=!0),$d("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,jd.EventType.OPEN,function(){c||$d("Connection","WebChannel transport opened.")}),h(a,jd.EventType.CLOSE,function(){c||(c=!0,$d("Connection","WebChannel transport closed"),l.Vi())}),h(a,jd.EventType.ERROR,function(t){c||(c=!0,Kd("Connection","WebChannel transport errored:",t),l.Vi(new Gd(Zd.UNAVAILABLE,"The operation could not be completed")))}),h(a,jd.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Wd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){$d("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=im[t];if(void 0!==e)return lm(e)}(i),s=r.message;void 0===o&&(o=Zd.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Gd(o,s)),a.close()}else $d("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Ud.STAT_EVENT,function(t){10===t.stat?$d("Connection","Detected buffering proxy"):11===t.stat&&$d("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);$d("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return $d("RestConnection","Received: ",t),t},function(e){throw Kd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Vv[t]},t}());function Gv(){return"undefined"!=typeof window?window:null}function zv(){return"undefined"!=typeof document?document:null}function Hv(t){return new Mm(t,!0)}var $v=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&$d("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Qv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new $v(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Zd.RESOURCE_EXHAUSTED?(Qd(e.toString()),Qd("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Zd.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Gd(Zd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Nu.mG)(t,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return $d("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():($d("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Kv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Nu.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Jd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Wd(void 0===e||"string"==typeof e),gf.fromBase64String(e||"")):(Wd(void 0===e||e instanceof Uint8Array),gf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zd.UNKNOWN:lm(t.code);return new Gd(e,t.message||"")}(a);n=new Dm(r,i,o,s||null)}else if("documentChange"in e){i=zm(t,(r=e.documentChange).document.name),o=Vm(r.document.updateTime);var a=new Bf({mapValue:{fields:r.document.fields}}),u=(s=Gf.newFoundDocument(i,o,a),r.targetIds||[]);n=new Am(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=zm(t,(r=e.documentDelete).document),o=r.readTime?Vm(r.readTime):af.min(),a=Gf.newNoDocument(i,o),n=new Am([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=zm(t,(r=e.documentRemove).document),n=new Am([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Jd();var c=e.filter;i=new um(r=c.count||0),n=new km(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return af.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?af.min():e.readTime?Vm(e.readTime):af.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Qm(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Kf(r)?{documents:tg(t,r)}:{query:eg(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=qm(t,e.resumeToken):e.snapshotVersion.compareTo(af.min())>0&&(n.readTime=Um(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jd()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Qm(this.R),e.removeTarget=t,this.cr(e)},e}(Qv),Yv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Nu.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Wd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Wd(void 0!==e),t.map(function(t){return function(t,e){var n=Vm(t.updateTime?t.updateTime:e);return n.isEqual(af.min())&&(n=Vm(e)),new Gp(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Vm(t.commitTime);return this.listener.Tr(n,e)}return Wd(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Qm(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Wm(e.R,t)})};this.cr(n)},e}(Qv),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Nu.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Gd(Zd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Zd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Gd(Zd.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Zd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Gd(Zd.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Wv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Qd(e),this.Vr=!1):$d("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Xv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Nu.mG)(o,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return ub(this)?($d("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return(e=Xd(t)).Or.add(4),[4,eb(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,tb(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Wv(n,r)};function tb(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:if(!ub(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function eb(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nb(t,e){var n=Xd(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),ab(n)?sb(n):Sb(n).er()&&ib(n,e))}function rb(t,e){var n=Xd(t),r=Sb(n);n.$r.delete(e),r.er()&&ob(n,e),0===n.$r.size&&(r.er()?r.ir():ub(n)&&n.Br.set("Unknown"))}function ib(t,e){t.qr.U(e.targetId),Sb(t).mr(e)}function ob(t,e){t.qr.U(e),Sb(t).yr(e)}function sb(t){t.qr=new Nm({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Sb(t).start(),t.Br.Sr()}function ab(t){return ub(t)&&!Sb(t).tr()&&t.$r.size>0}function ub(t){return 0===Xd(t).Or.size}function cb(t){t.qr=void 0}function lb(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){return t.$r.forEach(function(e,n){ib(t,e)}),[2]})})}function hb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(n){return cb(t),ab(t)?(t.Br.Nr(e),sb(t)):t.Br.set("Unknown"),[2]})})}function db(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Nu.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Dm&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Nu.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),$d("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,fb(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Am?t.qr.X(e):e instanceof km?t.qr.rt(e):t.qr.et(e),n.isEqual(af.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,sv(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(gf.EMPTY_BYTE_STRING,n.snapshotVersion)),ob(t,e);var r=new Wg(n.target,e,1,n.sequenceNumber);ib(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return $d("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,fb(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function fb(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r=this;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:if(!Zg(e))throw e;return t.Or.add(1),[4,eb(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return sv(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Nu.mG)(r,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return $d("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,tb(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function pb(t,e){return e().catch(function(n){return fb(t,n,e)})}function mb(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Nu.Jh)(this,function(s){switch(s.label){case 0:e=Xd(t),n=Eb(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return ub(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,cv(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Eb(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,fb(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return gb(e)&&yb(e),[2]}})})}function gb(t){return ub(t)&&!Eb(t).tr()&&t.kr.length>0}function yb(t){Eb(t).start()}function vb(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){return Eb(t).Ar(),[2]})})}function bb(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Nu.Jh)(this,function(i){for(e=Eb(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function wb(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Jg.from(r,e,n),[4,pb(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,mb(t)];case 2:return o.sent(),[2]}})})}function _b(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e&&Eb(t).pr?[4,function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return cm(r=e.code)&&r!==Zd.ABORTED?(n=t.kr.shift(),Eb(t).sr(),[4,pb(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,mb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return gb(t)&&yb(t),[2]}})})}function Tb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return n=Xd(t),e?(n.Or.delete(2),[4,tb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,eb(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Sb(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Xd(t);return r.br(),new Kv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:lb.bind(null,t),Ri:hb.bind(null,t),_r:db.bind(null,t)}),t.Mr.push(function(n){return(0,Nu.mG)(e,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),ab(t)?sb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),cb(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Eb(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Xd(t);return r.br(),new Yv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vb.bind(null,t),Ri:_b.bind(null,t),Ir:bb.bind(null,t),Tr:wb.bind(null,t)}),t.Mr.push(function(n){return(0,Nu.mG)(e,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,mb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&($d("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Cb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gd(Zd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function xb(t,e){if(Qd("AsyncQueue",e+": "+t),Zg(t))return new Gd(Zd.UNAVAILABLE,e+": "+t);throw t}var Ib=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||If.comparator(e.key,n.key)}:function(t,e){return If.comparator(t.key,e.key)},this.keyedMap=bm(),this.sortedSet=new hm(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ab=function(){function t(){this.Qr=new hm(If.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Jd():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),kb=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Ib.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Db=function(){this.Wr=void 0,this.listeners=[]},Ob=function(){this.queries=new Uy(function(t){return Sp(t)},Tp),this.onlineState="Unknown",this.Gr=new Set};function Nb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Nu.Jh)(this,function(c){switch(c.label){case 0:if(n=Xd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Db),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=xb(a,"Initialization of query '"+Ep(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Fb(n),[2]}})})}function Rb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nu.Jh)(this,function(a){return n=Xd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Pb(t,e){for(var n=Xd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Fb(n)}function Lb(t,e,n){var r=Xd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Fb(t){t.Gr.forEach(function(t){t.next()})}var Mb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new kb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=kb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Ub=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),qb=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return zm(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Jm(this.R,t.document,!1):Gf.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Vm(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new qb(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Sm()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return[4,gv(this.localStore,new qb(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,yv(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Wy(Object.assign({},this.progress),t))]}})})}}();var jb=function(t){this.key=t},Vb=function(t){this.key=t},Bb=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Sm(),this.mutatedKeys=Sm(),this.lo=xp(t),this.fo=new Ib(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ab,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=pp(this.query)&&i.size===this.query.limit?i.last():null,c=mp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Cp(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),pp(this.query)||mp(this.query))for(;s.size>this.query.limit;){var l=pp(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jd()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new kb(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ab,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Sm(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Vb(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new jb(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Sm();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return kb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Zb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Gb=function(t){this.key=t,this.bo=!1},zb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Uy(function(t){return Sp(t)},Tp),this.Vo=new Map,this.So=new Set,this.Do=new hm(If.comparator),this.Co=new Map,this.No=new bv,this.xo={},this.Fo=new Map,this.ko=xy.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Hb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:return n=_w(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,lv(n.localStore,wp(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,$b(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&nb(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function $b(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Nu.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,dv(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(sw(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,dv(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Bb(e,i.Bn),s=o._o(i.documents),a=Im.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),sw(t,n,u.To),c=new Zb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Qb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return n=Xd(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Tp(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,hv(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),rb(n.remoteStore,r.targetId),iw(n,r.targetId)}).catch(Oy)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return iw(n,r.targetId),[4,hv(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Kb(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:r=Tw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Xd(t),i=sf.now(),o=e.reduce(function(t,e){return t.add(e.key)},Sm());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Yp(c,n.get(c.key));null!=l&&s.push(new tm(c.key,l,Zf(l.value.mapValue),zp.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new hm(nf)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,cw(r,i.changes)];case 3:return a.sent(),[4,mb(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=xb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Yb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:n=Xd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,av(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Wd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Wd(r.bo):t.removedDocuments.size>0&&(Wd(r.bo),r.bo=!1))}),[4,cw(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Oy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Jb(t,e,n){var r=Xd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Xd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Fb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Wb(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Nu.Jh)(this,function(c){switch(c.label){case 0:return(r=Xd(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new hm(If.comparator)).insert(o,Gf.newNoDocument(o,af.min())),a=Sm().add(o),u=new xm(af.min(),new Map,new pm(nf),s,a),[4,Yb(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),uw(r),[3,4];case 2:return[4,hv(r.localStore,e,!1).then(function(){return iw(r,e,n)}).catch(Oy)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Xb(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:n=Xd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ov(n.localStore,e)];case 2:return i=o.sent(),rw(n,r,null),nw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,cw(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Oy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function tw(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:r=Xd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Xd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Wd(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),rw(r,e,n),nw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,cw(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Oy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ew(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:ub((n=Xd(t)).remoteStore)||$d("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Xd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=xb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function nw(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function rw(t,e,n){var r=Xd(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function iw(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||ow(t,e)})}function ow(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(rb(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),uw(t))}function sw(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof jb?(t.No.addReference(o.key,e),aw(t,o)):o instanceof Vb?($d("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||ow(t,o.key)):Jd()}}function aw(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||($d("SyncEngine","New document in limbo: "+n),t.So.add(r),uw(t))}function uw(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new If(df.fromString(e)),r=t.ko.next();t.Co.set(r,new Gb(n)),t.Do=t.Do.insert(n,r),nb(t.remoteStore,new Wg(wp(fp(n.path)),r,2,Bd.o))}}function cw(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:return r=Xd(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=tv.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Nu.Jh)(this,function(l){switch(l.label){case 0:n=Xd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ug.forEach(e,function(e){return Ug.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ug.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Zg(r=l.sent()))throw r;return $d("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function lw(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return(n=Xd(t)).currentUser.isEqual(e)?[3,3]:($d("SyncEngine","User change. New user:",e.toKey()),[4,iv(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Gd(Zd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,cw(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hw(t,e){var n=Xd(t),r=n.Co.get(e);if(r&&r.bo)return Sm().add(r.key);var i=Sm(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function dw(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return[4,dv((n=Xd(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&sw(n,e.targetId,i.To),i)]}})})}function fw(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){return[2,pv((e=Xd(t)).localStore).then(function(t){return cw(e,t)})]})})}function pw(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o;return(0,Nu.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Xd(t),r=Xd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ug.resolve(null)})})}((i=Xd(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,mb(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rw(i,e,r||null),nw(i,e),function(t,e){Xd(Xd(t)._n).Gt(e)}(i.localStore,e)):Jd(),s.label=4;case 4:return[4,cw(i,o)];case 5:return s.sent(),[3,7];case 6:$d("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function mw(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Nu.Jh)(this,function(c){switch(c.label){case 0:return _w(n=Xd(t)),Tw(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gw(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Tb(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)nb(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return iw(n,e),hv(n.localStore,e,!0)}),rb(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,gw(n,a)];case 5:return c.sent(),function(t){var e=Xd(t);e.Co.forEach(function(t,n){rb(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new hm(If.comparator)}(n),n.$o=!1,[4,Tb(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function gw(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return(0,Nu.Jh)(this,function(m){switch(m.label){case 0:n=Xd(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,lv(n.localStore,wp(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,dw(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,fv(n.localStore,a)];case 8:return p=m.sent(),[4,lv(n.localStore,p)];case 9:return u=m.sent(),[4,$b(n,yw(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function yw(t){return dp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function vw(t){var e=Xd(t);return Xd(Xd(e.localStore).persistence).fn()}function bw(t,e,n,r){return(0,Nu.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Nu.Jh)(this,function(a){switch(a.label){case 0:return(i=Xd(t)).$o?($d("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pv(i.localStore)];case 3:return o=a.sent(),s=xm.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,cw(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,hv(i.localStore,e,!0)];case 6:return a.sent(),iw(i,e,r),[3,8];case 7:Jd(),a.label=8;case 8:return[2]}})})}function ww(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Nu.Jh)(this,function(d){switch(d.label){case 0:if(!(r=_w(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?($d("SyncEngine","Adding an already active target "+s),[3,5]):[4,fv(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,lv(r.localStore,a)];case 3:return u=d.sent(),[4,$b(r,yw(a),u.targetId,!1)];case 4:d.sent(),nb(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,hv(r.localStore,t,!1).then(function(){rb(r.remoteStore,t),iw(r,t)}).catch(Oy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function _w(t){var e=Xd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wb.bind(null,e),e.vo._r=Pb.bind(null,e.eventManager),e.vo.Mo=Lb.bind(null,e.eventManager),e}function Tw(t){var e=Xd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tw.bind(null,e),e}var Sw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return this.R=Hv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return rv(this.persistence,new ev,t.initialUser,this.R)},t.prototype.qo=function(t){return new Cv(Iv.bs,this.R)},t.prototype.Bo=function(t){return new Uv},t.prototype.terminate=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Ew=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Nu.ZT)(e,t),e.prototype.initialize=function(e){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,mv(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Tw(this.Qo.syncEngine)];case 4:return n.sent(),[4,mb(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return rv(this.persistence,new ev,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Py(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Jy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vy.withCacheSize(this.cacheSizeBytes):vy.DEFAULT;return new Qy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Gv(),zv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Uv},e}(Sw),Cw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Nu.ZT)(e,t),e.prototype.initialize=function(e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Mv?(this.sharedClientState.syncEngine={ui:pw.bind(null,n),ai:bw.bind(null,n),hi:ww.bind(null,n),fn:vw.bind(null,n),ci:fw.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Nu.mG)(r,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return[4,mw(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Gv();if(!Mv.yt(e))throw new Gd(Zd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Jy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Mv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ew),xw=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n=this;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Jb(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lw.bind(null,this.syncEngine),[4,Tb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ob},t.prototype.createDatastore=function(t){var e=Hv(t.databaseInfo.databaseId),n=new Zv(t.databaseInfo);return function(t,e,n){return new Jv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Jb(s.syncEngine,t,0)},o=jv.yt()?new jv:new qv,new Xv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new zb(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e=Xd(t),$d("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,eb(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Iw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Aw=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Mg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ub(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Gd(Zd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Nu.Jh)(this,function(u){switch(u.label){case 0:return n=Xd(t),r=Qm(n.R)+"/documents",i={documents:e.map(function(t){return Gm(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Wd(!!e.found);var n=zm(t,e.found.name),r=Vm(e.found.updateTime),i=new Bf({mapValue:{fields:e.found.fields}});return Gf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Wd(!!e.missing),Wd(!!e.readTime);var n=zm(t,e.missing),r=Vm(e.readTime);return Gf.newNoDocument(n,r)}(t,e):Jd()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Wd(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new sm(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=If.fromPath(n);e.mutations.push(new am(r,e.precondition(r)))}),[4,function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return n=Xd(t),r=Qm(n.R)+"/documents",i={writes:e.map(function(t){return Wm(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Jd();e=af.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Gd(Zd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?zp.updateTime(e):zp.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(af.min()))throw new Gd(Zd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zp.updateTime(e)}return zp.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),kw=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new $v(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Nu.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Nu.Jh)(this,function(r){return t=new Aw(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ef(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!cm(e)}return!1},t}(),Dw=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Av.UNAUTHENTICATED,this.clientId=ef.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Nu.mG)(r,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return $d("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Gd(Zd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Mg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Nu.mG)(t,void 0,void 0,function(){var t,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=xb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Ow(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),$d("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Nu.mG)(i,void 0,void 0,function(){return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,iv(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Nw(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Rw(t)];case 1:return n=i.sent(),$d("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Nu.mG)(this,void 0,void 0,function(){var n,r;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return(n=Xd(t)).asyncQueue.verifyOperationInProgress(),$d("RemoteStore","RemoteStore received new credentials"),r=ub(n),n.Or.add(3),[4,eb(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,tb(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Rw(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:($d("FirestoreClient","Using default OfflineComponentProvider"),[4,Ow(t,new Sw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Pw(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:($d("FirestoreClient","Using default OnlineComponentProvider"),[4,Nw(t,new xw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Lw(t){return Rw(t).then(function(t){return t.persistence})}function Fw(t){return Rw(t).then(function(t){return t.localStore})}function Mw(t){return Pw(t).then(function(t){return t.remoteStore})}function Uw(t){return Pw(t).then(function(t){return t.syncEngine})}function qw(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return[4,Pw(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Hb.bind(null,e.syncEngine),n.onUnlisten=Qb.bind(null,e.syncEngine),n)]}})})}function jw(t,e,n){var r=this;void 0===n&&(n={});var i=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(r,void 0,void 0,function(){var r;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Iw({next:function(o){e.enqueueAndForget(function(){return Rb(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Gd(Zd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Gd(Zd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Mb(fp(n.path),o,{includeMetadataChanges:!0,so:!0});return Nb(t,s)},[4,qw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Vw(t,e,n){var r=this;void 0===n&&(n={});var i=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(r,void 0,void 0,function(){var r;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Iw({next:function(n){e.enqueueAndForget(function(){return Rb(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Gd(Zd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Mb(n,o,{includeMetadataChanges:!0,so:!0});return Nb(t,s)},[4,qw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Bw=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Zw=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gw=new Map,zw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Hw=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Av.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$w=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Qw=function(){function t(t){var e=this;this.currentUser=Av.UNAUTHENTICATED,this.oc=new Mg,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){$d("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):($d("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?($d("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Wd("string"==typeof n.accessToken),new zw(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Nu.mG)(n,void 0,void 0,function(){return(0,Nu.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Wd(null===t||"string"==typeof t),new Av(t)},t}(),Kw=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Av.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Yw=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Kw(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Av.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Jw(t,e,n){if(!n)throw new Gd(Zd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ww(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Xw(t,e,n,r){if(!0===e&&!0===r)throw new Gd(Zd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function t_(t){if(!If.isDocumentKey(t))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function e_(t){if(If.isDocumentKey(t))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function n_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Jd()}function r_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gd(Zd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=n_(t);throw new Gd(Zd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function i_(t,e){if(e<=0)throw new Gd(Zd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var o_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gd(Zd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gd(Zd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Xw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),s_=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1,t instanceof Zw?(this._databaseId=t,this._credentials=new Hw):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gd(Zd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zw(t.options.projectId)}(t),this._credentials=new Qw(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Gd(Zd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Gd(Zd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Hw;switch(t.type){case"gapi":var e=t.client;return Wd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yw(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Gd(Zd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Gw.get(this))&&($d("ComponentProvider","Removing Datastore"),Gw.delete(this),t.terminate()),Promise.resolve();var t},t}(),a_=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new c_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),u_=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),c_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fp(r))||this)._path=r,i.type="collection",i}return(0,Nu.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new a_(this.firestore,null,new If(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(u_);function l_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ru.m9)(t),Jw("collection","path",e),t instanceof s_)return e_(n=df.fromString.apply(df,(0,Nu.ev)([e],r))),new c_(t,null,n);if(!(t instanceof a_||t instanceof c_))throw new Gd(Zd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return e_(n=df.fromString.apply(df,(0,Nu.ev)([t.path],r)).child(df.fromString(e))),new c_(t.firestore,null,n)}function h_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ru.m9)(t),1===arguments.length&&(e=ef.u()),Jw("doc","path",e),t instanceof s_)return t_(n=df.fromString.apply(df,(0,Nu.ev)([e],r))),new a_(t,null,new If(n));if(!(t instanceof a_||t instanceof c_))throw new Gd(Zd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return t_(n=t._path.child(df.fromString.apply(df,(0,Nu.ev)([e],r)))),new a_(t.firestore,t instanceof c_?t.converter:null,new If(n))}function d_(t,e){return t=(0,Ru.m9)(t),e=(0,Ru.m9)(e),(t instanceof a_||t instanceof c_)&&(e instanceof a_||e instanceof c_)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function f_(t,e){return t=(0,Ru.m9)(t),e=(0,Ru.m9)(e),t instanceof u_&&e instanceof u_&&t.firestore===e.firestore&&Tp(t._query,e._query)&&t.converter===e.converter}var p_=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new $v(this,"async_queue_retry"),this.Ic=function(){var e=zv();e&&$d("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=zv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=zv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Mg;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Zg(t=n.sent()))throw t;return $d("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Qd("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Cb.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Jd()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Nu.mG)(this,void 0,void 0,function(){var t;return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function m_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Mg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var g_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new p_,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Nu.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||v_(this),this._firestoreClient.terminate()},e}(s_);function y_(t){return t._firestoreClient||v_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function v_(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Bw(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Dw(t._credentials,t._queue,r)}function b_(t,e,n){var r=this,i=new Mg;return t.asyncQueue.enqueue(function(){return(0,Nu.mG)(r,void 0,void 0,function(){var r;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Ow(t,n)];case 1:return o.sent(),[4,Nw(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zd.FAILED_PRECONDITION||t.code===Zd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function w_(t){if(t._initialized||t._terminated)throw new Gd(Zd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var __=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pf(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),T_=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(gf.fromBase64String(e))}catch(e){throw new Gd(Zd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(gf.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),S_=function(t){this._methodName=t},E_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gd(Zd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gd(Zd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return nf(this._lat,t._lat)||nf(this._long,t._long)},t}(),C_=/^__.*__$/,x_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new tm(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xp(t,this.data,e,this.fieldTransforms)},t}(),I_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new tm(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function A_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jd()}}var k_=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return K_(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(A_(this.Nc)&&C_.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),D_=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Hv(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new k_({Nc:t,methodName:e,qc:n,path:pf.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function O_(t){var e=t._freezeSettings(),n=Hv(t._databaseId);return new D_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);z_("Data must be an object, but it was:",s,r);var a,u,c=Z_(r,s);if(o.merge)a=new mf(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=H_(e,d[h],n);if(!s.contains(f))throw new Gd(Zd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Y_(l,f)||l.push(f)}a=new mf(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new x_(new Bf(c),a,u)}var R_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(S_);function P_(t,e,n){return new k_({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var L_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Zp(t.path,new Lp)},e.prototype.isEqual=function(t){return t instanceof e},e}(S_),F_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Nu.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=P_(this,t,!0),n=this.Kc.map(function(t){return B_(t,e)}),r=new Fp(n);return new Zp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(S_),M_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Nu.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=P_(this,t,!0),n=this.Kc.map(function(t){return B_(t,e)}),r=new Up(n);return new Zp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(S_),U_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Nu.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new jp(t.R,Dp(t.R,this.Qc));return new Zp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(S_);function q_(t,e,n,r){var i=t.Uc(1,e,n);z_("Data must be an object, but it was:",i,r);var o=[],s=Bf.empty();cf(r,function(t,r){var a=Q_(e,t,n);r=(0,Ru.m9)(r);var u=i.Oc(a);if(r instanceof R_)o.push(a);else{var c=B_(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new mf(o);return new I_(s,a,i.fieldTransforms)}function j_(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[H_(e,r,n)],u=[i];if(o.length%2!=0)throw new Gd(Zd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(H_(e,o[c])),u.push(o[c+1]);for(var l=[],h=Bf.empty(),d=a.length-1;d>=0;--d)if(!Y_(l,a[d])){var f=a[d],p=u[d];p=(0,Ru.m9)(p);var m=s.Oc(f);if(p instanceof R_)l.push(f);else{var g=B_(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new mf(l);return new I_(h,y,s.fieldTransforms)}function V_(t,e,n,r){return void 0===r&&(r=!1),B_(n,t.Uc(r?4:3,e))}function B_(t,e){if(G_(t=(0,Ru.m9)(t)))return z_("Unsupported field value:",e,t),Z_(t,e);if(t instanceof S_)return function(t,e){if(!A_(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=B_(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Ru.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dp(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=sf.fromDate(t);return{timestampValue:Um(e.R,n)}}if(t instanceof sf)return n=new sf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Um(e.R,n)};if(t instanceof E_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof T_)return{bytesValue:qm(e.R,t._byteString)};if(t instanceof a_){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Bm(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+n_(t))}(t,e)}function Z_(t,e){var n={};return lf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cf(t,function(t,r){var i=B_(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function G_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof sf||t instanceof E_||t instanceof T_||t instanceof a_||t instanceof S_)}function z_(t,e,n){if(!G_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=n_(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function H_(t,e,n){if((e=(0,Ru.m9)(e))instanceof __)return e._internalPath;if("string"==typeof e)return Q_(t,e);throw K_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var $_=new RegExp("[~\\*/\\[\\]]");function Q_(t,e,n){if(e.search($_)>=0)throw K_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(__.bind.apply(__,(0,Nu.ev)([void 0],e.split(".")))))._internalPath}catch(KT){throw K_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function K_(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Gd(Zd.INVALID_ARGUMENT,(a+=". ")+t+u)}function Y_(t,e){return t.some(function(t){return t.isEqual(e)})}var J_=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new a_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(X_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),W_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(J_);function X_(t,e){return"string"==typeof e?Q_(t,e):e instanceof __?e._internalPath:e._delegate._internalPath}var tT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),eT=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Nu.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new nT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(X_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(J_),nT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(eT),rT=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new nT(n._firestore,n._userDataWriter,r.key,r,new tT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gd(Zd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new nT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new nT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:iT(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function iT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jd()}}function oT(t,e){return t instanceof eT&&e instanceof eT?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof rT&&e instanceof rT&&t._firestore===e._firestore&&f_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function sT(t){if(mp(t)&&0===t.explicitOrderBy.length)throw new Gd(Zd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aT=function(){};function uT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var cT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Nu.ZT)(e,t),e.prototype._apply=function(t){var e=O_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){gT(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(mT(r,t,l[c]));a={arrayValue:{values:u}}}else a=mT(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gT(s,o),a=V_(n,"where",s,"in"===o||"not-in"===o);var h=Yf.create(i,o,a);return function(t,e){if(e.g()){var n=yp(t);if(null!==n&&!n.isEqual(e.field))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=gp(t);null!==r&&yT(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Gd(Zd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new u_(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(aT),lT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Nu.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ap(e,n);return function(t,e){if(null===gp(t)){var n=yp(t);null!==n&&yT(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new u_(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new hp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(aT),hT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Nu.ZT)(e,t),e.prototype._apply=function(t){return new u_(t.firestore,t.converter,_p(t._query,this.Hc,this.Jc))},e}(aT),dT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Nu.ZT)(e,t),e.prototype._apply=function(t){var e=pT(t,this.type,this.Yc,this.Xc);return new u_(t.firestore,t.converter,function(t,e){return new hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(aT),fT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Nu.ZT)(e,t),e.prototype._apply=function(t){var e=pT(t,this.type,this.Yc,this.Xc);return new u_(t.firestore,t.converter,function(t,e){return new hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(aT);function pT(t,e,n,r){if(n[0]=(0,Ru.m9)(n[0]),n[0]instanceof J_)return function(t,e,n,r,i){if(!r)throw new Gd(Zd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=bp(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Lf(e,r.key));else{var c=r.data.field(u.field);if(_f(c))throw new Gd(Zd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new op(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=O_(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Gd(Zd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!vp(t)&&-1!==c.indexOf("/"))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(df.fromString(c));if(!If.isDocumentKey(l))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new If(l);a.push(Lf(e,h))}else{var d=V_(n,r,c);a.push(d)}}return new op(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function mT(t,e,n){if("string"==typeof(n=(0,Ru.m9)(n))){if(""===n)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(e)&&-1!==n.indexOf("/"))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(df.fromString(n));if(!If.isDocumentKey(r))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Lf(t,new If(r))}if(n instanceof a_)return Lf(t,n._key);throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+n_(n)+".")}function gT(t,e){if(!Array.isArray(t)||0===t.length)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function yT(t,e,n){if(!n.isEqual(e))throw new Gd(Zd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var vT=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Af(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Jd()}},t.prototype.convertObject=function(t,e){var n=this,r={};return cf(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new E_(bf(t.latitude),bf(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Tf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Sf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vf(t);return new sf(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=df.fromString(t);Wd(fg(n));var r=new Zw(n.get(1),n.get(3)),i=new If(n.popFirst(5));return r.isEqual(e)||Qd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function bT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var wT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nu.ZT)(e,t),e.prototype.convertBytes=function(t){return new T_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new a_(this.firestore,null,e)},e}(vT),_T=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=O_(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=TT(t,this._firestore),i=bT(r.converter,e,n),o=N_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,zp.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=TT(t,this._firestore);return o="string"==typeof(e=(0,Ru.m9)(e))||e instanceof __?j_(this._dataReader,"WriteBatch.update",s._key,e,n,r):q_(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,zp.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=TT(t,this._firestore);return this._mutations=this._mutations.concat(new sm(e._key,zp.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Gd(Zd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function TT(t,e){if((t=(0,Ru.m9)(t)).firestore!==e)throw new Gd(Zd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ST=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nu.ZT)(e,t),e.prototype.convertBytes=function(t){return new T_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new a_(this.firestore,null,e)},e}(vT);function ET(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=r_(t,a_);var o=r_(t.firestore,g_),s=O_(o);return xT(o,[("string"==typeof(e=(0,Ru.m9)(e))||e instanceof __?j_(s,"updateDoc",t._key,e,n,r):q_(s,"updateDoc",t._key,e)).toMutation(t._key,zp.exists(!0))])}function CT(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Ru.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||m_(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(m_(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof a_)c=r_(t.firestore,g_),l=fp(t._key.path),u={next:function(e){i[a]&&i[a](IT(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=r_(t,u_);c=r_(f.firestore,g_),l=f._query;var p=new ST(c);u={next:function(t){i[a]&&i[a](new rT(c,p,f,t))},error:i[a+1],complete:i[a+2]},sT(t._query)}return function(t,e,n,r){var i=this,o=new Iw(r),s=new Mb(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(i,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e=Nb,[4,qw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(i,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e=Rb,[4,qw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(y_(c),l,h,u)}function xT(t,e){return function(t,e){var n=this,r=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var n;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return n=Kb,[4,Uw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(y_(t),e)}function IT(t,e,n){var r=n.docs.get(e._key),i=new ST(t);return new eT(t,i,e._key,r,new tT(n.hasPendingWrites,n.fromCache),e.converter)}var AT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Nu.ZT)(e,t),e.prototype.get=function(e){var n=this,r=TT(e,this._firestore),i=new ST(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new eT(n._firestore,i,r._key,t._document,new tT(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=O_(t)}return t.prototype.get=function(t){var e=this,n=TT(t,this._firestore),r=new wT(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Jd();var i=t[0];if(i.isFoundDocument())return new J_(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new J_(e._firestore,r,n._key,null,n.converter);throw Jd()})},t.prototype.set=function(t,e,n){var r=TT(t,this._firestore),i=bT(r.converter,e,n),o=N_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=TT(t,this._firestore);return o="string"==typeof(e=(0,Ru.m9)(e))||e instanceof __?j_(this._dataReader,"Transaction.update",s._key,e,n,r):q_(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=TT(t,this._firestore);return this._transaction.delete(e._key),this},t}());function kT(){if("undefined"==typeof Uint8Array)throw new Gd(Zd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DT(){if("undefined"==typeof atob)throw new Gd(Zd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var OT=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return DT(),new t(T_.fromBase64String(e))},t.fromUint8Array=function(e){return kT(),new t(T_.fromUint8Array(e))},t.prototype.toBase64=function(){return DT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return kT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),NT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){w_(t=r_(t,g_));var n=y_(t),r=t._freezeSettings(),i=new xw;return b_(n,i,new Ew(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){w_(t=r_(t,g_));var e=y_(t),n=t._freezeSettings(),r=new xw;return b_(e,r,new Cw(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Gd(Zd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Mg;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Nu.mG)(e,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Nu.mG)(this,void 0,void 0,function(){return(0,Nu.Jh)(this,function(e){switch(e.label){case 0:return jg.yt()?[4,jg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Jy(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),RT=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Zw||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Kd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=r_(t,s_))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Kd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Ru.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gd(Zd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new $w(new zw(o,new Av(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Nu.mG)(e,void 0,void 0,function(){var e,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return[4,Lw(t)];case 1:return e=r.sent(),[4,Mw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Xd(t);return e.Or.delete(0),tb(e)}(n))]}})})})}(y_(r_(this._delegate,g_)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Nu.mG)(e,void 0,void 0,function(){var e,n;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return[4,Lw(t)];case 1:return e=r.sent(),[4,Mw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Nu.mG)(this,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return(e=Xd(t)).Or.add(0),[4,eb(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(y_(r_(this._delegate,g_)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Xw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(e,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(r){switch(r.label){case 0:return e=ew,[4,Uw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(y_(r_(this._delegate,g_)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Iw(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xd(t).Gr.add(e),e.next()},[4,qw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var e;return(0,Nu.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Xd(t).Gr.delete(e)},[4,qw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(y_(t=r_(t,g_)),m_(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Gd(Zd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $T(this,l_(this._delegate,t))}catch(t){throw qT(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new UT(this,h_(this._delegate,t))}catch(t){throw qT(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new GT(this,function(t,e){if(t=r_(t,s_),Jw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new u_(t,null,function(t){return new hp(df.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw qT(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var n;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Pw(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new kw(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(y_(t),function(n){return e(new AT(t,n))})}(this._delegate,function(n){return t(new LT(e,n))})},t.prototype.batch=function(){var t=this;return y_(this._delegate),new FT(new _T(this._delegate,function(e){return xT(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Gd(Zd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Gd(Zd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),PT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Nu.ZT)(e,t),e.prototype.convertBytes=function(t){return new OT(new T_(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return UT.eu(e,this.firestore,null)},e}(vT),LT=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new PT(t)}return t.prototype.get=function(t){var e=this,n=QT(t);return this._delegate.get(n).then(function(t){return new BT(e._firestore,new eT(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=QT(t);return n?(Ww("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=QT(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Nu.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=QT(t);return this._delegate.delete(e),this},t}(),FT=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=QT(t);return n?(Ww("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=QT(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Nu.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=QT(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),MT=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new nT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ZT(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new PT(e),n),i.set(n,o)),o},t}();MT.su=new WeakMap;var UT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new PT(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Gd(Zd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new a_(n._delegate,r,new If(e)))},t.eu=function(e,n,r){return new t(n,new a_(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $T(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new $T(this.firestore,l_(this._delegate,t))}catch(t){throw qT(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Ru.m9)(t))instanceof a_&&d_(this._delegate,t)},t.prototype.set=function(t,e){e=Ww("DocumentReference.set",e);try{return function(t,e,n){t=r_(t,a_);var r=r_(t.firestore,g_),i=bT(t.converter,e,n);return xT(r,[N_(O_(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,zp.none())])}(this._delegate,t,e)}catch(t){throw qT(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?ET(this._delegate,t):ET.apply(void 0,(0,Nu.ev)([this._delegate,t,e],n))}catch(t){throw qT(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return xT(r_((t=this._delegate).firestore,g_),[new sm(t._key,zp.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jT(e),i=VT(e,function(e){return new BT(t.firestore,new eT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return CT(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=r_(t,a_);var e=r_(t.firestore,g_),n=y_(e),r=new ST(e);return function(t,e){var n=this,r=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var n;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i;return(0,Nu.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Xd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Gd(Zd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=xb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Fw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new eT(e,r,t._key,n,new tT(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=r_(t,a_);var e=r_(t.firestore,g_);return jw(y_(e),t._key,{source:"server"}).then(function(n){return IT(e,t,n)})}(this._delegate):function(t){t=r_(t,a_);var e=r_(t.firestore,g_);return jw(y_(e),t._key).then(function(n){return IT(e,t,n)})}(this._delegate)).then(function(t){return new BT(e.firestore,new eT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?MT.nu(this.firestore,e):null))},t}();function qT(t,e,n){return t.message=t.message.replace(e,n),t}function jT(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!m_(r))return r}return{}}function VT(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=m_(t[0])?t[0]:m_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var BT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new UT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return oT(this._delegate,t._delegate)},t}(),ZT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Nu.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(BT),GT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new PT(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,uT(this._delegate,function(t,e,n){var r=e,i=X_("where",t);return new cT(i,r,n)}(e,n,r)))}catch(e){throw qT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,uT(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=X_("orderBy",t);return new lT(r,n)}(e,n)))}catch(e){throw qT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,uT(this._delegate,function(t){return i_("limit",t),new hT("limit",t,"F")}(e)))}catch(e){throw qT(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,uT(this._delegate,function(t){return i_("limitToLast",t),new hT("limitToLast",t,"L")}(e)))}catch(e){throw qT(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dT("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw qT(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dT("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw qT(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fT("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw qT(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,uT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fT("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw qT(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return f_(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=r_(t,u_);var e=r_(t.firestore,g_),n=y_(e),r=new ST(e);return function(t,e){var n=this,r=new Mg;return t.asyncQueue.enqueueAndForget(function(){return(0,Nu.mG)(n,void 0,void 0,function(){var n;return(0,Nu.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Nu.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Nu.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,dv(t,e,!0)];case 1:return a=u.sent(),r=new Bb(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=xb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Fw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new rT(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=r_(t,u_);var e=r_(t.firestore,g_),n=y_(e),r=new ST(e);return Vw(n,t._query,{source:"server"}).then(function(n){return new rT(e,r,t,n)})}(this._delegate):function(t){t=r_(t,u_);var e=r_(t.firestore,g_),n=y_(e),r=new ST(e);return sT(t._query),Vw(n,t._query).then(function(n){return new rT(e,r,t,n)})}(this._delegate)).then(function(t){return new HT(e.firestore,new rT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jT(e),i=VT(e,function(e){return new HT(t.firestore,new rT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return CT(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?MT.nu(this.firestore,e):null))},t}(),zT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ZT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),HT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new GT(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ZT(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new zT(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ZT(n._firestore,r))})},t.prototype.isEqual=function(t){return oT(this._delegate,t._delegate)},t}(),$T=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Nu.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new UT(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new UT(this.firestore,void 0===t?h_(this._delegate):h_(this._delegate,t))}catch(t){throw qT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=r_(t.firestore,g_),r=h_(t),i=bT(t.converter,e);return xT(n,[N_(O_(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,zp.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new UT(e.firestore,t)})},e.prototype.isEqual=function(t){return d_(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?MT.nu(this.firestore,t):null))},e}(GT);function QT(t){return r_(t,a_)}var KT,YT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(__.bind.apply(__,(0,Nu.ev)([void 0],t)))}return t.documentId=function(){return new t(pf.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Ru.m9)(t))instanceof __&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),JT=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new L_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new R_("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new F_("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new M_("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new U_("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),WT=n(16034),XT={Firestore:RT,GeoPoint:E_,Timestamp:sf,Blob:OT,Transaction:LT,WriteBatch:FT,DocumentReference:UT,DocumentSnapshot:BT,Query:GT,QueryDocumentSnapshot:ZT,QuerySnapshot:HT,CollectionReference:$T,FieldPath:YT,FieldValue:JT,setLogLevel:function(t){zd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new WT.wA("firestore",function(t){return function(t,e){return new RT(t,new g_(t,e),new NT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},XT)))})(KT=Ou.Z),KT.registerVersion("@firebase/firestore","2.3.10");var tS=n(66682),eS=n(57771),nS=n(78858);class rS extends It.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new iS(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new At.N;if(this.isStopped||this.hasError?o=Qr.w.EMPTY:(this.observers.push(t),o=new nS.W(this,t)),r&&t.add(t=new ku.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||eS.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class iS{constructor(t,e){this.time=t,this.value=e}}function oS(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new rS(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function sS(t,e){return e?Xi(()=>t,e):Xi(()=>t)}var aS=n(82639);const uS=new r.OlP("angularfire2.auth.use-emulator"),cS=new r.OlP("angularfire2.auth.settings"),lS=new r.OlP("angularfire2.auth.tenant-id"),hS=new r.OlP("angularfire2.auth.langugage-code"),dS=new r.OlP("angularfire2.auth.use-device-language"),fS=new r.OlP("angularfire.auth.persistence");let pS=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Du.HU(i),d=(0,Du.ss)(h),f=new It.xQ,p=(0,Dt.of)(void 0).pipe((0,ku.QV)(h.outsideAngular),Xi(()=>i.runOutsideAngular(()=>n.e(336).then(n.bind(n,81336)))),(0,Gr.U)(()=>(0,Du.on)(t,i,e)),(0,Gr.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Du.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),oS({bufferSize:1,refCount:!1}));if(U(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Dt.of)(null);else{p.pipe(vo()).subscribe();const t=p.pipe(Xi(t=>t.getRedirectResult().then(t=>t,()=>null)),d,oS({bufferSize:1,refCount:!1})),e=t=>new Ht.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Xi(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Xi(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(sS(n),(0,aS.R)(h.outsideAngular),(0,ku.QV)(h.insideAngular)),this.user=t.pipe(sS(r),(0,aS.R)(h.outsideAngular),(0,ku.QV)(h.insideAngular)),this.idToken=this.user.pipe(Xi(t=>t?(0,Hr.D)(t.getIdToken()):(0,Dt.of)(null))),this.idTokenResult=this.user.pipe(Xi(t=>t?(0,Hr.D)(t.getIdTokenResult()):(0,Dt.of)(null))),this.credential=(0,tS.T)(t,f,this.authState.pipe(ri(t=>!t))).pipe((0,Gr.U)(t=>(null==t?void 0:t.user)?t:null),(0,aS.R)(h.outsideAngular),(0,ku.QV)(h.insideAngular))}return(0,Du.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Du.Dh),r.LFG(Du.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(uS,8),r.LFG(cS,8),r.LFG(lS,8),r.LFG(hS,8),r.LFG(dS,8),r.LFG(fS,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Du.Dh),r.LFG(Du.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(uS,8),r.LFG(cS,8),r.LFG(lS,8),r.LFG(hS,8),r.LFG(dS,8),r.LFG(fS,8))},token:t,providedIn:"any"}),t})();function mS(t,e){return function(t,e=$t.z){return new Ht.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function gS(t,e){return mS(t,e).pipe((0,Gr.U)(t=>({payload:t,type:"query"})))}function yS(t,e){return gS(t,e).pipe(no(void 0),xu(),(0,Gr.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function vS(t,e,n){return yS(t,n).pipe(ro((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return bS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return bS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Mt(),(0,Gr.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function bS(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function wS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class _S{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=yS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Gr.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(no(void 0),xu(),ri(([t,e])=>e.length>0||!t),(0,Gr.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ro((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wS(t);return vS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return gS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gr.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Hr.D)(this.query.get(t)).pipe((0,ku.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new TS(this.ref.doc(t),this.afs)}}class TS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=AS(n,e);return new _S(r,i,this.afs)}snapshotChanges(){return mS(this.ref,this.afs.schedulers.outsideAngular).pipe(no(void 0),xu(),(0,Gr.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Gr.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Hr.D)(this.ref.get(t)).pipe((0,ku.QV)(this.afs.schedulers.insideAngular))}}class SS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gr.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ri(t=>t.length>0),this.afs.keepUnstableUntilFirst):yS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ro((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=wS(t);return vS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return gS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gr.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Hr.D)(this.query.get(t)).pipe((0,ku.QV)(this.afs.schedulers.insideAngular))}}const ES=new r.OlP("angularfire2.enableFirestorePersistence"),CS=new r.OlP("angularfire2.firestore.persistenceSettings"),xS=new r.OlP("angularfire2.firestore.settings"),IS=new r.OlP("angularfire2.firestore.use-emulator");function AS(t,e=(t=>t)){return{query:e(t),ref:t}}let kS=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Du.HU(o),this.keepUnstableUntilFirst=(0,Du.ss)(this.schedulers);const c=(0,Du.on)(t,o,e);!Tu.Z.auth&&u&&(0,Du.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Du.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!U(i)){const e=()=>{try{return(0,Hr.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(KT){return"undefined"!=typeof console&&console.warn(KT),(0,Dt.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,Dt.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=AS(n,e),o=this.schedulers.ngZone.run(()=>r);return new _S(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new SS(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new TS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Du.Dh),r.LFG(Du.xv,8),r.LFG(ES,8),r.LFG(xS,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(CS,8),r.LFG(IS,8),r.LFG(uS,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Du.Dh),r.LFG(Du.xv,8),r.LFG(ES,8),r.LFG(xS,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(CS,8),r.LFG(IS,8),r.LFG(uS,8))},token:t,providedIn:"any"}),t})(),DS=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:ES,useValue:!0},{provide:CS,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[kS]}),t})(),OS=(()=>{class t{constructor(t,e,n){this.platformID=t,this.db=e,this.auth=n}getCountries(){bu.availableCurrencies=[];let t=this.db.collection("Print_Info").doc("Shipping_Info").valueChanges().subscribe(e=>{const n=e,r=Math.round(100*n.shipping_rate_us),i=Math.round(100*n.shipping_rate_canada),o=Math.round(100*n.shipping_rate_intl);n.supportedCurrencies.forEach(t=>{const e=t.country,n=new mu(e,t.flag,t.country_full,t.name,t.symbol,t.rate,t.is_main_currency,0);"CA"==e?n.shipping_rate_usd=i:"US"==e?(n.shipping_rate_usd=r,bu.selectedCurrency=n):n.shipping_rate_usd=o,bu.availableCurrencies.push(n)}),console.log("countries loaded"),bu.availableCurrencies.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),this.myCallback&&this.myCallback(),M(this.platformID)&&t.unsubscribe()})}getUser(t){console.log("starting");let e=this.db.collection("Users",e=>e.where("Username","==",t)).valueChanges({idField:"UID"}).subscribe(t=>{var n,r,i,o,s,a,u,c;let l=t[0];if(l){let t=l.UID;console.log(t);let h=l.ProfilePicID,d=l.Username,f=l.Full_Name,p=l.Bio,m=l["Notification ID"],g=null!==(n=l.Following_List)&&void 0!==n?n:[],y=null!==(r=l.Users_Blocking)&&void 0!==r?r:[],v=null!==(i=l.Followers_Count)&&void 0!==i?i:0,b=null!==(o=l.Following_Count)&&void 0!==o?o:0,w=null!==(s=l.Posts_Count)&&void 0!==s?s:0,_=null!==(a=l.Verified)&&void 0!==a&&a,T=null!==(u=l.Post_Notifications)&&void 0!==u?u:[],S=null===(c=l.Public)||void 0===c||c,E=l.Slogan;bu.storeInfo.uid=t,bu.storeInfo.dpID=h,bu.storeInfo.username=d,bu.storeInfo.fullName=f,bu.storeInfo.bio=p,bu.storeInfo.notifID=m,bu.storeInfo.userFollowing=g,bu.storeInfo.usersBlocking=y,bu.storeInfo.followerCount=v,bu.storeInfo.followingCount=b,bu.storeInfo.postCount=w,bu.storeInfo.verified=_,bu.storeInfo.postNotifsList=T,bu.storeInfo.isPublic=S,bu.storeInfo.profileLink=new URL(this.getProfileURL(t,h)),bu.storeInfo.slogan=E,console.log("store info loaded"),this.myCallback&&this.myCallback(),M(this.platformID)&&e.unsubscribe()}})}getPosts(t){bu.products=[];const e=Tu.Z.firestore.Timestamp.now();console.log(bu.storeInfo.uid);var n=this.db.collection("Users/"+bu.storeInfo.uid+"/Products",t=>t.where("Timestamp","<=",e).where("Has_Picture","==",!0).where("Available","==",!0).where("Public","==",!0).orderBy("Timestamp","desc"));t&&(n=this.db.collection("Users/"+bu.storeInfo.uid+"/Products",n=>n.where("Timestamp","<=",e).where("Type","==",t).where("Available","==",!0).where("Public","==",!0).orderBy("Timestamp","desc")));let r=n.valueChanges().subscribe(e=>{e.forEach(t=>{var e,n,r,i;let o=t;if(o){let t=o.UID,s=o.Product_ID,a=o.Timestamp.toDate(),u=null===(e=o.Public)||void 0===e||e,c=null!==(n=o.Type)&&void 0!==n?n:"ATC1000",l=null!==(r=o.Side)&&void 0!==r?r:"front",h=null!==(i=o.Sides)&&void 0!==i?i:["Front"],d=new gu(t,s,o.Description,s,a,"",o.Blurred,o.Price_Cents,o.Name,o.Template_Color,o.Likes,!1,o.Comments,!0,u,c,l,h,this.getURL(t,s));bu.products.push(d)}}),t||(bu.availableTemplates=this.getTemplatesFiltered()),console.log("products loaded"),this.myCallback&&this.myCallback(),M(this.platformID)&&r.unsubscribe()})}getBlogs(t){bu.blogs=[];const e=Tu.Z.firestore.Timestamp.now();console.log(bu.storeInfo.uid);let n=this.db.collection("Users/"+bu.storeInfo.uid+"/Blogs",t=>t.where("Timestamp","<=",e).where("isAvailable","==",!0).orderBy("Timestamp","desc")).valueChanges({idField:"Blog_ID"}).subscribe(t=>{t.forEach(t=>{let e=t;if(e){let t=e.UID,n=e.Title,r=e.Timestamp.toDate(),i=new vu(t,r,"",e.isAvailable,n,e.Blog_Items,e.Blog_ID,e.Cover_URL);bu.blogs.push(i)}}),console.log("blogs loaded"),this.myCallback&&this.myCallback(),M(this.platformID)&&n.unsubscribe()})}getBlog(t){let e=this.db.collectionGroup("Blogs",e=>e.where("Blog_ID","==",t)).valueChanges().subscribe(t=>{bu.selectedBlog=void 0,t.forEach(t=>{const e=t;if(e){let t=e.UID,n=e.Title,r=e.Timestamp.toDate(),i=new vu(t,r,"",e.isAvailable,n,e.Blog_Items,e.Blog_ID,e.Cover_URL);bu.selectedBlog=i}}),this.myCallback&&this.myCallback(),M(this.platformID)&&e.unsubscribe()})}addToCart(t){var e=this;return _u(function*(){var n;let r=null===(n=yield e.isLoggedIn())||void 0===n?void 0:n.uid;console.log(r);let i={Cart_List:Tu.Z.firestore.FieldValue.arrayUnion(t)};const o=bu.storeInfo.uid;o&&r&&(yield e.db.collection("Users/"+r+"/Cart_Info").doc("Cart_List_"+o).set(i,{merge:!0}))})()}changeCart(t){var e=this;return _u(function*(){var n;let r=null===(n=yield e.isLoggedIn())||void 0===n?void 0:n.uid;console.log(r);let i={Cart_List:t};const o=bu.storeInfo.uid;o&&r&&(yield e.db.collection("Users/"+r+"/Cart_Info").doc("Cart_List_"+o).set(i))})()}signOut(){this.auth.signOut()}isLoggedIn(){return this.auth.authState.pipe(vo()).toPromise()}registerAccount(t,e){t?this.auth.signInAnonymously().then(()=>{this.myCallback&&this.myCallback()}).catch(t=>{}):this.myCallback&&this.myCallback()}authenticated(){var t=this;return _u(function*(){return!!(yield t.isLoggedIn())})()}getCart(){var t=this;return _u(function*(){const e=(yield t.isLoggedIn()).uid,n=bu.storeInfo.uid;if(!n)return;console.log(e);let r=t.db.collection("Users/"+e+"/Cart_Info").doc("Cart_List_"+n).valueChanges().subscribe(e=>{bu.cart=[],e&&e.Cart_List.forEach((e,n)=>{var r;let i=e.UID,o=e.Size,s=e.Qty,a=e.Timestamp.toDate(),u=e.Post_ID,c=new gu(i,u,void 0,u,a,void 0,void 0,void 0,void 0,void 0,void 0,!1,void 0,!0,void 0,void 0,void 0,[],t.getURL(i,u)),l=new Cu(c,o,s,!1,a,"",void 0);null===(r=bu.cart)||void 0===r||r.push(l),console.log(n),t.getPost(u,!0,n)}),t.myCallback&&t.myCallback(),M(t.platformID)&&r.unsubscribe()})})()}getPost(t,e,n){let r=this.db.collectionGroup("Products",e=>e.where("Product_ID","==",t)).valueChanges().subscribe(t=>{t.forEach(t=>{var r,i,o,s;const a=t;if(a){let t=a.UID,u=a.Product_ID,c=a.Timestamp.toDate(),l=null===(r=a.Public)||void 0===r||r,h=null!==(i=a.Type)&&void 0!==i?i:"ATC1000",d=null!==(o=a.Side)&&void 0!==o?o:"front",f=null!==(s=a.Sides)&&void 0!==s?s:["Front"],p=new gu(t,u,a.Description,u,c,"",a.Blurred,a.Price_Cents,a.Name,a.Template_Color,a.Likes,!1,a.Comments,!0,l,h,d,f,this.getURL(t,u));null!=e&&e?bu.cart[n].product=p:(bu.selectedProduct=void 0,bu.selectedProduct=p,this.myCallback&&this.myCallback())}}),M(this.platformID)&&r.unsubscribe()})}getTemplatesFiltered(){return bu.templates.filter(t=>bu.products.some(e=>e.productType===t.productCode))}getURL(t,e){return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F"+t+"%2FProducts%2F"+e+"%2Flink_"+e+".png?alt=media"}getProfileURL(t,e){return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F"+t+"%2Fprofile_pic-"+e+".jpeg?alt=media"}getAltURL(){return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media"}getTemplate(t){bu.selectedTemplate=void 0;let e=this.db.collection("Templates",e=>e.where("Code","==",t).orderBy("index","asc")).valueChanges({idField:"TemplateID"}).subscribe(t=>{t.forEach(t=>{if(t){let e=t.Supported_Sides;if(!e||0==e.length)return;let n=t.Colors;const r=new yu(t.TemplateID,t.Display_Name,t.Info,[],t.Sizes,t.Min_Price_USD,t.Code,t.category,t.More_info,!1,[],t.Extra_Cost_USD,t.has3D);e.forEach(t=>{var e;let n=null!==(e=t.useReverseAspect)&&void 0!==e&&e,i=new Su(t.Name,t.HeightCM,t.WidthCM,t.WidthMultiplier,t.CenterYConst,t.CenterXConst,n,t.Rotation);r.supportedSides.push(i)}),n.forEach(t=>{let e=new Eu(t.Code,t.Display,t.RGB,t.IMG,t.IMG_BACK);r.colors.push(e)}),bu.selectedTemplate=r}}),console.log("templates loaded"),this.myCallback&&this.myCallback(),M(this.platformID)&&e.unsubscribe()})}getTemplates(){bu.templates=[];let t=this.db.collection("Templates",t=>t.orderBy("index","asc")).valueChanges({idField:"TemplateID"}).subscribe(e=>{e.forEach(t=>{if(t){let e=t.Supported_Sides;if(!e||0==e.length)return;let n=t.Colors;const r=new yu(t.TemplateID,t.Display_Name,t.Info,[],t.Sizes,t.Min_Price_USD,t.Code,t.category,t.More_info,!1,[],t.Extra_Cost_USD,t.has3D);e.forEach(t=>{var e;let n=null!==(e=t.useReverseAspect)&&void 0!==e&&e,i=new Su(t.Name,t.HeightCM,t.WidthCM,t.WidthMultiplier,t.CenterYConst,t.CenterXConst,n,t.Rotation);r.supportedSides.push(i)}),n.forEach(t=>{let e=new Eu(t.Code,t.Display,t.RGB,t.IMG,t.IMG_BACK);r.colors.push(e)}),bu.templates.push(r)}}),console.log("templates loaded"),this.myCallback&&this.myCallback(),M(this.platformID)&&t.unsubscribe()})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi),r.LFG(kS),r.LFG(pS))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NS(t,e){if(1&t&&(r.TgZ(0,"header",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"p",6),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(4),r.hij(" ",t.storeInfo().slogan," ")}}function RS(t,e){if(1&t&&(r.TgZ(0,"div",15),r.TgZ(1,"div",16),r._UZ(2,"img",17),r.TgZ(3,"div",18),r.TgZ(4,"div",19),r.TgZ(5,"h5",20),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",21),r.TgZ(8,"div",19),r.TgZ(9,"a",22),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.xp6(2),r.s9C("src",t.url,r.LSH),r.xp6(4),r.Oqu(t.name),r.xp6(3),r.hYB("href","/",n.storeInfo().username,"/products/",t.productID,"",r.LSH),r.xp6(1),r.Oqu(n.formatPrice(t.price/100))}}function PS(t,e){if(1&t&&(r.TgZ(0,"div",15),r.TgZ(1,"div",16),r._UZ(2,"img",17),r.TgZ(3,"div",18),r.TgZ(4,"div",19),r.TgZ(5,"h5",20),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",21),r.TgZ(8,"div",19),r.TgZ(9,"a",22),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.xp6(2),r.s9C("src",t.url,r.LSH),r.xp6(4),r.Oqu(t.name),r.xp6(3),r.hYB("href","/",n.storeInfo().username,"/products/",t.productID,"",r.LSH),r.xp6(1),r.Oqu(n.formatPrice(t.price/100))}}function LS(t,e){if(1&t&&(r.TgZ(0,"section",7),r.TgZ(1,"div",8),r.TgZ(2,"div",9),r.TgZ(3,"p",10),r._uU(4," NEW ARRIVALS "),r.qZA(),r.qZA(),r.TgZ(5,"div",11),r.YNc(6,RS,11,5,"div",12),r.qZA(),r.TgZ(7,"div",13),r.TgZ(8,"p",10),r._uU(9," FEATURED "),r.qZA(),r.qZA(),r.TgZ(10,"div",14),r.YNc(11,PS,11,5,"div",12),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(6),r.Q6J("ngForOf",t.newArrivalProducts()),r.xp6(5),r.Q6J("ngForOf",t.featuredProducts())}}function FS(t,e){if(1&t&&(r.TgZ(0,"footer",23),r.TgZ(1,"div",24),r.TgZ(2,"p",25),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",24),r.TgZ(5,"p",25),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(3),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021")}}let MS=(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}newArrivalProducts(){return bu.products.sort(function(t,e){return t.timestamp>e.timestamp?-1:t.timestamp<e.timestamp?1:0}).slice(0,4)}featuredProducts(){return bu.products.sort(function(t,e){return t.likes>e.likes?-1:t.likes<e.likes?1:0}).slice(0,4)}selectedProduct(){return bu.selectedProduct}ngOnInit(){this.init()}callback(){var t,e,n;bu.storeInfo.uid&&(this.addTags(null!==(t=bu.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=bu.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(n=bu.storeInfo.bio)&&void 0!==n?n:"Check out my Thred Store!","shopmythred.com/"+bu.storeInfo.username),0==bu.availableCurrencies.length&&M(this.platformID)?this.loadService.getCountries():0==bu.templates.length&&M(this.platformID)?this.loadService.getTemplates():0==bu.products.length&&M(this.platformID)?this.loadService.getPosts():null==bu.cart&&M(this.platformID)?this.loadService.getCart():(console.log("Store Loaded!"),this.cdr.detectChanges()))}init(){const t=this.getStoreName();bu.cart=void 0,this.downloadAllStoreInfo(t)}isBrowser(){return M(this.platformID)}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}open(t,e){}formatPrice(t){var e=new String((t*bu.selectedCurrency.rate).toFixed(2));switch(e.indexOf(".")){case e.length-1:e+="00";break;case e.length-2:e+="0"}return this.getCurrencyForCountry(bu.selectedCurrency,"US"!=bu.selectedCurrency.name)+e}getCurrencyForCountry(t,e){var n=t.currency_symbol;return e&&(n=t.name+" "+n),n}addTags(t,e,n,r){this.metaService.updateTag({property:"og:title",content:t+" - Home"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:n})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[["class","bg-dark py-6",3,"hidden",4,"ngIf"],["class","py-5",3,"hidden",4,"ngIf"],["class","py-5 bg-dark",3,"hidden",4,"ngIf"],[1,"bg-dark","py-6",3,"hidden"],[1,"cover",2,"background-image","url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)"],[1,"d-flex","align-items-center","justify-content-center",2,"height","500px","font-weight","bold","font-size","40px"],[1,"text-center",2,"line-height","1.2em","text-shadow","2px 2px #42424281"],[1,"py-5",3,"hidden"],[1,"container","px-4","px-lg-5","mt-5"],[1,"d-flex","align-items-center","justify-content-center","pb-1","mb-5",2,"height","50px","font-weight","bold","font-size","28px"],[1,"text-center",2,"line-height","1.2em"],[1,"row","gx-4","gx-lg-5","row-cols-2","row-cols-md-4","row-cols-xl-4","justify-content-center","mb-5","pb-5"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-center","pb-1","mb-5","mt-5",2,"height","50px","font-weight","bold","font-size","28px"],[1,"row","gx-4","gx-lg-5","row-cols-2","row-cols-md-4","row-cols-xl-4","justify-content-center"],[1,"col","mb-5"],[1,"card","h-100"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],[1,"card-footer","p-4","pt-0","pb-3","border-top-0","bg-transparent"],[1,"btn","btn-outline-success","mt-auto",2,"font-weight","bold",3,"href"],[1,"py-5","bg-dark",3,"hidden"],[1,"container"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,NS,5,2,"header",0),r.YNc(2,LS,12,3,"section",1),r.YNc(3,FS,7,2,"footer",2)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,D],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]}),t})();var US=n(69105);function qS(t,e,n,r){return(0,US.m)(n)&&(r=n,n=void 0),r?qS(t,e,n).pipe((0,Gr.U)(t=>(0,Zr.k)(t)?r(...t):r(t))):new Ht.y(r=>{jS(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function jS(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)jS(t[o],e,n,r,i)}r.add(o)}var VS=n(26561);function BS(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ZS(...t){if(1===t.length){if(!(0,Zr.k)(t[0]))return t[0];t=t[0]}return(0,Gi.n)(t,void 0).lift(new GS)}class GS{call(t,e){return e.subscribe(new zS(t))}}class zS extends ji{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Zi(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var HS=n(98640);new Ht.y(HS.Z);var $S=n(20377);function QS(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),(0,Gi.n)(t,void 0).lift(new KS(e))}class KS{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new YS(t,this.resultSelector))}}class YS extends Ot.L{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;(0,Zr.k)(t)?e.push(new WS(t)):e.push("function"==typeof t[$S.hZ]?new JS(t[$S.hZ]()):new XS(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class JS{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class WS{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[$S.hZ](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class XS extends jt.Ds{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[$S.hZ](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return(0,jt.ft)(this.observable,new jt.IY(this))}}function tE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new eE(t,n))}}class eE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new nE(t,this.observables,this.project))}}class nE extends ji{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Zi(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var rE=n(23098);class iE{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new oE(t,this.delay,this.scheduler))}}class oE extends Ot.L{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(oE.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new sE(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(rE.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(rE.P.createComplete()),this.unsubscribe()}}class sE{constructor(t,e){this.time=t,this.notification=e}}let aE=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),uE=(()=>{class t extends aE{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const cE=new r.OlP("NgValueAccessor");function lE(t){return null!=t}function hE(t){const e=(0,r.QGY)(t)?(0,Hr.D)(t):t;return(0,r.CqO)(e),e}function dE(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function fE(t,e){return e.map(e=>e(t))}function pE(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}let mE=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=function(t){return null!=t?function(t){if(!t)return null;const e=t.filter(lE);return 0==e.length?null:function(t){return dE(fE(t,e))}}(pE(t)):null}(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=function(t){return null!=t?function(t){if(!t)return null;const e=t.filter(lE);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,Zr.k)(e))return $r(e,null);if((0,zr.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $r(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return $r(t=1===t.length&&(0,Zr.k)(t[0])?t[0]:t,null).pipe((0,Gr.U)(t=>e(...t)))}return $r(t,null)}(fE(t,e).map(hE)).pipe((0,Gr.U)(dE))}}(pE(t)):null}(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),gE=(()=>{class t extends mE{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})(),yE=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(gE,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})(),vE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const wE=new r.OlP("NgModelWithFormControlWarning"),_E={provide:cE,useExisting:(0,r.Gpc)(()=>SE),multi:!0};function TE(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let SE=(()=>{class t extends uE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=TE(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([_E]),r.qOj]}),t})(),EE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(TE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(SE,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const CE={provide:cE,useExisting:(0,r.Gpc)(()=>IE),multi:!0};function xE(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let IE=(()=>{class t extends uE{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([CE]),r.qOj]}),t})(),AE=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(xE(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xE(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(IE,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),kE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[bE]]}),t})(),DE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[kE]}),t})(),OE=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:wE,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[kE]}),t})();const NE=["*"],RE=["dialog"];function PE(t){return null!=t}function LE(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const FE={animation:!0,transitionTimerDelayMs:5};let ME=(()=>{class t{constructor(){this.animation=FE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const UE=()=>{},{transitionTimerDelayMs:qE}=FE,jE=new Map,VE=(t,e,n,r)=>{let i=r.context||{};const o=jE.get(e);if(o)switch(r.runningTransition){case"continue":return Rt.E;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),jE.delete(e)}const s=n(e,r.animation,i)||UE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),(0,Dt.of)(void 0).pipe(function(t){return e=>new Ht.y(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new It.xQ,u=new It.xQ,c=a.pipe(function(...t){return e=>Yi(e,(0,Dt.of)(...t))}(!0));jE.set(e,{transition$:a,complete:()=>{u.next(),u.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=qS(e,"transitionend").pipe(Vt(c),ri(({target:t})=>t===e));ZS(function(t=0,e,n){let r=-1;return(0,VS.k)(e)?r=Number(e)<1?1:Number(e):(0,qi.K)(e)&&(n=e),(0,qi.K)(n)||(n=$t.P),new Ht.y(e=>{const i=(0,VS.k)(t)?t:+t-n.now();return n.schedule(BS,i,{index:0,period:r,subscriber:e})})}(l+qE).pipe(Vt(c)),n,u).pipe(Vt(c)).subscribe(()=>{jE.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let BE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),ZE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),GE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),zE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),HE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var $E=(()=>(function(t){t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown"}($E||($E={})),$E))();const QE=(t,e)=>!!e&&e.some(e=>e.contains(t)),KE=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),YE="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const JE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function WE(t){const e=Array.from(t.querySelectorAll(JE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const XE=/\s+/,tC=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),u=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=s.top-(e.offsetHeight+u+c);break;case"bottom":d=s.top+s.height;break;case"left":f=s.left-(e.offsetWidth+l+h);break;case"right":f=s.left+s.width}switch(o){case"top":d=s.top;break;case"bottom":d=s.top+s.height-e.offsetHeight;break;case"left":f=s.left;break;case"right":f=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=s.left+s.width/2-e.offsetWidth/2:d=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}};new Date(1882,10,12),new Date(2174,10,25);let eC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F,DE]]}),t})(),nC=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),rC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["",8,"navbar"]]}),t})(),iC=(()=>{class t{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("disabled",e.disabled)},inputs:{disabled:"disabled"}}),t})(),oC=(()=>{class t{constructor(t,e){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36((0,r.Gpc)(()=>uC)),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,iC,4),2&t){let t;r.iGM(t=r.CRH())&&(e.menuItems=t)}},hostVars:5,hostBindings:function(t,e){1&t&&r.NdJ("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Enter",function(t){return e.dropdown.onKeyDown(t)})("keydown.Space",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&(r.uIk("x-placement",e.placement),r.ekj("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),t})(),sC=(()=>{class t{constructor(t,e){this.dropdown=t,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36((0,r.Gpc)(()=>uC)),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("aria-expanded",e.dropdown.isOpen())}}),t})(),aC=(()=>{class t extends sC{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36((0,r.Gpc)(()=>uC)),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.dropdown.toggle()})("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&r.uIk("aria-expanded",e.dropdown.isOpen())},features:[r._Bn([{provide:sC,useExisting:(0,r.Gpc)(()=>t)}]),r.qOj]}),t})(),uC=(()=>{class t{constructor(t,e,n,i,o,s,a){this._changeDetector=t,this._document=n,this._ngZone=i,this._elementRef=o,this._renderer=s,this._closed$=new It.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new r.vpe,this.placement=e.placement,this.container=e.container,this.autoClose=e.autoClose,this.display=a?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Pt(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses(),t.dropdownClass){const{currentValue:e,previousValue:n}=t.dropdownClass;this._applyCustomDropdownClass(e,n)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function(t,e,n,r,i,o,s,a){n&&t.runOutsideAngular((t=>YE?()=>setTimeout(()=>t(),100):t)(()=>{const u=qS(e,"keydown").pipe(Vt(i),ri(t=>t.which===$E.Escape),(0,Kr.b)(t=>t.preventDefault())),c=qS(e,"mousedown").pipe((0,Gr.U)(t=>{const e=t.target;return 2!==t.button&&!QE(e,s)&&("inside"===n?QE(e,o)&&KE(e,a):"outside"===n?!QE(e,o):KE(e,a)||!QE(e,o))}),Vt(i)),l=qS(e,"mouseup").pipe(tE(c),ri(([t,e])=>e),function(t,e=$t.P){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new iE(r,e))}(0),Vt(i));ZS([u.pipe((0,Gr.U)(t=>0)),l.pipe((0,Gr.U)(t=>1))]).subscribe(e=>t.run(()=>r(e)))}))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const e=t.which,n=this._getMenuElements();let r=-1,i=null;const o=this._isEventFromToggle(t);if(!o&&n.length&&n.forEach((e,n)=>{e.contains(t.target)&&(i=e),e===this._document.activeElement&&(r=n)}),e!==$E.Space&&e!==$E.Enter){if(e!==$E.Tab){if(o||i){if(this.open(),n.length){switch(e){case $E.ArrowDown:r=Math.min(r+1,n.length-1);break;case $E.ArrowUp:if(this._isDropup()&&-1===r){r=n.length-1;break}r=Math.max(r-1,0);break;case $E.Home:r=0;break;case $E.End:r=n.length-1}n[r].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const e=this._menu.nativeElement.querySelectorAll(JE);t.shiftKey&&t.target===e[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):t.shiftKey||t.target!==e[e.length-1]||(this._anchor.nativeElement.focus(),this.close())}else qS(t.target,"focusout").pipe(Pt(1)).subscribe(({relatedTarget:t})=>{this._elementRef.nativeElement.contains(t)||this.close()})}}else!i||!0!==this.autoClose&&"inside"!==this.autoClose||qS(i,"click").pipe(Pt(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(t=>!t.disabled).map(t=>t.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(XE);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let u=o.findIndex(t=>"auto"===t);u>=0&&s.forEach(function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(u++,1,t)});const c=e.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let l=null,h=!1;for(l of o){a(l);if(tC.positionElements(t,e,l,r)){h=!0;break}}return h||(l=o[0],a(l),tC.positionElements(t,e,l,r)),l}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const t=this._renderer,e=this._menu.nativeElement,n=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(n,"position","absolute"),t.setStyle(e,"position","static"),t.setStyle(n,"z-index","1050"),t.appendChild(n,e),t.appendChild(this._document.body,n)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,e){const n="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;n&&(e&&this._renderer.removeClass(n,e),t&&this._renderer.addClass(n,t))}_applyPlacementClasses(t){const e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));const n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),e.placement="static"===this.display?null:t;const i=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(r,i);const o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(nC),r.Y36(s),r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(rC,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,oC,5),r.Suo(n,sC,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._menu=t.first),r.iGM(t=r.CRH())&&(e._anchor=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[r.TTD]}),t})(),cC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),lC=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ME))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(ME))},token:t,providedIn:"root"}),t})();class hC{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const dC=()=>{};let fC=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):dC}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),pC=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Pt(1)).subscribe(()=>{VE(this._zone,this._el.nativeElement,(t,e)=>{e&&LE(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return VE(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class mC{close(t){}dismiss(t){}}class gC{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new It.xQ,this._dismissed=new It.xQ,this._hidden=new It.xQ,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Vt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Vt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Dt.of)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),QS(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yC=(()=>(function(t){t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC"}(yC||(yC={})),yC))();let vC=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new It.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.vpe,this.shown=new It.xQ,this.hidden=new It.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Pt(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=QS(VE(this._zone,t,()=>t.classList.remove("show"),e),VE(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};QS(VE(this._zone,this._elRef.nativeElement,(t,e)=>{e&&LE(t),t.classList.add("show")},t),VE(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{qS(t,"keydown").pipe(Vt(this._closed$),ri(t=>t.which===$E.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(yC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;qS(this._dialogEl.nativeElement,"mousedown").pipe(Vt(this._closed$),(0,Kr.b)(()=>e=!1),Xi(()=>qS(t,"mouseup").pipe(Vt(this._closed$),Pt(1))),ri(({target:e})=>t===e)).subscribe(()=>{e=!0}),qS(t,"click").pipe(Vt(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(yC.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=WE(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&VE(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Gf(RE,7),2&t){let t;r.iGM(t=r.CRH())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:NE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0,1),r.TgZ(2,"div",2),r.Hsn(3),r.qZA(),r.qZA()),2&t&&r.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),bC=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new It.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new r.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=qS(e,"focusin").pipe(Vt(n),(0,Gr.U)(t=>t.target));qS(e,"keydown").pipe(Vt(n),ri(t=>t.which===$E.Tab),tE(t)).subscribe(([t,n])=>{const[r,i]=WE(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&qS(e,"click").pipe(Vt(n),tE(t),(0,Gr.U)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:PE(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const u=new mC,c=this._getContentRef(t,r.injector||e,n,u,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new gC(h,c,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),u.close=t=>{d.close(t)},u.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&(this._applyBackdropOptions(l.instance,r),l.changeDetectorRef.detectChanges()),h.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(pC).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(vC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{PE(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{PE(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.Rgc?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new hC([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new hC([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new hC([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.zs3.create({providers:[{provide:mC,useValue:i}],parent:e}),u=s.create(a),c=u.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new hC([[c]],u.hostView,u)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.z2F),r.LFG(r.zs3),r.LFG(s),r.LFG(fC),r.LFG(r.FYo),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.z2F),r.LFG(r.gxx),r.LFG(s),r.LFG(fC),r.LFG(r.FYo),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),wC=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(bC),r.LFG(lC))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r._Vd),r.LFG(r.gxx),r.LFG(bC),r.LFG(lC))},token:t,providedIn:"root"}),t})(),_C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[wC]}),t})(),TC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),SC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),CC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),xC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),IC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),AC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})(),kC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();new r.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let DC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[F]]}),t})();const OC=[BE,ZE,GE,zE,HE,eC,cC,_C,TC,SC,EC,CC,xC,IC,AC,kC,DC];let NC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[OC,BE,ZE,GE,zE,HE,eC,cC,_C,TC,SC,EC,CC,xC,IC,AC,kC,DC]}),t})(),RC=(()=>{class t{constructor(t,e,n){this.http=t,this.sanitizer=e,this.modalService=n,this.myHtmlTemplate="",this.data={template:new yu,product:new gu},this.template=new yu,this.product=new gu}ngAfterViewInit(){}ngOnInit(){this.template=this.data.template,this.product=this.data.product,this.openModel()}getModelUrl(t){switch(t){case"ATC Hoodie":return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FHoodies%2Fhoodie_model.glb?alt=media";case"MUG":return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FMugs%2Fmug_model2.glb?alt=media";default:return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FTShirts%2Fshirt_model.glb?alt=media"}}getModelTextureUrl(t,e){switch(t){case"ATC Hoodie":return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FHoodies%2FTextures%2F"+e+".jpg?alt=media";case"MUG":return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FMugs%2FTextures%2F"+e+".jpg?alt=media";default:return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Models%2FTShirts%2FTextures%2F"+e+".jpg?alt=media"}}getSkyBoxUrl(t,e){var n="TShirts";switch(t){case"ATC Hoodie":n="Hoodies";break;case"MUG":n="Mugs";break;default:n="TShirts"}return"https://storage.googleapis.com/clothingapp-ed125.appspot.com/Models/"+n+"/Skyboxes/"+e+".hdr"}openBtn(){console.log("ok"),this.modalService.dismissAll("success")}openModel(){var t,e,n,r="",i=this.getSkyBoxUrl(this.product.productType,"room"),o=this.getModelTextureUrl(this.product.productType,this.product.templateColor),s=this.getModelUrl(this.product.productType);let a=null!==(t=this.product.getUrl(!0))&&void 0!==t?t:"",u=null!==(e=this.product.getUrl(!1))&&void 0!==e?e:"",c=this.template.colors.find(t=>t.code==this.product.templateColor);if(c){var l=[1,1,1,1];switch(c.rgb.forEach((t,e)=>{l[e]=t}),null!==(n=this.template.productCode)&&void 0!==n?n:"ATC1000"){case"ATC1000":r="<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer><\/script></head><body><model-viewer camera-controls skybox-image='"+i+"'environment-image='"+i+"'alt='A 3D astronaut model depicted within a forest'src='"+s+"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (i === 0){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+o+"');}else if (i === 1){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+u+"');}console.log(materials[i])}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);<\/script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'><\/script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>";break;case"ATC Hoodie":r="<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer><\/script></head><body><model-viewer camera-controls skybox-image='"+i+"'environment-image='"+i+"'alt='A 3D astronaut model depicted within a forest'src='"+s+"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (materials[i].name === 'Left Cap' || materials[i].name === 'Right Cap' || materials[i].name == 'String Holes (Interior)'){materials[i].pbrMetallicRoughness.setBaseColorFactor(["+l[0]+", "+l[1]+", "+l[2]+", "+l[3]+"]);}else if (materials[i].name === 'String Holes'){materials[i].pbrMetallicRoughness.setBaseColorFactor([0.7,0.7,0.7,1]);}else if (materials[i].name === 'Draw Strings' || materials[i].name === 'Body' || materials[i].name == 'Front Canvas'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+o+"');}else if (materials[i].name === 'Front Image'){console.log(materials[i]);materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+u+"');}else if (materials[i].name === 'Back Image'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+a+"');}console.log(materials[i].name)}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);<\/script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'><\/script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>";break;case"MUG":r="<!doctype html><html lang='en'><head></head><title>&lt;model-viewer&gt; template</title><meta charset='utf-8'><meta name='description' content='&lt;model-viewer&gt; template'><meta name='viewport' content='width=device-width, initial-scale=1'><script src='https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js' defer><\/script></head><body><model-viewer camera-controls skybox-image='"+i+"'environment-image='"+i+"'alt='A 3D astronaut model depicted within a forest'src='"+s+"'></model-viewer><script type='module'>const onProgress = (event) => {if (event.detail.totalProgress === 1) {const modelViewerColor = document.querySelector('model-viewer');modelViewerColor.environmentImage = 'neutral';const materials = modelViewerColor.model.materials;for (let i = 0; i < materials.length; i++) {if (materials[i].name == 'DefaultMaterial.001'){materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('');materials[i].pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+o+"');}else if (materials[i].name == 'Design'){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+u+"');}else if (materials[i].name == 'Design_Back'){let material = modelViewerColor.model.materials[i];material.pbrMetallicRoughness.baseColorTexture.texture.source.setURI('"+a+"');}console.log(materials[i])}}};document.querySelector('model-viewer').addEventListener('progress', onProgress);<\/script><script type='module' src='https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js'><\/script><style>:not(:defined) > * {display: none;}body {margin: 0;padding: 0;width: 100vw;height: 100vh;}model-viewer {width: 100%;height: 100%;background-color: #baf7fd;display: flex;justify-content: center;align-items: center;}.progress-bar {display: block;width: 33%;height: 10%;max-height: 2%;position: absolute;left: 50%;top: 50%;transform: translate3d(-50%, -50%, 0);border-radius: 25px;box-shadow: 0px 3px 10px 3px #baf7fd, 0px 0px 5px 1px #baf7fd;border: 1px solid #baf7fd;}.progress-bar.hide {visibility: hidden;transition: visibility 0.3s;}.update-bar {background-color: #baf7fd;width: 0%;height: 100%;border-radius: 25px;float: left;transition: width 0.3s;}#ar-button {background-image: url(ar_icon.png);background-repeat: no-repeat;background-size: 20px 20px;background-position: 12px 50%;background-color: #baf7fd;position: absolute;left: 50%;transform: translateX(-50%);white-space: nowrap;bottom: 132px;padding: 0px 16px 0px 40px;font-family: Roboto Regular, Helvetica Neue, sans-serif;font-size: 14px;color:#baf7fd;height: 36px;line-height: 36px;border-radius: 18px;border: 1px solid #baf7fd;}#ar-button:active {background-color: #baf7fd;}#ar-button:focus {outline: none;}#ar-button:focus-visible {outline: 1px solid #baf7fd;}@keyframes circle {from { transform: translateX(-50%) rotate(0deg) translateX(50px) rotate(0deg); }to   { transform: translateX(-50%) rotate(360deg) translateX(50px) rotate(-360deg); }}@keyframes elongate {from { transform: translateX(100px); }to   { transform: translateX(-100px); }}model-viewer > #ar-prompt {position: absolute;left: 50%;bottom: 175px;animation: elongate 2s infinite ease-in-out alternate;display: none;}model-viewer[ar-status='session-started'] > #ar-prompt {display: block;}model-viewer > #ar-prompt > img {animation: circle 4s linear infinite;}</style></body></html>";break;default:return void(r="")}this.myHtmlTemplate=this.sanitizer.bypassSecurityTrustHtml(r)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ei),r.Y36(gt),r.Y36(wC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-model-viewer"]],decls:4,vars:1,consts:[[1,"card-body","p-0","pb-0"],["type","submit",1,"btn",2,"width","100%","height","7.5%","display","block","border","none","font-weight","bold","cursor","pointer",3,"click"],[2,"border","0","width","100%","height","600px","overflow","auto",3,"srcdoc"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"button",1),r.NdJ("click",function(){return e.openBtn()}),r._uU(2," CLOSE "),r.qZA(),r._UZ(3,"iframe",2),r.qZA()),2&t&&(r.xp6(3),r.Q6J("srcdoc",e.myHtmlTemplate,r.oJD))},styles:[""]}),t})();function PC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"form",11),r._UZ(2,"input",12),r._UZ(3,"input",13),r._UZ(4,"input",14),r._UZ(5,"input",15),r._UZ(6,"input",16),r.qZA(),r.TgZ(7,"div",17),r.TgZ(8,"a",18),r.NdJ("click",function(){return r.CHM(t),r.oxw().useGuest()}),r._uU(9,"No thanks, continue as Guest"),r.qZA(),r.qZA(),r.qZA()}}function LC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"form",11),r._UZ(2,"input",19),r._UZ(3,"input",14),r._UZ(4,"input",20),r.qZA(),r.TgZ(5,"div",17),r.TgZ(6,"a",18),r.NdJ("click",function(){return r.CHM(t),r.oxw().changeAuth(1)}),r._uU(7,"Don't have an account?"),r.qZA(),r.qZA(),r.qZA()}}let FC=(()=>{class t{constructor(t,e){this.cdr=t,this.load=e,this.authMode=1}isSignIn(){return console.log(this.authMode),2==this.authMode}isGoogle(){return 4==this.authMode}isApple(){return 3==this.authMode}isSignUp(){return console.log(this.authMode),1==this.authMode}changeAuth(t){this.authMode=t,this.cdr.detectChanges()}useGuest(){this.load.registerAccount(!0)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:2,consts:[[1,"wrapper"],["id","formContent"],[1,"text-center","mt-5",2,"line-height","1.0em","font-size","25px","font-weight","bold"],[1,"container","px-4","px-lg-5","mt-5",2,"width","300px"],[1,"row","row-cols-3","row-cols-md-3","row-cols-xl-3","justify-content-center",2,"width","auto"],[1,"col"],["role","button",1,"brand-logo",3,"click"],["src","/assets/apple.png",1,"rounded-circle","mx-auto","d-block","mb-5",2,"width","50px","height","auto"],["src","/assets/google.png",1,"rounded-circle","mx-auto","d-block","mb-5",2,"width","50px","height","auto"],["src","/assets/email.png",1,"rounded-circle","mx-auto","d-block","mb-5",2,"width","50px","height","auto"],[4,"ngIf"],[1,"mt-4"],["type","text","id","email","name","login","placeholder","Email",1,"fadeIn","second","mt-2"],["type","text","id","username","name","login","placeholder","Username",1,"fadeIn","second","mt-2"],["type","password","id","password","name","login","placeholder","Password",1,"fadeIn","third"],["type","password","id","confirmpass","name","login","placeholder","Confirm Password",1,"fadeIn","third"],["type","submit","value","Sign Up",1,"fadeIn","fourth","mt-5"],["id","formFooter"],["role","button",1,"underlineHover",3,"click"],["type","text","id","username","name","login","placeholder","Username/Email",1,"fadeIn","second","mt-2"],["type","submit","value","Sign In",1,"fadeIn","fourth","mt-5"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"p",2),r._uU(3," Log in to your account "),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"a",6),r.NdJ("click",function(){return e.changeAuth(3)}),r._UZ(8,"img",7),r.qZA(),r.qZA(),r.TgZ(9,"div",5),r.TgZ(10,"a",6),r.NdJ("click",function(){return e.changeAuth(4)}),r._UZ(11,"img",8),r.qZA(),r.qZA(),r.TgZ(12,"div",5),r.TgZ(13,"a",6),r.NdJ("click",function(){return e.changeAuth(2)}),r._UZ(14,"img",9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(15,PC,10,0,"div",10),r.YNc(16,LC,8,0,"div",10),r.qZA(),r.qZA()),2&t&&(r.xp6(15),r.Q6J("ngIf",e.isSignUp()),r.xp6(1),r.Q6J("ngIf",e.isSignIn()))},directives:[N,vE,yE],styles:['html[_ngcontent-%COMP%]{background-color:#56baed}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}a[_ngcontent-%COMP%]{display:inline-block}a[_ngcontent-%COMP%], button.forgot[_ngcontent-%COMP%]{color:#92badd;text-decoration:none;font-weight:400}button.forgot[_ngcontent-%COMP%]{display:block;font-size:12px;margin:0 auto}button.forgot[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;size:inherit;width:100%;min-height:100%;padding:0;margin:0}#formContent[_ngcontent-%COMP%]{border-radius:10px 10px 10px 10px;background:#fff;width:100%;position:relative;padding:0;box-shadow:0 30px 60px 0 #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px 0 #5fbae966;border-radius:5px 5px 5px 5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;color:#0d0d0d;padding:15px 32px;text-align:left;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px 5px 5px 5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}.sign-in-facebook[_ngcontent-%COMP%]{background:url(http://i.stack.imgur.com/e2S63.png) #f2f2f2;background-position:-9px -7px;background-repeat:no-repeat;background-size:39px 43px;padding-left:41px;color:#000}.sign-in-facebook[_ngcontent-%COMP%]:hover{background:url(http://i.stack.imgur.com/e2S63.png) #e0e0e0;background-position:-9px -7px;background-repeat:no-repeat;background-size:39px 43px;padding-left:41px;color:#000}']}),t})();function MC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",34),r.TgZ(1,"a",35),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).open()}),r._uU(2,"VIEW IN 3D"),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.Q6J("hidden",null==t.selectedTemplate())}}function UC(t,e){if(1&t&&(r.TgZ(0,"div",34),r.TgZ(1,"a",36),r._uU(2,"Product does not support 3D"),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.Q6J("hidden",null==t.selectedTemplate())}}function qC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",37),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).selectQuantity(e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t)}}function jC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",38),r.NdJ("click",function(e){const n=r.CHM(t).$implicit;return r.oxw(2).selectSize(n,e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(1),r.Oqu(t)}}function VC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"section",2),r.TgZ(1,"div",3),r.TgZ(2,"div",4),r.TgZ(3,"div",5),r.TgZ(4,"div",6),r._UZ(5,"img",7),r.TgZ(6,"div",8),r.YNc(7,MC,3,1,"div",9),r.YNc(8,UC,3,1,"ng-template",null,10,r.W1O),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"div",5),r.TgZ(11,"div",11),r.TgZ(12,"div",12),r.TgZ(13,"div",13),r.TgZ(14,"h5",14),r._uU(15),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",15),r.TgZ(17,"div",16),r.TgZ(18,"div",17),r.TgZ(19,"div",13),r._UZ(20,"h5",18),r.qZA(),r.qZA(),r.TgZ(21,"div",19),r.TgZ(22,"h5",20),r._uU(23),r.qZA(),r.qZA(),r.TgZ(24,"div",17),r.TgZ(25,"div",16),r._UZ(26,"h5",21),r._UZ(27,"h5",22),r.qZA(),r.TgZ(28,"div",23),r.TgZ(29,"button",24),r._uU(30),r.qZA(),r.TgZ(31,"div",25),r.YNc(32,qC,2,1,"button",26),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"div",27),r.TgZ(34,"div",13),r.TgZ(35,"div",17),r.TgZ(36,"div",16),r._UZ(37,"h5",18),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",28),r.TgZ(39,"button",29),r.NdJ("click",function(e){r.CHM(t);const n=r.oxw();return n.selectSize(n.sizes(!1)[0],e)}),r._uU(40),r.qZA(),r.YNc(41,jC,2,1,"button",30),r.qZA(),r.qZA(),r.TgZ(42,"div",31),r.TgZ(43,"div",13),r.TgZ(44,"a",32),r.NdJ("click",function(){return r.CHM(t),r.oxw().addToCart()}),r.qZA(),r.qZA(),r.TgZ(45,"div",13),r.TgZ(46,"a",33),r._uU(47),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.MAs(9),e=r.oxw();let n,i,o,s;r.Q6J("hidden",null==e.storeInfo().uid||null==e.cart()),r.xp6(2),r.Q6J("hidden",null==e.selectedProduct()||null==e.selectedTemplate()),r.xp6(3),r.s9C("src",null!==(n=null==(n=e.selectedProduct())?null:n.url)&&void 0!==n?n:"",r.LSH),r.xp6(2),r.Q6J("ngIf",e.has3D())("ngIfElse",t),r.xp6(4),r.Q6J("hidden",null==e.selectedTemplate()),r.xp6(4),r.Oqu(null!==(i=null==(i=e.selectedProduct())?null:i.name)&&void 0!==i?i:""),r.xp6(5),r.Q6J("innerHTML","Details",r.oJD),r.xp6(3),r.Oqu(e.formatPrice((null!==(o=null==(o=e.selectedProduct())?null:o.price)&&void 0!==o?o:0)/100)),r.xp6(3),r.Q6J("innerHTML",null!==(s=null==(s=e.selectedProduct())?null:s.description)&&void 0!==s?s:"",r.oJD),r.xp6(1),r.Q6J("innerHTML",e.formattedInfo(),r.oJD),r.xp6(3),r.hij("Qty: ",e.quantity(),""),r.xp6(2),r.Q6J("ngForOf",e.quantityNumbers),r.xp6(5),r.Q6J("innerHTML","Choose Your Size",r.oJD),r.xp6(3),r.Oqu(e.sizes(!1)[0]),r.xp6(1),r.Q6J("ngForOf",e.sizes(!0)),r.xp6(3),r.Q6J("innerHTML","ADD TO BAG",r.oJD),r.xp6(3),r.hij("\ud83d\ude80 Order now and get it before ",e.nextweek(),"")}}function BC(t,e){if(1&t&&(r.TgZ(0,"footer",39),r.TgZ(1,"div",40),r.TgZ(2,"p",41),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",40),r.TgZ(5,"p",41),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid||null==t.cart()),r.xp6(1),r.Q6J("hidden",null==t.selectedTemplate()),r.xp6(2),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021"),r.xp6(1),r.Q6J("hidden",null==t.selectedTemplate())}}let ZC=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.platformID=t,this.cdr=e,this.db=n,this.router=r,this.titleService=i,this.metaService=o,this.loadService=s,this.modalService=a,this.route=u,this.productToBuy=new Cu,this.quantityNumbers=[]}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}selectedTemplate(){return bu.selectedTemplate}products(){return bu.products}selectedProduct(){return bu.selectedProduct}cart(){return bu.cart}ngOnInit(){const t=this.getProductID();bu.selectedProduct=void 0,bu.selectedTemplate=void 0,bu.selectedCurrency=void 0,bu.storeInfo.uid=void 0,bu.cart=void 0,this.loadService.myCallback=()=>this.checkLoad(t),this.checkLoad(t);for(let e=0;e<9;e++)this.quantityNumbers.push(e+1)}ngAfterViewInit(){}open(){M(this.platformID)&&(this.modalService.open(RC,{size:"lg"}).componentInstance.data={template:this.selectedTemplate(),product:this.selectedProduct()})}has3D(){var t,e;return null!==(e=null===(t=this.selectedTemplate())||void 0===t?void 0:t.has3D)&&void 0!==e&&e}nextweek(){var t=new Date;return this.format(new Date(t.getFullYear(),t.getMonth(),t.getDate()+10))}format(t){return bu.days[t.getDay()]+", "+bu.months[t.getMonth()]+" "+t.getDate()}formattedInfo(){var t,e;return null!==(e=null===(t=this.selectedTemplate())||void 0===t?void 0:t.moreInfo.replace(/\\n/g,"<br>"))&&void 0!==e?e:""}sizes(t){var e,n,r,i;return t?null!==(n=null===(e=this.selectedTemplate())||void 0===e?void 0:e.sizes.slice(1))&&void 0!==n?n:[]:null!==(i=null===(r=this.selectedTemplate())||void 0===r?void 0:r.sizes)&&void 0!==i?i:[]}isBrowser(){return M(this.platformID)}checkLoad(t){var e;if(null==bu.selectedProduct)return this.loadService.getPost(t),void(this.productToBuy.product=bu.selectedProduct);if(this.addTags(bu.selectedProduct.name,bu.selectedProduct.url.toString(),this.formatPrice(bu.selectedProduct.price/100)+". "+bu.selectedProduct.description,"https://shopmythred.com"),M(this.platformID)){if(null==bu.storeInfo.uid){const t=this.getStoreName();return void this.loadService.getUser(t)}if(null==bu.selectedTemplate)return void this.loadService.getTemplate(null!==(e=bu.selectedProduct.productType)&&void 0!==e?e:"");if(null==bu.selectedCurrency)return console.log("countries"),void this.loadService.getCountries();null==bu.cart?this.loadService.getCart():this.cdr.detectChanges()}}selectSize(t,e){this.productToBuy.size=t,console.log(t);let n=e.target||e.srcElement;if(console.log(n.nodeName),"BUTTON"===n.nodeName){let t=n.parentElement.querySelector(".active");t&&t.classList.remove("active"),n.className+=" active"}}selectQuantity(t){this.productToBuy.quantity=t,console.log(t)}quantity(){var t;return null!==(t=this.productToBuy.quantity)&&void 0!==t?t:"1"}closeBtn(){this.modalService.dismissAll("success")}addToCart(){var t=this;return _u(function*(){var e;if(null==bu.selectedProduct)return;t.productToBuy.product=JSON.parse(JSON.stringify(bu.selectedProduct)),null===(e=bu.cart)||void 0===e||e.push(t.productToBuy),t.cdr.detectChanges();let n={UID:bu.selectedProduct.uid,Size:t.productToBuy.size,Qty:t.productToBuy.quantity,Timestamp:new Date,Post_ID:bu.selectedProduct.productID};(yield t.loadService.authenticated())?yield t.loadService.addToCart(n):(console.log("MAN"),M(t.platformID)&&(t.loadService.myCallback=()=>t.closeBtn(),t.modalService.open(FC,{size:"lg"}).componentInstance.authMode=1))})()}addTags(t,e,n,r){var i,o;this.metaService.updateTag({property:"og:title",content:t}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n});var s=t;bu.storeInfo.fullName&&(s+=null!==(o=" - "+(null===(i=bu.storeInfo)||void 0===i?void 0:i.fullName))&&void 0!==o?o:""),this.titleService.setTitle(s),this.metaService.updateTag({property:"description",content:n})}formatPrice(t){var e,n,r,i,o=new String((t*(null!==(n=null===(e=this.selectedCurrency())||void 0===e?void 0:e.rate)&&void 0!==n?n:1)).toFixed(2));switch(o.indexOf(".")){case o.length-1:o+="00";break;case o.length-2:o+="0"}return this.getCurrencyForCountry("US"!=(null!==(i=null===(r=this.selectedCurrency())||void 0===r?void 0:r.name)&&void 0!==i?i:"US"),this.selectedCurrency())+o}getURL(t,e){return"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Users%2F"+t+"%2FProducts%2F"+e+"%2Flink_"+e+".png?alt=media"}getCurrencyForCountry(t,e){var n,r,i=null!==(n=null==e?void 0:e.currency_symbol)&&void 0!==n?n:"$";return t&&(i=(null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"US")+" "+i),i}getStoreName(){const t=this.router.snapshot.paramMap,e=t.get("user"),n=t.get("product");return console.log(e),console.log(n),e}getProductID(){const t=this.router.snapshot.paramMap.get("product");return console.log(t),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(kS),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS),r.Y36(wC),r.Y36(Ka))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-product"]],decls:3,vars:2,consts:[["class","py-5",3,"hidden",4,"ngIf"],["class","py-5 bg-dark",3,"hidden",4,"ngIf"],[1,"py-5",3,"hidden"],[1,"container","px-4","px-lg-5","mt-0"],[1,"row","gx-4","gx-lg-1","row-cols-1","row-cols-md-2","row-cols-xl-2","justify-content-center",3,"hidden"],[1,"col","mb-1"],[1,"card","h-100"],["onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-footer","p-4","pt-3","pb-3","border-top-0","bg-transparent"],["class","text-center",3,"hidden",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"card","h-80",3,"hidden"],[1,"card-body","p-4","pb-0"],[1,"text-center"],[1,"fw-bolder",2,"font-size","34px","line-height","1.4em"],[1,"card-body","p-4","pb-0","mt-0"],[1,"text-left"],[1,"card-body","p-0","pb-0"],[1,"fw-bolder",2,"font-size","17px",3,"innerHTML"],[1,"text-left","mt-5","mb-0",2,"color","rgb(190, 6, 6)"],[1,"fw-bolder",2,"font-size","30px"],[1,"fw-normal",2,"font-size","14px","font-style","italic",3,"innerHTML"],[1,"fw-normal",2,"font-size","11px",3,"innerHTML"],["ngbDropdown","","container","body",1,"d-inline"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm","mb-5"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[1,"container","px-4","mt-3"],[1,"row","gx-4","gx-lg-1","row-cols-5","row-cols-md-4","row-cols-xl-6","justify-content-center"],["type","button","id","size",1,"btn","btn-outline-dark","active","col","my-1","mx-1",2,"font-weight","bold","font-size","12px",3,"click"],["type","button","class","btn btn-outline-dark col my-1 mx-1","style","font-weight:bold; font-size:12px;","id","size",3,"click",4,"ngFor","ngForOf"],[1,"card-footer","p-4","pt-5","pb-3","border-top-0","bg-transparent"],[1,"btn","btn-primary","mt-auto","d-flex","flex-wrap",2,"font-weight","bold","font-size","25px","justify-content","center",3,"innerHTML","click"],[1,"btn","mt-auto","d-flex","flex-wrap",2,"font-weight","bold","font-size","13px","justify-content","center"],[1,"text-center",3,"hidden"],[1,"btn","btn-outline-secondary","mt-auto",2,"font-weight","bold","font-size","15px",3,"click"],[1,"btn","btn-outline-secondary","mt-auto",2,"font-weight","bold","font-size","12px"],["ngbDropdownItem","",3,"click"],["type","button","id","size",1,"btn","btn-outline-dark","col","my-1","mx-1",2,"font-weight","bold","font-size","12px",3,"click"],[1,"py-5","bg-dark",3,"hidden"],[1,"container",3,"hidden"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,VC,48,18,"section",0),r.YNc(2,BC,7,4,"footer",1)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,uC,aC,oC,D,iC],styles:[""]}),t})();function GC(t,e){1&t&&(r.TgZ(0,"header",2),r.TgZ(1,"div",3),r.TgZ(2,"div",4),r.TgZ(3,"p",5),r._uU(4," SHOPPING BAG "),r.qZA(),r.qZA(),r.qZA(),r.qZA())}function zC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",35),r.TgZ(1,"div",36),r.TgZ(2,"a",37),r._UZ(3,"img",38),r.qZA(),r.TgZ(4,"div",39),r.TgZ(5,"p"),r.TgZ(6,"a",40),r._uU(7),r.qZA(),r.qZA(),r.TgZ(8,"div",41),r.TgZ(9,"span",42),r._uU(10,"Size:"),r.qZA(),r._uU(11),r.qZA(),r.TgZ(12,"div",41),r.TgZ(13,"span",42),r._uU(14,"Color:"),r.qZA(),r._uU(15),r.qZA(),r.TgZ(16,"div",43),r._uU(17),r.qZA(),r.qZA(),r.qZA(),r.TgZ(18,"div",44),r.TgZ(19,"label",45),r._uU(20,"Quantity"),r.qZA(),r.TgZ(21,"input",46,47),r.NdJ("change",function(){const e=r.CHM(t).$implicit,n=r.MAs(22);return r.oxw(2).updateProductQty(e,n.value)}),r.qZA(),r.TgZ(23,"button",48),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).updateProductQty(e,"0")}),r._UZ(24,"i",49),r.TgZ(25,"span",50),r._uU(26,"Remove"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(2);let i,o,s;r.xp6(3),r.s9C("src",t.product.url,r.LSH),r.xp6(3),r.hYB("href","/",n.storeInfo().username,"/products/",t.product.productID,"",r.LSH),r.xp6(1),r.Oqu(null!==(i=null==t.product?null:t.product.name)&&void 0!==i?i:""),r.xp6(4),r.Oqu(null!==(o=t.size)&&void 0!==o?o:"M"),r.xp6(4),r.Oqu(n.getColor(t.product)),r.xp6(2),r.Oqu(n.formatPrice(t.product.price/100)),r.xp6(4),r.s9C("value",null!==(s=t.quantity)&&void 0!==s?s:1)}}function HC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"section",6),r.TgZ(1,"div",7),r.TgZ(2,"div",8),r.TgZ(3,"section",9),r.YNc(4,zC,27,8,"div",10),r.qZA(),r.TgZ(5,"aside",11),r.TgZ(6,"div",12),r.TgZ(7,"div",13),r.TgZ(8,"div",14),r.TgZ(9,"h2",15),r._uU(10,"Subtotal"),r.qZA(),r.TgZ(11,"h3",16),r._uU(12),r.qZA(),r.qZA(),r.TgZ(13,"div",17),r.TgZ(14,"div",18),r.TgZ(15,"h3",19),r.TgZ(16,"a",20),r._uU(17,"Shipping estimates"),r.qZA(),r.qZA(),r.TgZ(18,"div",21),r.TgZ(19,"div",22),r.TgZ(20,"form",23),r.TgZ(21,"div",24),r.TgZ(22,"h2",25),r._uU(23),r.qZA(),r.TgZ(24,"select",26),r.NdJ("change",function(e){return r.CHM(t),r.oxw().calculateShipping(e)}),r.TgZ(25,"option",27),r._uU(26,"Choose your country"),r.qZA(),r.TgZ(27,"option",28),r._uU(28,"United States"),r.qZA(),r.TgZ(29,"option",29),r._uU(30,"Canada"),r.qZA(),r.TgZ(31,"option",30),r._uU(32,"United Kingdom"),r.qZA(),r.qZA(),r.TgZ(33,"div",31),r._uU(34,"Please choose your country!"),r.qZA(),r.qZA(),r.TgZ(35,"button",32),r.NdJ("click",function(){return r.CHM(t),r.oxw().calculate()}),r._uU(36,"Calculate shipping"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"a",33),r._UZ(38,"i",34),r._uU(39,"Proceed to Checkout"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("hidden",t.stillLoadingProducts()),r.xp6(4),r.Q6J("ngForOf",t.cart()),r.xp6(4),r.Q6J("hidden",t.stillLoadingProducts()),r.xp6(4),r.Oqu(t.formatPrice(t.total())),r.xp6(11),r.hij("Shipping: ",t.formatPrice(t.shipping()),"")}}let $C=(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}selectedProduct(){return bu.selectedProduct}selectedTemplate(){return bu.selectedTemplate}cartLength(){var t,e;return 0==(null===(t=bu.cart)||void 0===t?void 0:t.length)?"":null===(e=bu.cart)||void 0===e?void 0:e.length}cart(){return bu.cart}getColor(t){var e,n,r;let i=null===(e=bu.templates.find(e=>e.productCode==(null==t?void 0:t.productType)))||void 0===e?void 0:e.colors;return null!==(r=null===(n=null==i?void 0:i.find(e=>e.code==(null==t?void 0:t.templateColor)))||void 0===n?void 0:n.display)&&void 0!==r?r:"White"}stillLoadingProducts(){var t,e;return 0!=(null===(e=null===(t=bu.cart)||void 0===t?void 0:t.filter(t=>{var e;return null==(null===(e=t.product)||void 0===e?void 0:e.price)}))||void 0===e?void 0:e.length)}calculateShipping(t){this.selectedCountry=t.target.options[t.target.options.selectedIndex].text}onKey(t){this.selectedCode=t.target.value}calculateDiscount(){console.log(this.selectedCode)}updateProductQty(t,e){var n,r;t.quantity=Number(e);let i=[],o=[];null===(n=bu.cart)||void 0===n||n.forEach((t,e)=>{var n,r,s;if((null!==(n=t.quantity)&&void 0!==n?n:0)>0){let e={UID:null===(r=t.product)||void 0===r?void 0:r.uid,Size:t.size,Qty:t.quantity,Timestamp:t.timestamp,Post_ID:null===(s=t.product)||void 0===s?void 0:s.productID};i.push(e)}else o.push(t)}),bu.cart=null===(r=bu.cart)||void 0===r?void 0:r.filter(t=>!o.includes(t)),this.loadService.changeCart(i),this.cdr.detectChanges()}calculate(){this.cdr.detectChanges()}shipping(){var t,e;return(null!==(e=null===(t=bu.availableCurrencies.find(t=>t.name_full==this.selectedCountry))||void 0===t?void 0:t.shipping_rate_usd)&&void 0!==e?e:0)/100}total(){var t,e=0;return null===(t=bu.cart)||void 0===t||t.forEach(t=>{var n,r,i;e+=(null!==(r=null===(n=t.product)||void 0===n?void 0:n.price)&&void 0!==r?r:0)*(null!==(i=t.quantity)&&void 0!==i?i:1)}),e/100}format(t){return bu.months[t.getMonth()].substring(0,3)+" "+t.getDate()+" "+t.getFullYear()}callback(){var t,e,n,r;bu.storeInfo.uid&&(this.addTags(null!==(t=bu.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=bu.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(n=bu.storeInfo.bio)&&void 0!==n?n:"Check out my Thred Store!","shopmythred.com/"+bu.storeInfo.username),0==bu.availableCurrencies.length&&M(this.platformID)?this.loadService.getCountries():0==bu.templates.length&&M(this.platformID)?this.loadService.getTemplates():null==bu.cart&&M(this.platformID)?this.loadService.getCart():(console.log(null===(r=bu.cart[0].product)||void 0===r?void 0:r.name),console.log("Cart Loaded!"),this.cdr.detectChanges()))}init(){const t=this.getStoreName();bu.cart=void 0,this.downloadAllStoreInfo(t)}isBrowser(){return M(this.platformID)}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}formatPrice(t){var e=new String((t*bu.selectedCurrency.rate).toFixed(2));switch(e.indexOf(".")){case e.length-1:e+="00";break;case e.length-2:e+="0"}return this.getCurrencyForCountry(bu.selectedCurrency,"US"!=bu.selectedCurrency.name)+e}getCurrencyForCountry(t,e){var n=t.currency_symbol;return e&&(n=t.name+" "+n),n}addTags(t,e,n,r){this.metaService.updateTag({property:"og:title",content:t+" - Home"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:n})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}ngOnInit(){this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-cart"]],decls:3,vars:2,consts:[["class","bg-dark py-6",4,"ngIf"],["class","py-5",3,"hidden",4,"ngIf"],[1,"bg-dark","py-6"],[1,"cover",2,"background-image","url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)"],[1,"d-flex","align-items-center","justify-content-center",2,"height","200px","font-weight","bold","font-size","40px"],[1,"text-center",2,"line-height","1.2em","text-shadow","2px 2px #42424281"],[1,"py-5",3,"hidden"],[1,"container","pb-5","mb-2","mb-md-4"],[1,"row"],[1,"col-lg-8"],["class","d-sm-flex justify-content-between align-items-center pb-3 pt-3 border-bottom",4,"ngFor","ngForOf"],[1,"col-lg-4","pt-4","pt-lg-0","ps-xl-5"],[1,"bg-white","rounded-3","shadow-lg","p-4"],[1,"py-2","px-xl-2"],[1,"text-center","mb-4","pb-3","border-bottom",3,"hidden"],[1,"h6","mb-3","pb-1"],[1,"fw-normal"],["id","order-options",1,"accordion"],[1,"accordion-item"],[1,"accordion-header"],["href","#shipping-estimates","role","button","data-bs-toggle","collapse","aria-expanded","true","aria-controls","shipping-estimates",1,"accordion-button","collapsed"],["id","shipping-estimates","data-bs-parent","#order-options",1,"accordion-collapse","collapse"],[1,"accordion-body"],["novalidate","novalidate",1,"needs-validation"],[1,"mb-3"],[1,"h5","mb-3","pb-1"],["required","required",1,"form-select",3,"change"],["value",""],["value","United States"],["value","Canada"],["value","United Kingdom"],[1,"invalid-feedback"],["type","button",1,"btn","btn-outline-primary","d-block","w-100",3,"click"],["href","checkout-details.html",1,"btn","btn-primary","btn-shadow","d-block","w-100","mt-4"],[1,"ci-card","fs-lg","me-2"],[1,"d-sm-flex","justify-content-between","align-items-center","pb-3","pt-3","border-bottom"],[1,"d-block","d-sm-flex","align-items-center","text-center","text-sm-start"],["href","shop-single-v1.html",1,"d-inline-block","flex-shrink-0","mx-auto","me-sm-4"],["width","160","alt","Product",2,"border-radius","2.5%",3,"src"],[1,"pt-2"],[1,"text-dark","text-decoration-none",2,"font-weight","bold",3,"href"],[1,"fs-sm"],[1,"text-muted","me-2"],[1,"fs-lg","text-accent","pt-2"],[1,"pt-2","pt-sm-0","ps-sm-3","mx-auto","mx-sm-0","text-center","text-sm-start",2,"max-width","5.5rem"],["for","quantity1",1,"form-label"],["type","number","id","quantity1","min","1",1,"form-control",3,"value","change"],["qtyChooser",""],["type","button",1,"btn","btn-link","px-0","text-danger",3,"click"],[1,"ci-close-circle","me-0"],[1,"fs-sm",2,"font-size","10px"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,GC,5,0,"header",0),r.YNc(2,HC,40,5,"section",1)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,D,vE,yE,EE,AE],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]}),t})();function QC(t,e,n){return n?QC(t,e).pipe((0,Gr.U)(t=>(0,Zr.k)(t)?n(...t):n(t))):new Ht.y(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(o){return void n.error(o)}if((0,US.m)(e))return()=>e(r,i)})}let KC=(()=>{class t{constructor(t,e){this._doc=t,this.rendererFactory=e,this.darkScheme="(prefers-color-scheme:dark)",this.prefersColorScheme$=QC(t=>window.matchMedia(this.darkScheme).addListener(t)).pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>(0,Gr.U)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}("matches")),this.renderer=e.createRenderer(null,null)}getFavicon(){return this._doc.querySelector("link[rel*='icon']")}setFavicon(t,e){const n=this.getFavicon()||this.renderer.createElement("link");let r=t;e&&(this.subscribeToChangesInTheme(n,t,e),window.matchMedia(this.darkScheme).matches&&(r=e)),this.appendLinkTag(n,r)}subscribeToChangesInTheme(t,e,n){this.subscriptionToColorScheme=this.prefersColorScheme$.subscribe(r=>{this.appendLinkTag(t,r?n:e)})}appendLinkTag(t,e){t.type="image/x-icon",t.rel="shortcut icon",t.href=e;const n=this._doc.getElementsByTagName("head")[0];this.renderer.appendChild(n,t)}ngOnDestroy(){this.subscriptionToColorScheme&&this.subscriptionToColorScheme.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(r.FYo))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s),r.LFG(r.FYo))},token:t,providedIn:"root"}),t})();function YC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"a",25),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(3).applyProductFilter(e)}),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw(3);r.xp6(2),r.Oqu(n.titleCase(t.templateDisplayName))}}function JC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",24),r.TgZ(1,"a",15),r._uU(2,"Shop"),r.qZA(),r.TgZ(3,"ul",16),r.TgZ(4,"li"),r.TgZ(5,"a",25),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).applyProductFilter()}),r._uU(6,"All Products"),r.qZA(),r.qZA(),r.TgZ(7,"li"),r._UZ(8,"hr",26),r.qZA(),r.YNc(9,YC,3,1,"li",17),r.qZA(),r.qZA()}if(2&t){const t=r.oxw(2);r.xp6(9),r.Q6J("ngForOf",t.availableTemplates())}}function WC(t,e){if(1&t&&(r.TgZ(0,"li",9),r.TgZ(1,"a",11),r._uU(2,"Shop"),r.qZA(),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.MGl("href","/",t.storeInfo().username,"/products",r.LSH)}}function XC(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li"),r.TgZ(1,"a",25),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw(2).updateCurrency(e)}),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.AsE("",t.name," ",t.flag,"")}}function tx(t,e){if(1&t&&(r.TgZ(0,"nav",1),r.TgZ(1,"div",2),r._UZ(2,"img",3),r.TgZ(3,"a",4),r._uU(4),r.qZA(),r.TgZ(5,"button",5),r._UZ(6,"span",6),r.qZA(),r.TgZ(7,"div",7),r.TgZ(8,"ul",8),r.TgZ(9,"li",9),r.TgZ(10,"a",10),r._uU(11,"Home"),r.qZA(),r.qZA(),r.TgZ(12,"li",9),r.TgZ(13,"a",11),r._uU(14,"About"),r.qZA(),r.qZA(),r.TgZ(15,"li",9),r.TgZ(16,"a",11),r._uU(17,"Blogs"),r.qZA(),r.qZA(),r.YNc(18,JC,10,1,"li",12),r.YNc(19,WC,3,1,"ng-template",null,13,r.W1O),r.TgZ(21,"li",14),r.TgZ(22,"a",15),r._uU(23),r.qZA(),r.TgZ(24,"ul",16),r.YNc(25,XC,3,2,"li",17),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",18),r.TgZ(27,"button",19),r._UZ(28,"img",20),r.qZA(),r.TgZ(29,"a",21),r._UZ(30,"i",22),r._uU(31," My Bag "),r.TgZ(32,"span",23),r._uU(33),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.MAs(20),e=r.oxw();let n;r.Q6J("hidden",null==e.storeInfo().uid),r.xp6(2),r.s9C("src",e.storeInfo().profileLink,r.LSH),r.xp6(2),r.Oqu(e.storeInfo().fullName),r.xp6(6),r.MGl("href","/",e.storeInfo().username,"/home",r.LSH),r.xp6(3),r.MGl("href","/",e.storeInfo().username,"/about",r.LSH),r.xp6(3),r.MGl("href","/",e.storeInfo().username,"/blogs",r.LSH),r.xp6(2),r.Q6J("ngIf",e.isShopComponent())("ngIfElse",t),r.xp6(3),r.Q6J("hidden",null==e.selectedCurrency()||!e.shouldShowCurrency()),r.xp6(2),r.AsE("",null!==(n=null==(n=e.selectedCurrency())?null:n.name)&&void 0!==n?n:""," ",null!==(n=null==(n=e.selectedCurrency())?null:n.flag)&&void 0!==n?n:"",""),r.xp6(2),r.Q6J("ngForOf",e.availableCurrencies()),r.xp6(1),r.Q6J("hidden",null==e.selectedCurrency()),r.xp6(3),r.MGl("href","/",e.storeInfo().username,"/cart",r.LSH),r.xp6(4),r.Oqu(e.cartLength())}}let ex=(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.ngxFavicon=e,this.cdr=n,this.router=r,this.loadService=i,this.modalService=o,this.title="thred-web",this.mode="All Products"}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}selectedProduct(){return bu.selectedProduct}selectedTemplate(){return bu.selectedTemplate}cartLength(){var t,e;return 0==(null===(t=bu.cart)||void 0===t?void 0:t.length)?"":null===(e=bu.cart)||void 0===e?void 0:e.length}updateCurrency(t){bu.selectedCurrency=t}viewCart(){this.modalService.open($C,{size:"lg"})}formatPrice(t){var e=new String((t*bu.selectedCurrency.rate).toFixed(2));switch(e.indexOf(".")){case e.length-1:e+="00";break;case e.length-2:e+="0"}return this.getCurrencyForCountry(bu.selectedCurrency,"US"!=bu.selectedCurrency.name)+e}getCurrencyForCountry(t,e){var n=t.currency_symbol;return e&&(n=t.name+" "+n),n}applyProductFilter(t){var e;let n=null==t?void 0:t.productCode;this.mode=this.titleCase(null!==(e=null==t?void 0:t.templateDisplayName)&&void 0!==e?e:"All Products"),bu.storeInfo.uid&&(this.loadService.myCallback=()=>this.cdr.detectChanges(),this.loadService.getPosts(n))}isShopComponent(){var t;return(null===(t=this.router.snapshot.firstChild)||void 0===t?void 0:t.component)==ax}shouldShowCurrency(){var t,e,n,r;return(null===(t=this.router.snapshot.firstChild)||void 0===t?void 0:t.component)==ax||(null===(e=this.router.snapshot.firstChild)||void 0===e?void 0:e.component)==ZC||(null===(n=this.router.snapshot.firstChild)||void 0===n?void 0:n.component)==MS||(null===(r=this.router.snapshot.firstChild)||void 0===r?void 0:r.component)==$C}isBrowser(){return M(this.platformID)}titleCase(t){for(var e=t.toLowerCase().split(" "),n=0;n<e.length;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].substring(1);return e.join(" ")}ngOnInit(){this.ngxFavicon.setFavicon("favicon.png")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(KC),r.Y36(r.sBO),r.Y36(Is),r.Y36(OS),r.Y36(wC))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","navbar navbar-expand-lg navbar-light bg-light",3,"hidden",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light",3,"hidden"],[1,"container","px-4","px-lg-5"],[1,"rounded-circle",3,"src"],["href","#!",1,"navbar-brand","px-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0","ms-lg-4"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"href"],[1,"nav-link",3,"href"],["class","nav-item dropdown",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"nav-item","dropdown",3,"hidden"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"d-flex",3,"hidden"],[1,"btn","btn-outline-dark","me-2"],["src","/assets/account.png",1,"rounded-circle"],[1,"btn","btn-outline-dark",3,"href"],[1,"bi-cart-fill","me-1"],[1,"badge","bg-dark","text-white","ms-1","rounded-pill"],[1,"nav-item","dropdown"],["role","button",1,"dropdown-item",3,"click"],[1,"dropdown-divider"]],template:function(t,e){1&t&&(r.YNc(0,tx,34,15,"nav",0),r._UZ(1,"router-outlet")),2&t&&r.Q6J("ngIf",e.isBrowser())},directives:[N,Ya,rC,D],styles:["img[_ngcontent-%COMP%]{max-width:30px;height:auto}"]}),t})();function nx(t,e){if(1&t&&(r.TgZ(0,"header",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"p",6),r._uU(4),r.qZA(),r.TgZ(5,"h1",6),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(4),r.Oqu(t.storeInfo().fullName),r.xp6(2),r.Oqu(t.mode())}}function rx(t,e){if(1&t&&(r.TgZ(0,"div",11),r.TgZ(1,"div",12),r._UZ(2,"img",13),r.TgZ(3,"div",14),r.TgZ(4,"div",15),r.TgZ(5,"h5",16),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",17),r.TgZ(8,"div",15),r.TgZ(9,"a",18),r._uU(10),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.xp6(2),r.s9C("src",t.url,r.LSH),r.xp6(4),r.Oqu(t.name),r.xp6(3),r.hYB("href","/",n.storeInfo().username,"/products/",t.productID,"",r.LSH),r.xp6(1),r.Oqu(n.formatPrice(t.price/100))}}const ix=function(){return[]};function ox(t,e){if(1&t&&(r.TgZ(0,"section",7),r.TgZ(1,"div",8),r.TgZ(2,"div",9),r.YNc(3,rx,11,5,"div",10),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(1),r.Q6J("hidden",t.products()==r.DdM(3,ix)),r.xp6(2),r.Q6J("ngForOf",t.products())}}function sx(t,e){if(1&t&&(r.TgZ(0,"footer",19),r.TgZ(1,"div",20),r.TgZ(2,"p",21),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",20),r.TgZ(5,"p",21),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.Q6J("hidden",null==t.storeInfo().uid),r.xp6(3),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021")}}let ax=(()=>{class t{constructor(t,e,n,r,i,o,s){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o,this.rootComponent=s,this.isImgLoaded=!1}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}selectedProduct(){return bu.selectedProduct}ngOnInit(){this.init()}isBrowser(){return M(this.platformID)}callback(){var t,e,n;bu.storeInfo.uid&&(this.addTags(null!==(t=bu.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=bu.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(n=bu.storeInfo.bio)&&void 0!==n?n:"Check out my Thred Store!","shopmythred.com/"+bu.storeInfo.username),0==bu.availableCurrencies.length&&M(this.platformID)?this.loadService.getCountries():0==bu.templates.length&&M(this.platformID)?this.loadService.getTemplates():0==bu.products.length&&M(this.platformID)?this.loadService.getPosts():null==bu.cart&&M(this.platformID)?this.loadService.getCart():(console.log("Store Loaded!"),this.cdr.detectChanges(),this.loadService.myCallback=void 0,this.rootComponent.cdr.detectChanges()))}init(){const t=this.getStoreName();console.log("arash"),bu.cart=void 0,this.downloadAllStoreInfo(t)}mode(){return this.rootComponent.mode}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}open(t,e){}addTags(t,e,n,r){this.metaService.updateTag({property:"og:title",content:t+" - Products"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:n})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}formatPrice(t){var e=new String((t*bu.selectedCurrency.rate).toFixed(2));switch(e.indexOf(".")){case e.length-1:e+="00";break;case e.length-2:e+="0"}return this.getCurrencyForCountry(bu.selectedCurrency,"US"!=bu.selectedCurrency.name)+e}getCurrencyForCountry(t,e){var n=t.currency_symbol;return e&&(n=t.name+" "+n),n}titleCase(t){for(var e=t.toLowerCase().split(" "),n=0;n<e.length;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].substring(1);return e.join(" ")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS),r.Y36(ex))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-shop"]],decls:4,vars:3,consts:[["class","bg-dark py-5",3,"hidden",4,"ngIf"],["class","py-5",3,"hidden",4,"ngIf"],["class","py-5 bg-dark",3,"hidden",4,"ngIf"],[1,"bg-dark","py-5",3,"hidden"],[1,"container","px-4","px-lg-5","my-5"],[1,"text-center","text-white"],[1,"display-4","fw-bolder"],[1,"py-5",3,"hidden"],[1,"container","px-4","px-lg-5","mt-5",3,"hidden"],[1,"row","gx-4","gx-lg-5","row-cols-1","row-cols-md-3","row-cols-xl-4","justify-content-center"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"col","mb-5"],[1,"card","h-100"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-body","p-2","pb-0"],[1,"text-center"],[1,"fw-bolder"],[1,"card-footer","p-4","pt-0","pb-3","border-top-0","bg-transparent"],[1,"btn","btn-outline-success","mt-auto",2,"font-weight","bold",3,"href"],[1,"py-5","bg-dark",3,"hidden"],[1,"container"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,nx,7,3,"header",0),r.YNc(2,ox,4,4,"section",1),r.YNc(3,sx,7,2,"footer",2)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,D],styles:[""]}),t})();function ux(t,e){1&t&&(r.TgZ(0,"header",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"p",6),r._uU(4," ABOUT US "),r.qZA(),r.qZA(),r.qZA(),r.qZA())}function cx(t,e){if(1&t&&(r.TgZ(0,"section",7),r._UZ(1,"img",8),r.TgZ(2,"p",9),r._uU(3," Our Story "),r.qZA(),r._UZ(4,"p",10),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.s9C("src",t.storeInfo().profileLink,r.LSH),r.xp6(3),r.Q6J("innerHTML",t.storeBio(),r.oJD)}}function lx(t,e){if(1&t&&(r.TgZ(0,"footer",11),r.TgZ(1,"div",12),r.TgZ(2,"p",13),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",12),r.TgZ(5,"p",13),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021")}}function hx(t,e){1&t&&(r.TgZ(0,"header",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"p",6),r._uU(4,"BLOGS"),r.qZA(),r.qZA(),r.qZA(),r.qZA())}function dx(t,e){if(1&t&&(r.TgZ(0,"div",11),r.TgZ(1,"div",12),r._UZ(2,"img",13),r.TgZ(3,"div",14),r.TgZ(4,"div",15),r.TgZ(5,"h5",16),r._uU(6),r.qZA(),r.TgZ(7,"h5",17),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",18),r.TgZ(10,"div",15),r.TgZ(11,"a",19),r._uU(12,"READ MORE"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw(2);r.xp6(2),r.s9C("src",t.coverURl,r.LSH),r.xp6(4),r.Oqu(t.title),r.xp6(2),r.AsE("",n.storeInfo().fullName," \u2022 ",n.format(t.timestamp),""),r.xp6(3),r.hYB("href","/",n.storeInfo().username,"/blogs/",t.blogID,"",r.LSH)}}function fx(t,e){if(1&t&&(r.TgZ(0,"section",7),r.TgZ(1,"div",8),r.TgZ(2,"div",9),r.YNc(3,dx,13,6,"div",10),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.Q6J("ngForOf",t.blogs())}}function px(t,e){if(1&t&&(r.TgZ(0,"footer",20),r.TgZ(1,"div",21),r.TgZ(2,"p",22),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",21),r.TgZ(5,"p",22),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021")}}const mx=function(t){return{"background-image":t}};function gx(t,e){if(1&t&&(r.TgZ(0,"header",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"p",6),r._uU(4),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();let e;r.xp6(1),r.Q6J("ngStyle",r.VKq(3,mx,t.coverUrl())),r.xp6(1),r.Q6J("hidden",null==(null==(e=t.selectedBlog())?null:e.title)),r.xp6(2),r.hij(" ",t.selectedBlog().title," ")}}function yx(t,e){if(1&t&&r._UZ(0,"img",18),2&t){const t=r.oxw().$implicit;r.s9C("src",t.Content,r.LSH)}}function vx(t,e){if(1&t&&r._UZ(0,"p",21),2&t){const t=r.oxw(2).$implicit,e=r.oxw(2);r.Q6J("innerHTML",e.formattedText(t.Content),r.oJD)}}function bx(t,e){if(1&t&&(r.TgZ(0,"div",23),r._UZ(1,"img",24),r.TgZ(2,"div",25),r.TgZ(3,"div",26),r.TgZ(4,"a",27),r._uU(5,"View Product"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw(3).$implicit,e=r.oxw(2);r.xp6(1),r.s9C("src",e.productUrl(t),r.LSH),r.xp6(3),r.hYB("href","/",e.storeInfo().username,"/products/",t.Content,"",r.LSH)}}function wx(t,e){if(1&t&&r.YNc(0,bx,6,3,"div",22),2&t){const t=r.oxw(2).$implicit;r.Q6J("ngIf","Product_Link"==t.Type)}}function _x(t,e){if(1&t&&(r.YNc(0,vx,1,1,"p",19),r.YNc(1,wx,1,1,"ng-template",null,20,r.W1O)),2&t){const t=r.MAs(2),e=r.oxw().$implicit;r.Q6J("ngIf","Text"==e.Type)("ngIfElse",t)}}function Tx(t,e){if(1&t&&(r.TgZ(0,"div",15),r.YNc(1,yx,1,1,"img",16),r.YNc(2,_x,3,2,"ng-template",null,17,r.W1O),r.qZA()),2&t){const t=e.$implicit,n=r.MAs(3);r.xp6(1),r.Q6J("ngIf","Image"==t.Type)("ngIfElse",n)}}const Sx=function(){return[]};function Ex(t,e){if(1&t&&(r.TgZ(0,"section",7),r.TgZ(1,"div",8),r.TgZ(2,"p",9),r._uU(3),r.qZA(),r.TgZ(4,"div",10),r.YNc(5,Tx,4,2,"div",11),r.qZA(),r._UZ(6,"hr"),r.qZA(),r._UZ(7,"img",12),r.TgZ(8,"p",13),r._uU(9),r.qZA(),r.TgZ(10,"p",14),r._uU(11),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("hidden",t.blogItems()==r.DdM(7,Sx)),r.xp6(2),r.AsE(" ",t.format(t.selectedBlog().timestamp)," \u2022 ",t.minRead()," "),r.xp6(2),r.Q6J("ngForOf",t.blogItems()),r.xp6(2),r.s9C("src",t.storeInfo().profileLink,r.LSH),r.xp6(2),r.hij(" ",t.storeInfo().fullName," "),r.xp6(2),r.hij(" Follow us on Thred! @",t.storeInfo().username," ")}}function Cx(t,e){if(1&t&&(r.TgZ(0,"footer",28),r.TgZ(1,"div",29),r.TgZ(2,"p",30),r._uU(3),r.qZA(),r.qZA(),r.TgZ(4,"div",29),r.TgZ(5,"p",30),r._uU(6,"Made with Thred"),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(3),r.hij("Copyright \xa9 ",t.storeInfo().fullName," 2021")}}const xx=[{path:"",redirectTo:"/thred/home",pathMatch:"full"},{path:":user",redirectTo:"/:user/home",pathMatch:"full"},{path:":user/home",component:MS},{path:":user/about",component:(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o,this.defaultBio="Hello! <br/><br/>FULL9NAME was made for creative trail blazers like you. The dreamers who seek new adventures that warp reality and transcend time. Our lust for life lives on through our unique pieces. Here\u2019s your chance to display inspiration, love, heartache, vibes in the form of a unique piece of clothing/accessory not found anywhere else in the world but here\u2026 <br/><br/>With a purchase of FULL9NAME you show the world that you are a free thinker, and belong to the tribe of dreamers. We welcome you with open arms. <br/><br/> We are FULL9NAME."}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}isBrowser(){return M(this.platformID)}storeBio(){var t,e,n;let r=this.storeInfo().bio;return""==r||null==r?this.defaultBio.replace(/FULL9NAME/g,null!==(e=null===(t=this.storeInfo().fullName)||void 0===t?void 0:t.trim())&&void 0!==e?e:"This brand"):null!==(n=r.replace(/\n/g,"<br>"))&&void 0!==n?n:""}ngOnInit(){this.init()}callback(){var t,e,n;bu.storeInfo.uid&&(this.addTags(null!==(t=bu.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=bu.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(n=bu.storeInfo.bio)&&void 0!==n?n:"Check out my Thred Store!","shopmythred.com/"+bu.storeInfo.username),null==bu.cart&&M(this.platformID)?this.loadService.getCart():M(this.platformID)&&this.cdr.detectChanges())}init(){const t=this.getStoreName();bu.cart=void 0,this.downloadAllStoreInfo(t)}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}addTags(t,e,n,r){this.metaService.updateTag({property:"og:title",content:t+" - About"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:n})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-about"]],decls:4,vars:3,consts:[["class","bg-dark py-6",4,"ngIf"],["class","py-5",4,"ngIf"],["class","py-5 bg-dark",4,"ngIf"],[1,"bg-dark","py-6"],[1,"cover",2,"background-image","url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)"],[1,"d-flex","align-items-center","justify-content-center",2,"height","300px","font-weight","bold","font-size","40px"],[1,"text-center",2,"line-height","1.2em","text-shadow","2px 2px #42424281"],[1,"py-5"],[1,"rounded-circle","mx-auto","d-block","mb-5",3,"src"],[1,"text-center","px-5","mx-5",2,"font-size","30px","line-height","1.2em","font-weight","bold"],[1,"text-left","px-5","mx-2",2,"font-size","20px","line-height","1.2em",3,"innerHTML"],[1,"py-5","bg-dark"],[1,"container"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,ux,5,0,"header",0),r.YNc(2,cx,5,2,"section",1),r.YNc(3,lx,7,1,"footer",2)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]}),t})()},{path:":user/products",component:ax},{path:":user/blogs",component:(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o}storeInfo(){return bu.storeInfo}blogs(){return bu.blogs}ngOnInit(){this.init()}callback(){var t,e,n;bu.storeInfo.uid&&(this.addTags(null!==(t=bu.storeInfo.fullName)&&void 0!==t?t:"Thred",(null!==(e=bu.storeInfo.profileLink)&&void 0!==e?e:new URL("https://shopmythred.com")).toString(),null!==(n=bu.storeInfo.bio)&&void 0!==n?n:"Check out my Thred Store!","shopmythred.com/"+bu.storeInfo.username),0==bu.blogs.length&&M(this.platformID)?this.loadService.getBlogs():null==bu.cart&&M(this.platformID)?this.loadService.getCart():(console.log("Blogs Loaded!"),this.cdr.detectChanges()))}addTags(t,e,n,r){this.metaService.updateTag({property:"og:title",content:t+" - Blogs"}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n}),this.titleService.setTitle(t),this.metaService.updateTag({property:"description",content:n})}format(t){return bu.months[t.getMonth()].substring(0,3)+" "+t.getDate()+" "+t.getFullYear()}isBrowser(){return M(this.platformID)}init(){const t=this.getStoreName();bu.cart=void 0,this.downloadAllStoreInfo(t)}downloadAllStoreInfo(t){this.loadService.myCallback=()=>this.callback(),this.loadService.getUser(t)}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-blogs"]],decls:4,vars:3,consts:[["class","bg-dark py-5",4,"ngIf"],["class","py-5",4,"ngIf"],["class","py-5 bg-dark",4,"ngIf"],[1,"bg-dark","py-5"],[1,"container","px-4","px-lg-5","my-5"],[1,"text-center","text-white"],[1,"display-4","fw-bolder"],[1,"py-5"],[1,"container","px-4","px-lg-5","mt-5"],[1,"row","gx-4","gx-lg-5","row-cols-1","row-cols-md-2","row-cols-xl-2","justify-content-center"],["class","col mb-5",4,"ngFor","ngForOf"],[1,"col","mb-5"],[1,"card","h-100"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top","pb-3",3,"src"],[1,"card-body","p-2","pb-5"],[1,"text-center"],[1,"fw-bolder",2,"font-size","30px","line-height","1.2em"],[1,"fw-normal",2,"color","gray","font-size","15px"],[1,"card-footer","p-4","pt-0","pb-3","border-top-0","bg-transparent"],[1,"btn","btn-outline-dark","mt-auto",2,"font-weight","bold",3,"href"],[1,"py-5","bg-dark"],[1,"container"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,hx,5,0,"header",0),r.YNc(2,fx,4,1,"section",1),r.YNc(3,px,7,1,"footer",2)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,D],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}"]}),t})()},{path:":user/products/:product",component:ZC},{path:":user/blogs/:article",component:(()=>{class t{constructor(t,e,n,r,i,o){this.platformID=t,this.cdr=e,this.router=n,this.titleService=r,this.metaService=i,this.loadService=o}storeInfo(){return bu.storeInfo}availableCurrencies(){return bu.availableCurrencies}selectedCurrency(){return bu.selectedCurrency}templates(){return bu.availableTemplates}availableTemplates(){return bu.availableTemplates}products(){return bu.products}blogs(){return bu.blogs}selectedBlog(){return bu.selectedBlog}blogItems(){var t,e;return null!==(e=null===(t=this.selectedBlog())||void 0===t?void 0:t.blogItems)&&void 0!==e?e:[]}isBrowser(){return M(this.platformID)}formattedText(t){var e;return null!==(e=t.replace(/\n/g,"<br>"))&&void 0!==e?e:""}isText(t){return"Text"==t.Type}productUrl(t){var e;return this.loadService.getURL(null!==(e=this.storeInfo().uid)&&void 0!==e?e:"",t.Content)}coverUrl(){return"url("+this.selectedBlog().coverURl.toString()+")"}format(t){return bu.months[t.getMonth()]+", "+t.getDate()+" "+t.getFullYear()}ngOnInit(){this.init()}minRead(){var t,e;return Math.ceil(.5*(null!==(e=null===(t=bu.selectedBlog)||void 0===t?void 0:t.blogItems.length)&&void 0!==e?e:0))+" min read"}checkLoad(t){var e,n,r,i,o;if(null!=bu.selectedBlog){if(this.addTags(null!==(n=null===(e=bu.selectedBlog)||void 0===e?void 0:e.title)&&void 0!==n?n:"",null!==(o=null===(i=null===(r=bu.selectedBlog)||void 0===r?void 0:r.coverURl)||void 0===i?void 0:i.toString())&&void 0!==o?o:"","","https://shopmythred.com"),M(this.platformID)){if(null==bu.storeInfo.uid){const t=this.getStoreName();return void this.loadService.getUser(t)}null==bu.cart&&M(this.platformID)?this.loadService.getCart():this.cdr.detectChanges()}}else this.loadService.getBlog(t)}init(){const t=this.getArticleID();bu.selectedBlog=void 0,bu.cart=void 0,this.loadService.myCallback=()=>this.checkLoad(t),this.checkLoad(t)}getArticleID(){const t=this.router.snapshot.paramMap.get("article");return console.log(t),t}addTags(t,e,n,r){var i,o;this.metaService.updateTag({property:"og:title",content:t}),this.metaService.updateTag({property:"og:image",content:e}),this.metaService.updateTag({property:"og:url",content:r}),this.metaService.updateTag({property:"og:description",content:n});var s=t;bu.storeInfo.fullName&&(s+=null!==(o=" - "+(null===(i=bu.storeInfo)||void 0===i?void 0:i.fullName))&&void 0!==o?o:""),this.titleService.setTitle(s),this.metaService.updateTag({property:"description",content:n})}getStoreName(){const t=this.router.snapshot.paramMap.get("user");return console.log(t),t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Lbi),r.Y36(r.sBO),r.Y36(Is),r.Y36(xt),r.Y36(St),r.Y36(OS))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-article"]],decls:4,vars:3,consts:[["class","bg-dark py-6",4,"ngIf"],["class","py-5",4,"ngIf"],["class","py-5 bg-dark",4,"ngIf"],[1,"bg-dark","py-6"],[1,"cover",3,"ngStyle"],[1,"d-flex","align-items-center","justify-content-center",2,"height","600px","font-weight","bold","font-size","40px",3,"hidden"],[1,"text-center",2,"line-height","1.2em","text-shadow","2px 2px #42424281"],[1,"py-5"],[1,"container","px-4","px-lg-5","mb-4",2,"max-width","900px",3,"hidden"],[1,"text-left","mb-5",2,"font-size","15px","line-height","1.5em","color","dimgray"],[1,"row","gx-4","gx-lg-5","row-cols-1","row-cols-md-1","row-cols-xl-1","justify-content-center","mb-5"],["class","col mb-2",4,"ngFor","ngForOf"],[1,"rounded-circle","mx-auto","d-block","mb-4","mt-5",2,"max-width","120px",3,"src"],[1,"text-center","px-5","mx-5",2,"font-size","18px","line-height","1.2em","font-weight","bold"],[1,"text-center","px-5","mx-5",2,"font-size","14px","line-height","1.2em","font-weight","normal","color","dimgray"],[1,"col","mb-2"],["class","card-img-top mt-3","alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",3,"src",4,"ngIf","ngIfElse"],["elseBlock",""],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top","mt-3",3,"src"],["class","text-left mt-3","style","font-size: 18px;line-height:1.5em;",3,"innerHTML",4,"ngIf","ngIfElse"],["elseBlock2",""],[1,"text-left","mt-3",2,"font-size","18px","line-height","1.5em",3,"innerHTML"],["style","max-width: 400px","class","mx-auto mt-3 d-block card h-100",4,"ngIf"],[1,"mx-auto","mt-3","d-block","card","h-100",2,"max-width","400px"],["alt","ok","onerror","this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';",1,"card-img-top",3,"src"],[1,"card-footer","p-4","pt-0","pb-0","border-top-0","bg-transparent"],[1,"text-center"],[1,"btn","btn-outline-dark","mt-3",2,"font-weight","bold",3,"href"],[1,"py-5","bg-dark"],[1,"container"],[1,"m-0","text-center","text-white"]],template:function(t,e){1&t&&(r._UZ(0,"router-outlet"),r.YNc(1,gx,5,5,"header",0),r.YNc(2,Ex,12,8,"section",1),r.YNc(3,Cx,7,1,"footer",2)),2&t&&(r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()),r.xp6(1),r.Q6J("ngIf",e.isBrowser()))},directives:[Ya,N,L,D],styles:[".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-size:cover}"]}),t})()},{path:":user/cart",component:$C}];let Ix=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[su.forRoot(xx,{initialNavigation:"enabled"})],su]}),t})();class Ax{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new kx(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class kx extends Ot.L{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new It.xQ,n.set(e,i);const t=new Ox(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Ox(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Dx(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Dx extends Ot.L{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Ox extends Ht.y{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Qr.w,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Nx(n)),e.add(r.subscribe(t)),e}}class Nx extends Qr.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const Rx=new r.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Px=new r.OlP("angularfire2.analytics.appVersion"),Lx=new r.OlP("angularfire2.analytics.appName"),Fx=new r.OlP("angularfire2.analytics.debugMode"),Mx=new r.OlP("angularfire2.analytics.config");let Ux=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),M(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=(0,Dt.of)(void 0).pipe((0,ku.QV)(new Du.HU(u).outsideAngular),Xi(()=>M(a)?u.runOutsideAngular(()=>n.e(636).then(n.bind(n,75636))):Rt.E),(0,Gr.U)(()=>(0,Du.sI)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),oS({bufferSize:1,refCount:!1}));return(0,Du.pX)(this,c,u)}updateConfig(t){return(0,Nu.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Du.Ot),r.LFG(Rx,8),r.LFG(Px,8),r.LFG(Lx,8),r.LFG(Fx,8),r.LFG(Mx,8),r.LFG(r.Lbi),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Du.Ot),r.LFG(Rx,8),r.LFG(Px,8),r.LFG(Lx,8),r.LFG(Fx,8),r.LFG(Mx,8),r.LFG(r.Lbi),r.LFG(r.R0b))},token:t,providedIn:"any"}),t})(),qx=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],U(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ux),r.LFG(r.Lbi),r.LFG(pS),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const jx="screen_class";let Vx=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Bx={},Zx=t=>{const e=[t.screen_class,t.outlet].join("#");if(Bx.hasOwnProperty(e))return Bx[e];{const t=Vx++;return Bx[e]=t,t}};let Gx=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!M(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(ri(t=>t instanceof Lo));var o;this.disposable=i.pipe(Xi(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return(0,Dt.of)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===na){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return(0,Dt.of)(Object.assign(Object.assign({},c),{[jx]:l}));if(l){const t=r.resolveComponentFactory(l);return(0,Dt.of)(Object.assign(Object.assign({},c),{[jx]:t.selector}))}return(0,Dt.of)(null)}),ri(t=>t),(0,Gr.U)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:Zx(t)},t)),(o=t=>t.outlet,t=>t.lift(new Ax(o,void 0,void 0,void 0))),(0,ei.zg)(e=>e.pipe(Mt((t,e)=>JSON.stringify(t)===JSON.stringify(e)),no(void 0),xu(),(0,Gr.U)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Xi(e=>(0,Nu.mG)(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ux),r.LFG(Ka,8),r.LFG(xt,8),r.LFG(r._Vd),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(qx,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),zx=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ux),r.LFG(Gx,8),r.LFG(qx,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Ux]}),t})();const Hx={apiKey:"AIzaSyD3Ec_FWZrlbTBWdgBWRrsBwMmXQ4aniWU",authDomain:"clothingapp-ed125.firebaseapp.com",databaseURL:"https://clothingapp-ed125.firebaseio.com",projectId:"clothingapp-ed125",storageBucket:"clothingapp-ed125.appspot.com",messagingSenderId:"628658827719",appId:"1:628658827719:web:66671544aeb6d2a78029e2",measurementId:"G-YVHCR44N65"};let $x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[ex]}),t.\u0275inj=r.cJS({providers:[bu],imports:[[F,_t.withServerTransition({appId:"serverApp"}),Ix,Mr,Br,Ui,Du.hO.initializeApp(Hx),DS,zx,Mi,NC,OE]]}),t})();(0,r.G48)(),document.addEventListener("DOMContentLoaded",()=>{bt().bootstrapModule($x).catch(t=>console.error(t))})},64762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=85397)}]);