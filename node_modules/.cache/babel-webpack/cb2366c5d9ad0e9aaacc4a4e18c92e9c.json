{"ast":null,"code":"import _asyncToGenerator from \"/Users/artakoroushnia/Desktop/thred-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { PLATFORM_ID } from '@angular/core';\nimport { Globals } from './globals';\nimport { ShopComponent } from './shop/shop.component';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport { CartComponent } from './cart/cart.component';\nimport { ViewOrderComponent } from './view-order/view-order.component';\nimport { ViewOrderInfoComponent } from './view-order-info/view-order-info.component';\nimport { LoginComponent } from './login/login.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./services/load.service\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\n\nfunction AppComponent_nav_0_li_15_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_15_li_9_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const type_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.applyProductFilter(type_r8);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const type_r8 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"font-family\", ctx_r7.storeInfo().fontName)(\"color\", ctx_r7.selectedTheme().color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r7.titleCase(type_r8.templateDisplayName));\n  }\n}\n\nfunction AppComponent_nav_0_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 21);\n    i0.ɵɵelementStart(1, \"a\", 15);\n    i0.ɵɵtext(2, \"SHOP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 16);\n    i0.ɵɵelementStart(4, \"li\");\n    i0.ɵɵelementStart(5, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_15_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.applyProductFilter();\n    });\n    i0.ɵɵtext(6, \"All Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵelement(8, \"hr\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AppComponent_nav_0_li_15_li_9_Template, 3, 6, \"li\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"font-family\", ctx_r1.storeInfo().fontName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r1.selectedTheme().bg_color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r1.selectedTheme().color)(\"font-family\", ctx_r1.storeInfo().fontName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.availableTemplates());\n  }\n}\n\nfunction AppComponent_nav_0_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 9);\n    i0.ɵɵelementStart(1, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_ng_template_16_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.routeToShop();\n    });\n    i0.ɵɵtext(2, \"SHOP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"font-family\", ctx_r3.storeInfo().fontName);\n  }\n}\n\nfunction AppComponent_nav_0_li_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_22_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const currency_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.updateCurrency(currency_r15);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const currency_r15 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"color\", ctx_r4.selectedTheme().color)(\"font-family\", ctx_r4.storeInfo().fontName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", currency_r15.name, \" \", currency_r15.flag, \"\");\n  }\n}\n\nfunction AppComponent_nav_0_li_24_li_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_24_li_8_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return ctx_r20.routeToOrders();\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r19 = ctx.$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"color\", ctx_r18.selectedTheme().color)(\"font-family\", ctx_r18.storeInfo().fontName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r19.Title);\n  }\n}\n\nfunction AppComponent_nav_0_li_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 24);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵelementStart(2, \"button\", 25);\n    i0.ɵɵelement(3, \"img\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 27);\n    i0.ɵɵelementStart(5, \"li\");\n    i0.ɵɵelementStart(6, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_24_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.accountPressed();\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AppComponent_nav_0_li_24_li_8_Template, 3, 6, \"li\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"/assets/account_\", ctx_r5.storeInfo().colorStyle.text_code, \".png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r5.selectedTheme().bg_color);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r5.selectedTheme().color)(\"font-family\", ctx_r5.storeInfo().fontName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.settings(false)[0].Title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.settings(true));\n  }\n}\n\nfunction AppComponent_nav_0_li_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\", 28);\n    i0.ɵɵelementStart(1, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_li_25_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.routeToCart();\n    });\n    i0.ɵɵtext(2, \" MY BAG \");\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"hidden\", ctx_r6.selectedCurrency() == undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"btn btn-outline-\", ctx_r6.storeInfo().colorStyle.text_code, \"\");\n    i0.ɵɵstyleProp(\"font-family\", ctx_r6.storeInfo().fontName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMapInterpolate2(\"badge bg-\", ctx_r6.storeInfo().colorStyle.text_code, \" text-\", ctx_r6.storeInfo().colorStyle.back_code, \" ms-1 rounded-pill\");\n    i0.ɵɵstyleProp(\"font-family\", ctx_r6.storeInfo().fontName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.cartLength());\n  }\n}\n\nfunction AppComponent_nav_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"nav\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementStart(3, \"a\", 4);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.routeToHome();\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 5);\n    i0.ɵɵelement(6, \"span\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 7);\n    i0.ɵɵelementStart(8, \"ul\", 8);\n    i0.ɵɵelementStart(9, \"li\", 9);\n    i0.ɵɵelementStart(10, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.routeToHome();\n    });\n    i0.ɵɵtext(11, \"HOME\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"li\", 9);\n    i0.ɵɵelementStart(13, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function AppComponent_nav_0_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.routeToAbout();\n    });\n    i0.ɵɵtext(14, \"ABOUT\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, AppComponent_nav_0_li_15_Template, 10, 11, \"li\", 12);\n    i0.ɵɵtemplate(16, AppComponent_nav_0_ng_template_16_Template, 3, 2, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(18, \"li\", 14);\n    i0.ɵɵelementStart(19, \"a\", 15);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ul\", 16);\n    i0.ɵɵtemplate(22, AppComponent_nav_0_li_22_Template, 3, 7, \"li\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"ul\", 18);\n    i0.ɵɵtemplate(24, AppComponent_nav_0_li_24_Template, 9, 11, \"li\", 19);\n    i0.ɵɵtemplate(25, AppComponent_nav_0_li_25_Template, 5, 13, \"li\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(17);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_13_0;\n    i0.ɵɵclassMapInterpolate2(\"navbar navbar-expand-lg navbar-\", ctx_r0.storeInfo().colorStyle.back_code, \" bg-\", ctx_r0.storeInfo().colorStyle.back_code, \"\");\n    i0.ɵɵproperty(\"hidden\", ctx_r0.storeInfo().username == undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.storeInfo().profileLink, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"navbar-brand px-2 text-\", ctx_r0.storeInfo().colorStyle.text_code, \"\");\n    i0.ɵɵstyleProp(\"font-family\", ctx_r0.storeInfo().fontName);\n    i0.ɵɵclassProp(\"smallTitle\", ctx_r0.isMobile())(\"bigTitle\", !ctx_r0.isMobile());\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.storeInfo().fullName);\n    i0.ɵɵadvance(6);\n    i0.ɵɵstyleProp(\"font-family\", ctx_r0.storeInfo().fontName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"font-family\", ctx_r0.storeInfo().fontName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isShopComponent())(\"ngIfElse\", _r2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"hidden\", ctx_r0.selectedCurrency() == undefined || !ctx_r0.shouldShowCurrency());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((tmp_13_0 = (tmp_13_0 = ctx_r0.selectedCurrency()) == null ? null : tmp_13_0.flag) !== null && tmp_13_0 !== undefined ? tmp_13_0 : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r0.selectedTheme().bg_color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.availableCurrencies());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideCart());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideCart());\n  }\n}\n\nexport class AppComponent {\n  constructor(platformID, cdr, router, loadService, modalService, _router) {\n    this.platformID = platformID;\n    this.cdr = cdr;\n    this.router = router;\n    this.loadService = loadService;\n    this.modalService = modalService;\n    this._router = _router;\n    this.title = 'thred-web';\n    this.mode = \"All Products\";\n    this.profileSettings = [];\n    this.cart = undefined;\n  }\n\n  storeInfo() {\n    return Globals.storeInfo;\n  }\n\n  availableCurrencies() {\n    return Globals.availableCurrencies;\n  }\n\n  selectedCurrency() {\n    return Globals.selectedCurrency;\n  }\n\n  templates() {\n    return Globals.availableTemplates;\n  }\n\n  availableTemplates() {\n    return Globals.availableTemplates;\n  }\n\n  selectedProduct() {\n    return Globals.selectedProduct;\n  }\n\n  selectedTemplate() {\n    return Globals.selectedTemplate;\n  }\n\n  changeIcon() {\n    document.getElementById('appIcon').setAttribute('href', 'https://www.google.com/favicon.ico');\n  }\n\n  setOptions() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.profileSettings = [];\n      var option = {\n        \"Title\": \"My Account\",\n        \"Link\": \"/\" + \"STORE_NAME\" + \"/my-store\",\n        \"Function\": _this.routeToProfile\n      };\n      var option2 = {\n        \"Title\": \"View Orders\",\n        \"Link\": \"/\" + \"STORE_NAME\" + \"/orders\",\n        \"Function\": _this.routeToOrders\n      }; // if (!(await this.loadService.isLoggedIn())?.uid){\n      //   option = {\n      //     \"Title\": \"My Account\",\n      //     \"Link\" : \"/\" + \"STORE_NAME\" + \"/my-store\",\n      //   }\n      // }\n\n      _this.profileSettings = [option, option2];\n    })();\n  }\n\n  closeBtn(result) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      // this.modalService.dismissAll(\"success\")\n      var _a;\n\n      if ((yield _this2.loadService.authenticated()) && !((_a = yield _this2.loadService.isLoggedIn()) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n        _this2.routeToProfile();\n      } else {\n        _this2.routeToHome();\n      }\n    })();\n  }\n\n  selectedTheme() {\n    var _a, _b, _c, _d, _e, _f;\n\n    let co = (_b = (_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.colorStyle) === null || _b === void 0 ? void 0 : _b.btn_color;\n    let bco = (_d = (_c = Globals.storeInfo) === null || _c === void 0 ? void 0 : _c.colorStyle) === null || _d === void 0 ? void 0 : _d.bg_color;\n    let name = (_f = (_e = Globals.storeInfo) === null || _e === void 0 ? void 0 : _e.colorStyle) === null || _f === void 0 ? void 0 : _f.name;\n    let color = \"rgba(\" + co[0] + \",\" + co[1] + \",\" + co[2] + \",\" + co[3] + \")\";\n    let bg_color = \"rgba(\" + bco[0] + \",\" + bco[1] + \",\" + bco[2] + \",\" + bco[3] + \")\";\n    var theme = {\n      \"name\": name,\n      \"color\": color,\n      \"bg_color\": bg_color\n    };\n    return theme;\n  }\n\n  reloadCurrentRoute() {\n    const currentUrl = this._router.url;\n\n    this._router.navigateByUrl('/', {\n      skipLocationChange: true\n    }).then(() => {\n      this._router.navigate([currentUrl]);\n    });\n  }\n\n  isAdmin() {\n    var _a, _b, _c;\n\n    return (_c = (_b = (_a = this.router.snapshot.firstChild) === null || _a === void 0 ? void 0 : _a.routeConfig) === null || _b === void 0 ? void 0 : _b.path) === null || _c === void 0 ? void 0 : _c.includes(\"my-store\");\n  }\n\n  isOrder() {\n    var _a, _b, _c;\n\n    return (_c = (_b = (_a = this.router.snapshot.firstChild) === null || _a === void 0 ? void 0 : _a.routeConfig) === null || _b === void 0 ? void 0 : _b.path) === null || _c === void 0 ? void 0 : _c.includes(\"orders\");\n  }\n\n  routeToProfile() {\n    var _a, _b, _c, _d, _e;\n\n    if ((_a = Globals.userInfo) === null || _a === void 0 ? void 0 : _a.username) {\n      this.loadService.myCallback = undefined;\n\n      if (Globals.storeInfo.uid != ((_b = Globals.userInfo) === null || _b === void 0 ? void 0 : _b.uid)) {\n        if ((_c = Globals.userInfo) === null || _c === void 0 ? void 0 : _c.username) {\n          Globals.storeInfo = JSON.parse(JSON.stringify(Globals.userInfo));\n          console.log(Globals.storeInfo);\n\n          this._router.navigateByUrl('/', {\n            skipLocationChange: true\n          }).then(() => {\n            var _a;\n\n            this._router.navigateByUrl(((_a = Globals.userInfo) === null || _a === void 0 ? void 0 : _a.username) + \"/\" + \"my-store\");\n          });\n        }\n      } else {\n        if ((_d = Globals.storeInfo) === null || _d === void 0 ? void 0 : _d.username) {\n          if (this.isAdmin()) {\n            this.reloadCurrentRoute();\n          } else {\n            this._router.navigateByUrl(((_e = Globals.storeInfo) === null || _e === void 0 ? void 0 : _e.username) + \"/\" + \"my-store\");\n          }\n        }\n      }\n    } else {\n      console.log(\"not\");\n\n      this.loadService.myCallback = () => this.routeToProfile();\n\n      this.loadService.getCustomer();\n    }\n  }\n\n  getCart() {\n    if (this.cart == undefined && isPlatformBrowser(this.platformID)) {\n      console.log(\"Getting Cart\");\n      this.loadService.getCart(false, cart => {\n        this.cart = cart;\n        console.log(cart);\n      });\n    }\n  }\n\n  routeToHome() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"home\");\n  }\n\n  routeToOrders() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"orders\");\n  }\n\n  routeToShop() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"products\");\n  }\n\n  routeToAbout() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"about\");\n  }\n\n  routeToCart() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"cart\");\n  }\n\n  accountPressed() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      if ((yield _this3.loadService.authenticated()) && !((_a = yield _this3.loadService.isLoggedIn()) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n        _this3.routeToProfile();\n      } else {\n        if (!_this3.isOrder()) {\n          if (Globals.availableCurrencies == undefined || Globals.availableCurrencies == [] || Globals.availableTemplates == undefined || Globals.availableTemplates == [] || Globals.orders == [] || Globals.storeInfo.username == undefined || Globals.storeInfo.username == \"\" || isPlatformServer(_this3.platformID)) {\n            return;\n          }\n        }\n\n        if (!_this3.modalService.hasOpenModals()) {\n          const modalRef = _this3.modalService.open(LoginComponent, {\n            size: \"lg\"\n          });\n\n          let sub = modalRef.dismissed.subscribe(result => {\n            _this3.closeBtn(result);\n\n            console.log(\"man\");\n            sub.unsubscribe();\n          });\n          modalRef.componentInstance.authMode = 1;\n        }\n      }\n    })();\n  }\n\n  settings(popFirst) {\n    var _a, _b;\n\n    if (popFirst) {\n      return (_a = this.profileSettings.slice(1)) !== null && _a !== void 0 ? _a : [];\n    }\n\n    return (_b = this.profileSettings) !== null && _b !== void 0 ? _b : [];\n  }\n\n  storeLink(link) {\n    var _a;\n\n    return link.replace(\"STORE_NAME\", (_a = this.storeInfo().username) !== null && _a !== void 0 ? _a : \"\");\n  }\n\n  cartLength() {\n    var _a, _b;\n\n    if (((_a = this.cart) === null || _a === void 0 ? void 0 : _a.length) == 0) {\n      return \"0\";\n    }\n\n    var totalCount = 0;\n    (_b = this.cart) === null || _b === void 0 ? void 0 : _b.forEach(product => {\n      var _a;\n\n      totalCount += (_a = product.quantity) !== null && _a !== void 0 ? _a : 0;\n    });\n    return totalCount;\n  }\n\n  updateCurrency(currency) {\n    Globals.selectedCurrency = currency;\n\n    if (isPlatformBrowser(this.platformID)) {\n      localStorage.setItem(\"LOCAL_CURRENCY\", currency.currency_name);\n    }\n\n    this.cdr.detectChanges();\n  }\n\n  viewCart() {\n    const modalRef = this.modalService.open(CartComponent, {\n      size: \"lg\"\n    }); // modalRef.componentInstance.authMode = 1\n  } // ?product_type=Dresses\n\n\n  formatPrice(price) {\n    var priceAsString = new String((price * Globals.selectedCurrency.rate).toFixed(2));\n    let index = priceAsString.indexOf(\".\");\n\n    switch (index) {\n      case priceAsString.length - 1:\n        priceAsString += \"00\";\n        break;\n\n      case priceAsString.length - 2:\n        priceAsString += \"0\";\n        break;\n\n      default:\n        break;\n    }\n\n    return this.getCurrencyForCountry(Globals.selectedCurrency, Globals.selectedCurrency.name != \"US\") + priceAsString;\n  }\n\n  isMobile() {\n    if (isPlatformBrowser(this.platformID)) {\n      let height = window.innerHeight;\n      let width = window.innerWidth;\n      return width < height;\n    }\n\n    return false;\n  }\n\n  getCurrencyForCountry(country, shouldShowName) {\n    var returnItem = country.currency_symbol;\n    if (shouldShowName) returnItem = country.name + \" \" + returnItem;\n    return returnItem;\n  }\n\n  applyProductFilter(template) {\n    var _a;\n\n    let id = template === null || template === void 0 ? void 0 : template.productCode;\n    this.mode = this.titleCase((_a = template === null || template === void 0 ? void 0 : template.templateDisplayName) !== null && _a !== void 0 ? _a : \"All Products\");\n\n    if (Globals.storeInfo.username) {\n      this.loadService.myCallback = () => this.cdr.detectChanges(); // this.loadService.getPosts(id)\n\n\n      this.loadService.getPosts(products => {\n        this.loadService.setFilterProducts(products);\n      }, id);\n    }\n  }\n\n  isShopComponent() {\n    var _a, _b, _c, _d;\n\n    let config = (_d = (_c = (_b = (_a = this.router.snapshot.firstChild) === null || _a === void 0 ? void 0 : _a.routeConfig) === null || _b === void 0 ? void 0 : _b.path) === null || _c === void 0 ? void 0 : _c.split('/')) !== null && _d !== void 0 ? _d : [];\n    return config[config.length - 1] == \"products\";\n  }\n\n  shouldShowCurrency() {\n    // return this.loadService.shouldShowCurrency\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y;\n\n    let product = (_a = this.router.snapshot.firstChild) === null || _a === void 0 ? void 0 : _a.paramMap.get('product');\n    return ((_b = this.router.snapshot.firstChild) === null || _b === void 0 ? void 0 : _b.params) == ShopComponent || product != undefined || ((_e = (_d = (_c = this.router.snapshot.firstChild) === null || _c === void 0 ? void 0 : _c.routeConfig) === null || _d === void 0 ? void 0 : _d.path) === null || _e === void 0 ? void 0 : _e.includes(\"products\")) || ((_h = (_g = (_f = this.router.snapshot.firstChild) === null || _f === void 0 ? void 0 : _f.routeConfig) === null || _g === void 0 ? void 0 : _g.path) === null || _h === void 0 ? void 0 : _h.includes(\"home\")) || ((_l = (_k = (_j = this.router.snapshot.firstChild) === null || _j === void 0 ? void 0 : _j.routeConfig) === null || _k === void 0 ? void 0 : _k.path) === null || _l === void 0 ? void 0 : _l.includes(\"cart\")) || ((_p = (_o = (_m = this.router.snapshot.firstChild) === null || _m === void 0 ? void 0 : _m.routeConfig) === null || _o === void 0 ? void 0 : _o.path) === null || _p === void 0 ? void 0 : _p.includes(\"shipping-address\")) || ((_s = (_r = (_q = this.router.snapshot.firstChild) === null || _q === void 0 ? void 0 : _q.routeConfig) === null || _r === void 0 ? void 0 : _r.path) === null || _s === void 0 ? void 0 : _s.includes(\"billing-info\")) || ((_v = (_u = (_t = this.router.snapshot.firstChild) === null || _t === void 0 ? void 0 : _t.routeConfig) === null || _u === void 0 ? void 0 : _u.path) === null || _v === void 0 ? void 0 : _v.includes(\"review-order\")) || ((_y = (_x = (_w = this.router.snapshot.firstChild) === null || _w === void 0 ? void 0 : _w.routeConfig) === null || _x === void 0 ? void 0 : _x.path) === null || _y === void 0 ? void 0 : _y.includes(\"my-store\"));\n  }\n\n  hideCart() {\n    var _a, _b;\n\n    return ((_a = this.router.snapshot.firstChild) === null || _a === void 0 ? void 0 : _a.component) == ViewOrderComponent || ((_b = this.router.snapshot.firstChild) === null || _b === void 0 ? void 0 : _b.component) == ViewOrderInfoComponent;\n  }\n\n  isBrowser() {\n    return isPlatformBrowser(this.platformID);\n  }\n\n  titleCase(str) {\n    var splitStr = str.toLowerCase().split(' ');\n\n    for (var i = 0; i < splitStr.length; i++) {\n      // You do not need to check if i is larger than splitStr length, as your for does that for you\n      // Assign it back to the array\n      splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n    } // Directly return the joined string\n\n\n    return splitStr.join(' ');\n  }\n\n  setFavIcon(link) {\n    if (isPlatformBrowser(this.platformID)) document.getElementById('appIcon').setAttribute('href', link);\n  }\n\n  ngOnInit() {\n    // this.setFavIcon(\"https://www.thredapps.com/favicon.ico\")\n    // OR \n    this.loadService.rootComponent = this;\n    this.setOptions();\n  }\n\n}\n\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(PLATFORM_ID), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.LoadService), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i1.Router));\n};\n\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[3, \"hidden\", \"class\", 4, \"ngIf\"], [3, \"hidden\"], [1, \"container\", \"px-4\", \"px-lg-5\"], [3, \"src\"], [\"role\", \"button\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\", \"mt-2\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-lg-0\", \"ms-lg-4\"], [1, \"nav-item\"], [\"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".navbar-collapse.show\", \"aria-current\", \"page\", \"role\", \"button\", 1, \"nav-link\", 3, \"click\"], [\"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".navbar-collapse.show\", \"role\", \"button\", 1, \"nav-link\", 3, \"click\"], [\"class\", \"nav-item dropdown\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"nav-item\", \"dropdown\", 3, \"hidden\"], [\"id\", \"navbarDropdown\", \"role\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [\"aria-labelledby\", \"navbarDropdown\", 1, \"dropdown-menu\"], [4, \"ngFor\", \"ngForOf\"], [1, \"navbar-nav\", \"me-0\", \"mb-2\", \"ms-auto\", \"mb-lg-0\", \"ms-lg-0\"], [\"class\", \"d-flex\", 4, \"ngIf\"], [\"class\", \"d-flex mt-1 mb-1\", 3, \"hidden\", 4, \"ngIf\"], [1, \"nav-item\", \"dropdown\"], [\"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".navbar-collapse.show\", \"role\", \"button\", 1, \"dropdown-item\", 3, \"click\"], [1, \"dropdown-divider\"], [1, \"d-flex\"], [\"id\", \"navbarDropdown\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"me-2\"], [1, \"rounded-circle\", 3, \"src\"], [\"aria-labelledby\", \"navbarDropdown\", 1, \"dropdown-menu\", \"mb-2\"], [1, \"d-flex\", \"mt-1\", \"mb-1\", 3, \"hidden\"], [\"data-bs-toggle\", \"collapse\", \"data-bs-target\", \".navbar-collapse.show\", \"role\", \"button\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AppComponent_nav_0_Template, 26, 30, \"nav\", 0);\n      i0.ɵɵelement(1, \"router-outlet\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.isBrowser());\n    }\n  },\n  directives: [i4.NgIf, i1.RouterOutlet, i4.NgForOf],\n  styles: [\"img[_ngcontent-%COMP%]{max-width:30px;height:auto}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.smallTitle[_ngcontent-%COMP%]{font-size:4.5vw}.bigTitle[_ngcontent-%COMP%]{font-size:1.25vw}\"]\n});","map":null,"metadata":{},"sourceType":"module"}