{"ast":null,"code":"import { PLATFORM_ID } from '@angular/core';\nimport { Globals } from '../globals';\nimport { isPlatformBrowser } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"../services/load.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction ArticleComponent_router_outlet_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"router-outlet\");\n  }\n}\n\nfunction ArticleComponent_header_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"header\", 4);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"p\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", ((tmp_0_0 = ctx_r1.selectedBlog()) == null ? null : tmp_0_0.title) == undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.selectedBlog().title, \" \");\n  }\n}\n\nfunction ArticleComponent_section_2_div_3_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 15);\n  }\n\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"src\", item_r5.Content, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction ArticleComponent_section_2_div_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.Content, \" \");\n  }\n}\n\nfunction ArticleComponent_section_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, ArticleComponent_section_2_div_3_img_1_Template, 1, 1, \"img\", 13);\n    i0.ɵɵtemplate(2, ArticleComponent_section_2_div_3_ng_template_2_Template, 2, 1, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n\n    const _r7 = i0.ɵɵreference(3);\n\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r4.isText(item_r5))(\"ngIfElse\", _r7);\n  }\n}\n\nconst _c0 = function () {\n  return [];\n};\n\nfunction ArticleComponent_section_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 8);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵtemplate(3, ArticleComponent_section_2_div_3_Template, 4, 2, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", ctx_r2.blogItems() == i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.blogItems());\n  }\n}\n\nfunction ArticleComponent_footer_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"footer\", 17);\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelementStart(2, \"p\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 18);\n    i0.ɵɵelementStart(5, \"p\", 19);\n    i0.ɵɵtext(6, \"Made with Thred\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Copyright \\u00A9 \", ctx_r3.storeInfo().fullName, \" 2021\");\n  }\n}\n\nexport let ArticleComponent = /*#__PURE__*/(() => {\n  class ArticleComponent {\n    constructor(platformID, cdr, router, titleService, metaService, loadService) {\n      this.platformID = platformID;\n      this.cdr = cdr;\n      this.router = router;\n      this.titleService = titleService;\n      this.metaService = metaService;\n      this.loadService = loadService;\n      this.defaultBio = \"Hello! <br/><br/>FULL9NAME was made for creative trail blazers like you. The dreamers who seek new adventures that warp reality and transcend time. Our lust for life lives on through our unique pieces. Here’s your chance to display inspiration, love, heartache, vibes in the form of a unique piece of clothing/accessory not found anywhere else in the world but here… <br/><br/>With a purchase of FULL9NAME you show the world that you are a free thinker, and belong to the tribe of dreamers. We welcome you with open arms. <br/><br/> We are FULL9NAME.\";\n    }\n\n    storeInfo() {\n      return Globals.storeInfo;\n    }\n\n    availableCurrencies() {\n      return Globals.availableCurrencies;\n    }\n\n    selectedCurrency() {\n      return Globals.selectedCurrency;\n    }\n\n    templates() {\n      return Globals.availableTemplates;\n    }\n\n    availableTemplates() {\n      return Globals.availableTemplates;\n    }\n\n    products() {\n      return Globals.products;\n    }\n\n    blogs() {\n      return Globals.blogs;\n    }\n\n    selectedBlog() {\n      return Globals.selectedBlog;\n    }\n\n    blogItems() {\n      var _a, _b;\n\n      return (_b = (_a = this.selectedBlog()) === null || _a === void 0 ? void 0 : _a.blogItems) !== null && _b !== void 0 ? _b : [];\n    }\n\n    isBrowser() {\n      return isPlatformBrowser(this.platformID);\n    }\n\n    isText(item) {\n      return item.Type == \"Text\";\n    }\n\n    storeBio() {\n      var _a, _b, _c;\n\n      let bio = this.storeInfo().bio;\n\n      if (bio == \"\" || bio == undefined) {\n        return this.defaultBio.replace(/FULL9NAME/g, (_b = (_a = this.storeInfo().fullName) === null || _a === void 0 ? void 0 : _a.trim()) !== null && _b !== void 0 ? _b : \"This brand\");\n      }\n\n      return (_c = bio.replace(/\\n/g, \"<br>\")) !== null && _c !== void 0 ? _c : \"\";\n    }\n\n    ngOnInit() {\n      this.init();\n    }\n\n    checkLoad(blogID) {\n      var _a, _b, _c, _d, _e;\n\n      if (Globals.selectedBlog == undefined) {\n        this.loadService.getBlog(blogID);\n        return;\n      } else {\n        this.addTags((_b = (_a = Globals.selectedBlog) === null || _a === void 0 ? void 0 : _a.title) !== null && _b !== void 0 ? _b : \"\", (_e = (_d = (_c = Globals.selectedBlog) === null || _c === void 0 ? void 0 : _c.coverURl) === null || _d === void 0 ? void 0 : _d.toString()) !== null && _e !== void 0 ? _e : \"\", \"\", \"https://shopmythred.com\");\n\n        if (isPlatformBrowser(this.platformID)) {\n          if (Globals.storeInfo.uid == undefined) {\n            const storeName = this.getStoreName();\n            this.loadService.getUser(storeName);\n            return;\n          } else {\n            //ADD TAGS\n            //console.log(glob.selectedCurrency.flag)\n            this.cdr.detectChanges();\n          }\n        }\n      }\n    }\n\n    init() {\n      const blogID = this.getArticleID();\n      Globals.selectedBlog = undefined;\n\n      this.loadService.myCallback = () => this.checkLoad(blogID);\n\n      this.checkLoad(blogID);\n    }\n\n    getArticleID() {\n      const routeParams = this.router.snapshot.paramMap;\n      const productID = routeParams.get('article'); // Find the product that correspond with the id provided in route.\n\n      console.log(productID);\n      return productID;\n    }\n\n    addTags(title, imgUrl, description, url) {\n      var _a, _b;\n\n      this.metaService.updateTag({\n        property: 'og:title',\n        content: title\n      });\n      this.metaService.updateTag({\n        property: 'og:image',\n        content: imgUrl\n      });\n      this.metaService.updateTag({\n        property: 'og:url',\n        content: url\n      });\n      this.metaService.updateTag({\n        property: 'og:description',\n        content: description\n      });\n      var newTitle = title;\n\n      if (Globals.storeInfo.fullName) {\n        newTitle += (_b = \" - \" + ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.fullName)) !== null && _b !== void 0 ? _b : \"\";\n      }\n\n      this.titleService.setTitle(newTitle);\n      this.metaService.updateTag({\n        property: 'description',\n        content: description\n      });\n    }\n\n    getStoreName() {\n      const routeParams = this.router.snapshot.paramMap;\n      const storeID = routeParams.get('user'); // Find the product that correspond with the id provided in route.\n\n      console.log(storeID);\n      return storeID;\n    }\n\n  }\n\n  ArticleComponent.ɵfac = function ArticleComponent_Factory(t) {\n    return new (t || ArticleComponent)(i0.ɵɵdirectiveInject(PLATFORM_ID), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Title), i0.ɵɵdirectiveInject(i2.Meta), i0.ɵɵdirectiveInject(i3.LoadService));\n  };\n\n  ArticleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArticleComponent,\n    selectors: [[\"app-article\"]],\n    decls: 4,\n    vars: 4,\n    consts: [[4, \"ngIf\"], [\"class\", \"bg-dark py-6\", 4, \"ngIf\"], [\"class\", \"py-5\", 4, \"ngIf\"], [\"class\", \"py-5 bg-dark\", 4, \"ngIf\"], [1, \"bg-dark\", \"py-6\"], [1, \"cover\", 2, \"background-image\", \"url(https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2FSample-Walls%2FHome%2F1.jpg?alt=media)\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", 2, \"height\", \"300px\", \"font-weight\", \"bold\", \"font-size\", \"40px\", 3, \"hidden\"], [1, \"text-center\", 2, \"line-height\", \"1.2em\", \"text-shadow\", \"2px 2px #42424281\"], [1, \"py-5\"], [1, \"container\", \"px-4\", \"px-lg-5\", \"mt-5\", 3, \"hidden\"], [1, \"row\", \"gx-4\", \"gx-lg-5\", \"row-cols-1\", \"row-cols-md-1\", \"row-cols-xl-1\", \"justify-content-center\"], [\"class\", \"col mb-5\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\", \"mb-5\"], [\"class\", \"card-img-top\", \"alt\", \"ok\", \"onerror\", \"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"alt\", \"ok\", \"onerror\", \"this.src='https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flink_empty.jpeg?alt=media';\", 1, \"card-img-top\", 3, \"src\"], [1, \"text-left\", 2, \"font-size\", \"20px\", \"line-height\", \"1.2em\"], [1, \"py-5\", \"bg-dark\"], [1, \"container\"], [1, \"m-0\", \"text-center\", \"text-white\"]],\n    template: function ArticleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ArticleComponent_router_outlet_0_Template, 1, 0, \"router-outlet\", 0);\n        i0.ɵɵtemplate(1, ArticleComponent_header_1_Template, 5, 2, \"header\", 1);\n        i0.ɵɵtemplate(2, ArticleComponent_section_2_Template, 4, 3, \"section\", 2);\n        i0.ɵɵtemplate(3, ArticleComponent_footer_3_Template, 7, 1, \"footer\", 3);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.isBrowser());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isBrowser());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isBrowser());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isBrowser());\n      }\n    },\n    directives: [i4.NgIf, i1.RouterOutlet, i4.NgForOf],\n    styles: [\".centered[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.cover[_ngcontent-%COMP%]{color:#fff;position:relative;background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-attachment:fixed;background-size:cover}\"]\n  });\n  return ArticleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}