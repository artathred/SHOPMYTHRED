{"ast":null,"code":"import _asyncToGenerator from \"/Users/artakoroushnia/Desktop/thred-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate, __param } from \"tslib\";\nimport { Component, PLATFORM_ID, Inject } from '@angular/core';\nimport * as AOS from 'aos';\nimport { Globals } from '../globals';\nimport { isPlatformBrowser } from '@angular/common';\nlet LandingComponent = class LandingComponent {\n  constructor(loadService, platformID, _router, titleService, metaService, cdr) {\n    this.loadService = loadService;\n    this.platformID = platformID;\n    this._router = _router;\n    this.titleService = titleService;\n    this.metaService = metaService;\n    this.cdr = cdr;\n    this.signedIn = undefined;\n  }\n\n  ngOnInit() {\n    if (isPlatformBrowser(this.platformID)) {\n      AOS.init();\n      this.isSignedIn();\n    }\n\n    this.addTags(\"Thred - Get Started\", \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flanding_page.png?alt=media\", \"Start your store in 30 seconds, free.\", \"shopmythred.com\");\n  }\n\n  isBrowser() {\n    return isPlatformBrowser(this.platformID);\n  }\n\n  isSignedIn() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      if ((yield _this.loadService.authenticated()) && !((_a = yield _this.loadService.isLoggedIn()) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n        _this.signedIn = true;\n      } else {\n        _this.signedIn = false;\n      }\n\n      _this.cdr.detectChanges();\n    })();\n  }\n\n  addTags(title, imgUrl, description, url) {\n    this.metaService.updateTag({\n      property: 'og:title',\n      content: title\n    });\n    this.metaService.updateTag({\n      property: 'og:image',\n      content: imgUrl\n    });\n    this.metaService.updateTag({\n      property: 'og:url',\n      content: url\n    });\n    this.metaService.updateTag({\n      property: 'og:description',\n      content: description\n    });\n    this.titleService.setTitle(title);\n    this.metaService.updateTag({\n      property: 'description',\n      content: description\n    });\n  }\n\n  route(signedIn) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      if (signedIn) {\n        if ((yield _this2.loadService.authenticated()) && !((_a = yield _this2.loadService.isLoggedIn()) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n          // this.routeToProfile()\n          _this2.loadService.myCallback = () => {\n            var _a;\n\n            Globals.storeInfo = JSON.parse(JSON.stringify(Globals.userInfo));\n            Globals.products = undefined;\n            console.log(Globals.storeInfo);\n\n            _this2._router.navigateByUrl(((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) + \"/\" + \"my-store\");\n          };\n\n          yield _this2.loadService.getCustomer();\n        } else {\n          _this2._router.navigateByUrl(\"thred\" + \"/\" + \"home\");\n        }\n      } else {\n        window.scrollTo(0, 0);\n      }\n    })();\n  }\n\n  myInnerHeight() {\n    let height = window.screen.height;\n    let width = window.screen.width;\n\n    if (width < height) {\n      console.log(window);\n      return width * 0.7;\n    } else {\n      return height * 0.8;\n    }\n  }\n\n  routeToHome() {\n    var _a, _b;\n\n    if ((_a = Globals.storeInfo) === null || _a === void 0 ? void 0 : _a.username) this._router.navigateByUrl(((_b = Globals.storeInfo) === null || _b === void 0 ? void 0 : _b.username) + \"/\" + \"home\");\n  }\n\n  getStarted() {\n    if (this.signedIn) {\n      this.route(true);\n    } else {\n      window.scrollTo(0, 0);\n    }\n  }\n\n};\nLandingComponent = __decorate([Component({\n  selector: 'app-landing',\n  templateUrl: './landing.component.html',\n  styleUrls: ['./landing.component.css']\n}), __param(1, Inject(PLATFORM_ID))], LandingComponent);\nexport { LandingComponent };","map":{"version":3,"sources":["/Users/artakoroushnia/Desktop/thred-web/src/app/landing/landing.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, PLATFORM_ID, Inject, ChangeDetectorRef } from '@angular/core';\nimport * as AOS from 'aos';\nimport { LoadService } from '../services/load.service';\nimport { Globals } from '../globals';\nimport { Router } from '@angular/router';\nimport { Title, Meta } from '@angular/platform-browser';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'app-landing',\n  templateUrl: './landing.component.html',\n  styleUrls: ['./landing.component.css']\n})\nexport class LandingComponent implements OnInit {\n\n  signedIn: any = undefined\n\n  constructor(\n    private loadService: LoadService,\n    @Inject(PLATFORM_ID) private platformID: Object,\n    private _router: Router,\n    private titleService: Title, \n    private metaService: Meta,\n    private cdr: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    \n    if (isPlatformBrowser(this.platformID)){\n      AOS.init();\n      this.isSignedIn()\n    }\n\n    this.addTags(\"Thred - Get Started\", \"https://firebasestorage.googleapis.com/v0/b/clothingapp-ed125.appspot.com/o/Resources%2Flanding_page.png?alt=media\", \"Start your store in 30 seconds, free.\", \"shopmythred.com\")\n  }\n\n  isBrowser(){\n    return isPlatformBrowser(this.platformID)\n  }\n\n  async isSignedIn(){\n    if (await this.loadService.authenticated() && !((await this.loadService.isLoggedIn())?.isAnonymous)){\n      this.signedIn = true\n    }\n    else{\n      this.signedIn = false\n    }\n    this.cdr.detectChanges()\n  }\n\n  addTags(title: string, imgUrl: string, description: string, url: string){\n    this.metaService.updateTag({property: 'og:title', content: title});\n    this.metaService.updateTag({property: 'og:image', content: imgUrl});\n    this.metaService.updateTag({property: 'og:url', content: url})\n    this.metaService.updateTag({property: 'og:description', content: description})\n    this.titleService.setTitle(title)\n    this.metaService.updateTag({property: 'description', content: description})\n  }\n\n  async route(signedIn: boolean){\n    if (signedIn){\n      if (await this.loadService.authenticated() && !((await this.loadService.isLoggedIn())?.isAnonymous)){\n        // this.routeToProfile()\n        this.loadService.myCallback = () => {\n\n          Globals.storeInfo = JSON.parse(JSON.stringify(Globals.userInfo))\n          Globals.products = undefined\n          console.log(Globals.storeInfo)\n          this._router.navigateByUrl(Globals.storeInfo?.username + \"/\" + \"my-store\")\n        }\n        await this.loadService.getCustomer()\n      }\n      else{\n        this._router.navigateByUrl(\"thred\" + \"/\" + \"home\")\n      }\n    }\n    else{\n      window.scrollTo(0, 0);\n    }\n  }\n\n\n  myInnerHeight(){\n    let height = window.screen.height\n    let width = window.screen.width\n\n    if (width < height){\n      console.log(window)\n      return width * 0.7\n    }\n    else{\n      return height * 0.8\n    }\n  }\n\n  routeToHome(){\n    if (Globals.storeInfo?.username)\n    this._router.navigateByUrl(Globals.storeInfo?.username + \"/\" + \"home\")\n  }\n\n  getStarted(){\n    if(this.signedIn){\n      this.route(true)\n    }\n    else{\n      window.scrollTo(0, 0);\n    }\n  }\n\n}"],"sourceRoot":""},"metadata":{},"sourceType":"module"}